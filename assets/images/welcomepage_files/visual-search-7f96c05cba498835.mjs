(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,90907,17149,31600,92255],{542473:e=>{"use strict";e.exports=function(){}},405410:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="610a35d46510240eb58e262c1909310c",e.exports=a},327620:e=>{"use strict";var t,a,i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardBody_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{args:null,kind:"FragmentSpread",name:"RecipeMetadata_recipe"}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useNormalizePinData_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardAttribution_pin"}],type:"Pin",abstractKey:null};n.hash="833cd5d58bc1ac105444aa923e882675",e.exports=n},603239:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin2"}],type:"Pin",abstractKey:null};t.hash="a4b0b28d3f9f52a7e3d5874c94bfb63d",e.exports=t},822423:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="3286ed8ff7f456e30ce44b879fb3e273",e.exports=t},992872:e=>{"use strict";var t,a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="5d69c90881b2a9595cac9a9cb8cc1097",e.exports=a},717246:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin2"}],type:"Pin",abstractKey:null};t.hash="3f223f30a28328f76287f1fcf8c84a2a",e.exports=t},671704:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};t.hash="d0973811f6c08057de3b9f34d83c8a63",e.exports=t},225785:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightCropperContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightSpotlightDots_pin"}],type:"Pin",abstractKey:null};t.hash="17b1ebef1c9031212ecd7bd5be0e6151",e.exports=t},490644:e=>{"use strict";var t,a,i,n,l,r,s,o,d,c,u,p,g,m,h,y,_,f,x,v,b,S,w,k=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],a=[{kind:"Variable",name:"pin",variableName:"pinId"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},o={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:d=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},g={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},h={alias:"image564x",args:m=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"564x")'},_={alias:"image474x",args:y=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},x={alias:"image236x",args:f=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},S={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:v=[l,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:c,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:v,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:v,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:v,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:v,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,r,s,o,u,g,h,_,x,S,w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,r,s,o,u,g,h,_,x,S,w,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}});k.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=k,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(k.default||k)},568189:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightPageWithData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightResultGridContainer_pin"}],type:"Pin",abstractKey:null};t.hash="903db2b432ad0f02adcdca0d6515898d",e.exports=t},378605:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightResultGridContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"}],type:"Pin",abstractKey:null};t.hash="bcca3e8407135d3e3c7a0a8bacfabeff",e.exports=t},52892:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightSpotlightDots_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="3a8409077905af94eb39568e4a5a57fc",e.exports=t},612587:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:t,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};a.hash="4bee3a400f6e868da4c768b56562f0ea",e.exports=a},883597:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:"pinId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="e09face5ac4d794d890ecc87ca1a90a4",e.exports=t},43027:e=>{"use strict";var t,a,i,n,l,r,s,o,d,c,u,p,g,m,h,y,_,f,x,v,b,S,w,k,P=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],a=[{kind:"Variable",name:"pin",variableName:"pinId"}],i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:"imageOrig",args:r=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},c={alias:"image736x",args:d=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},p={alias:"image564x",args:u=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"564x")'},m={alias:"image474x",args:g=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},y={alias:"image236x",args:h=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},_={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},f={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[l,{alias:"imageOrig",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:"image736x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"image564x",args:u,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"564x")'},{alias:"image474x",args:g,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:v=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:r,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[l,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:s,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:u,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:v,storageKey:null},w={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,n,l,o,c,p,m,y,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[_,f],storageKey:null},b,S,w],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,n,l,o,c,p,m,y,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[_,f,k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,S,w,k],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"67eedd3e1834ee184411ff81c5eeea7cf9dc9ec53a5e099459966ce5369828ee",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});P.hash="1647166e8b02809a5f8ccfca2dc5019a",e.exports=P,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(P.default||P)},781426:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPage_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};t.hash="97621a830643ac50c2f15e7aa19a3b57",e.exports=t},468852:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsImageContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"}],type:"Pin",abstractKey:null};t.hash="63b7c7cb48b269ec7bd096ebb0e37dfb",e.exports=t},482495:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsPageWithData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsImageContent_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"}],type:"Pin",abstractKey:null};t.hash="dcd02fa7b3bcd48f4e3b8376109da44f",e.exports=t},966498:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsUnifiedFeed_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="12c4e9ff114eb53a8da6ef7727d72985",e.exports=t},282167:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};t.hash="058a61f5e0b72dbde337960de273d6a5",e.exports=t},676684:e=>{"use strict";var t,a,i,n,l,r,s,o,d,c,u,p,g,m,h,y,_,f,x,v,b,S,w,k,P,T,j,I,F,C,A,E,D,R,L,M,Z,O,K,z,N,H,G,B,$,U,W,V,Y,q,X,Q,J,ee,et=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],a=[{kind:"Variable",name:"pin",variableName:"pinId"}],i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},_={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},w=[x={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],k=[i,x,v,b,S],P={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},E={alias:"imageOrig",args:j=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A=[I={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},y,F={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},R={alias:"image564x",args:D=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"564x")'},M={alias:"image736x",args:L=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"736x")'},O={alias:"image474x",args:Z=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"474x")'},z={alias:"image236x",args:K=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"236x")'},N={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},H={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},B={alias:"additionalImageOrig",args:j,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G=[n,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[C,y,I],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},Y={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null},q={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,o,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[h,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[h,F],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,H,B,$={alias:"additionalImage564x",args:D,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"564x")'},U={alias:"additionalImage736x",args:L,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"736x")'},W={alias:"additionalImage474x",args:Z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"474x")'},V={alias:"additionalImage236x",args:K,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[n,Y],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,H,B,$,U,W,V,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[Y,n],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},J=[x,v,b,S,Q={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],ee=[i,x,v,b,S,Q],{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,n,l,r,s,o,d,c,u,p,g,m,_,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[f],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:w,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,P,h,T,y],storageKey:null},E,R,M,O,z,N,q,X],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,n,l,r,s,o,d,c,u,p,g,m,_,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[f,Q],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:J,storageKey:null},Q],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,P,h,T,y,Q],storageKey:null},E,R,M,O,z,N,q,X,Q],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});et.hash="41066749b18be6f77425904cd44e3d69",e.exports=et,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(et.default||et)},875666:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="ef57e3f96ab6a0ba7ea79d9d2bb3c326",e.exports=t},161186:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetInitialCropArea_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="120ad104e33b94ab10be1098dc10d74b",e.exports=t},469656:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="3d7a6d04f923d00acfb2887f852aea16",e.exports=a},124495:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};t.hash="6016b14b2081c4349ad3f3a910cc2ea7",e.exports=t},579744:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="f59a904fce00a4dccdfb5e76e2824d4a",e.exports=a},270643:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="dbfca9820e0aa1302554a0137a270b16",e.exports=t},47737:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNormalizePinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null};a.hash="01a93671cde480baa2cfd8b781589acd",e.exports=a},669926:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="461a57fcc8f7958e3742c217e4cc45a2",e.exports=t},680880:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="a3cbf6d55cf89d97d6e04c32195968d9",e.exports=a},460863:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};a.hash="b7ea441f2c20a68b323088ebe3847835",e.exports=a},283996:e=>{"use strict";var t,a,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:a=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};i.hash="6588018e2880f2695fc6c4ba45aab606",e.exports=i},240956:e=>{"use strict";var t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};a.hash="b49953855cdc69f6ee2c8d4925149d23",e.exports=a},269458:(e,t,a)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return a(434788).Z}},361259:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>u});var i=a(667294),n=a(425288),l=a(497529),r=a(780280),s=a(829407),o=a(785893);let{Provider:d,useHook:c}=(0,n.Z)("PinRep");function u({children:e}){let{isAuthenticated:t}=(0,r.B)(),[a,n]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),p=(0,l.Z)(1000069);(0,s.Z)(()=>{let e=async()=>{if(!t){n(!1);return}let e=await p.fetchAllExperiences();e&&e.payload&&e.payload.experiences?.[1000069]?.experience_id===500417&&e.payload.experiences?.[1000069]?.display_data.hide_footer?p.viewExperience(1000069,500417):n(!1),u(!0)};e()});let g=(0,i.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:a}),[c,a]);return(0,o.jsx)(d,{value:g,children:e})}},187638:(e,t,a)=>{"use strict";function i(e){switch(e){case"flashlight":return"flashlight";case"stela":return"stela";case"stl":return"stl";default:return null}}function n({isShopTheLook:e,showFlashlightButton:t,showShopButton:a,showStelaDotsOnScenePin:i}){return t&&!i?"flashlight":a?e?"stl":"stela":null}a.d(t,{W:()=>i,Z:()=>n})},813982:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var i=a(667294),n=a(883119),l=a(890921),r=a(407043),s=a(81636),o=a(356997),d=a(898781),c=a(865607),u=a(143649),p=a(785893);function g({cropSource:e,component:t,filterOptions:a,filterType:l,handleFilterChange:s,viewParameter:g,viewType:m}){let{logContextEvent:h}=(0,r.v)(),y=(0,d.ZP)(),_=i=>{let n=a[i];h({aux_data:{commerce_data:JSON.stringify({filter_value:n.string_value??n.numeric_value??n.search_type,select:!n.checked,source:(0,u.Z)({cropSource:e,viewType:m})}),filter_type:l},component:t,event_type:101,view_parameter:g,view_type:m}),s(i)};return(0,p.jsx)(i.Fragment,{children:a.map(({label:e,image_url:t,is_verified_merchant:a,checked:i},l)=>(0,p.jsx)(n.iP,{onTap:()=>_(l),children:(0,p.jsxs)(n.xu,{alignItems:"center","data-test-id":"multi-select-option",direction:"row",display:"flex",marginBottom:3,children:[(0,p.jsx)(n.xu,{marginEnd:3,children:(0,p.jsx)(o.qE,{name:e,size:"sm",src:t})}),(0,p.jsxs)(n.kC,{alignItems:"center",direction:"row",flex:"grow",children:[(0,p.jsx)(n.xv,{children:e}),a&&(0,p.jsx)(n.xu,{marginStart:1,children:(0,p.jsx)(c.Z,{isVerifiedMerchant:!0,size:"xs"})})]}),(0,p.jsx)(n.xu,{"data-test-id":i?"option-selected":void 0,margin:-2,marginBottom:-3,marginTop:-3,children:(0,p.jsx)(n.hU,{accessibilityLabel:y._('Domain Filter Option', 'UnifiedFilter.MultiSelectFilter.domainFilterOptionAccessibilityLabel', 'Accessibility label for radio button of domain filter choices'),icon:i?"check-circle":"circle-outline",iconColor:"darkGray",onClick:()=>_(l),size:"lg"})})]})},e))})}function m({children:e,filterOptions:t,filterType:a,title:s,viewLogData:o,viewParameter:c,viewType:u}){let{logContextEvent:g}=(0,r.v)(),m=(0,d.ZP)(),h=(0,l.Z)(),[y,_]=(0,i.useState)(!0),f=h?14325:13469;return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(n.xu,{marginBottom:2,children:(0,p.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(n.xv,{weight:"bold",children:s||m._('Sellers', 'UnifiedFilter.MultiSelectFilter.sellersHeaderText', 'ProductFilters.Domains.HeaderText')}),(0,p.jsx)(n.xu,{flex:"none",children:(0,p.jsx)(n.hU,{accessibilityLabel:m._('Domain filter', 'UnifiedFilter.MultiSelectFilter.domainFilterAccessibilityLabel', 'accessibility label for the icon button to open or close domain filter'),icon:y?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{_(!y),g({aux_data:{commerce_data:JSON.stringify({filter:y?"collapsed":"expanded"}),filter_type:a},component:f,element:h?13522:11547,event_type:101,view_parameter:c,view_type:u}),y||g(o)},size:"sm"})})]})}),y?e:(0,p.jsx)(n.xu,{width:"80%",children:(0,p.jsx)(n.xv,{color:"subtle",size:"200",children:function(e=[],t){let a=e.filter(e=>e.checked),i=a.length,n=0===i?t._('All', 'UnifiedFilter.MultiSelectFilter.allDomainsSelectedText', 'text indicates that no domain filter is currently applied for filtering'):`(${i}) ${a.map(e=>e.label).join(", ")}`;return n}(t,m)})})]})}function h({cropSource:e,filterOptions:t,filterType:a,handleFilterChange:i,isCollapsible:n,title:o,viewParameter:d,viewType:c}){let{logContextEvent:h}=(0,r.v)(),y=(0,l.Z)(),_=y?14325:13469,f={aux_data:{commerce_data:JSON.stringify({source:(0,u.Z)({cropSource:e,viewType:c})}),filter_type:a},component:_,event_type:13,view_parameter:d,view_type:c},x=(0,p.jsx)(g,{component:_,cropSource:e,filterOptions:t,filterType:a,handleFilterChange:n=>{let l=t[n];h({aux_data:{commerce_data:JSON.stringify({filter_value:l.string_value??l.numeric_value??l.search_type,select:!l.checked,source:(0,u.Z)({cropSource:e,viewType:c})}),filter_type:a},component:_,event_type:101,view_parameter:d,view_type:c}),i(n)},viewParameter:d,viewType:c});return(0,p.jsx)(s.Z,{log:f,children:n?(0,p.jsx)(m,{filterOptions:t,filterType:a,title:o,viewLogData:f,viewParameter:d,viewType:c,children:x}):x})}},914917:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var i=a(667294),n=a(883119),l=a(479216),r=a(529518),s=a(780280),o=a(785893);function d(e,t,a,i){let n=(0,r.c3)((0,r.$X)(e,!!t),a,!!t);return i&&(n=n.slice(0,-3)),n}function c({valueInMicroCurrency:e,requestContext:t,currencyCode:a,disableAutoFormatOnChange:s,hasFractionalCents:c,roundValue:u,onValueParsed:p,autoComplete:g,placeholder:m,errorMessage:h,id:y}){let _=a&&l.XD[a]||"",f="";if("number"==typeof e){let a=d(e,c,t.locale,u);f=`${_}${a}`}let[x,v]=(0,i.useState)(f);(0,i.useEffect)(()=>{if(!s&&null!=e&&""===x){let a=d(e,c,t.locale,u);v(a)}},[x,s,c,t,u,e]);let b=(e,a,i,n)=>{let l="";if(null==e)l="";else{let a=d(e,i,t.locale,n);l=`${_}${a}`}return l},S=()=>{let e;let a=(0,r.qq)(x,t.locale,!!c);e=""===x?null:Number.isNaN(a)?Number.MIN_VALUE:(0,r.y)(a,!!c);let i=b(e,x,!!c,u);v(i),p(e)};return(0,o.jsx)(n.nv,{autoComplete:g,errorMessage:h,id:y,onBlur:()=>{S()},onChange:({value:e})=>v(e),placeholder:m,size:"lg",value:x})}function u(e){return(0,o.jsx)(c,{...e,requestContext:(0,s.B)()})}var p=a(898781);function g({CustomMaxField:e,CustomMinField:t,handleMaxChange:a,handleMinChange:l,maxHeading:r,minHeading:s,max:d,min:c}){let u=(0,p.ZP)();return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsxs)(n.kC,{direction:"row",children:[(0,o.jsx)(n.sg,{span:7,children:(0,o.jsx)(n.xv,{size:"200",children:s??u._('Min', 'rangeFilter.min', 'Minimum Range')})}),(0,o.jsx)(n.sg,{span:5,children:(0,o.jsx)(n.xv,{size:"200",children:r??u._('Max', 'rangeFilter.max', 'Maximum Range')})})]}),(0,o.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",marginTop:2,children:[(0,o.jsx)(n.sg,{span:5,children:t?(0,o.jsx)(t,{value:c}):(0,o.jsx)(n.Ki,{autoComplete:"off",id:"min",onChange:({value:e})=>{l&&l(e)},size:"lg",value:c})}),(0,o.jsx)(n.sg,{span:2,children:(0,o.jsx)(n.xv,{align:"center",color:"subtle",size:"200",children:u._('to', 'Min to Max', 'Min to Max')})}),(0,o.jsx)(n.sg,{span:5,children:e?(0,o.jsx)(e,{value:d}):(0,o.jsx)(n.Ki,{autoComplete:"off",id:"max",onChange:({value:e})=>{a&&a(e)},size:"lg",value:d})})]})]})}var m=a(890921),h=a(407043),y=a(829407),_=a(652519),f=a(143649);function x({children:e,currencyCode:t,defaultMaxPrice:a,defaultMinPrice:r,filterType:s,logViewEvent:d,maxPrice:c,minPrice:u,title:g,viewParameter:y,viewType:_}){let{logContextEvent:f}=(0,h.v)(),x=(0,p.ZP)(),v=(0,m.Z)(),b=l.XD[t]||"",[S,w]=(0,i.useState)(!0),k=v?14324:13468;return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,o.jsx)(n.xu,{"data-test-id":"price-filter-label",children:(0,o.jsx)(n.xv,{weight:"bold",children:g||x._('Price', 'Header of product price filter', 'Header of product price filter')})}),(0,o.jsx)(n.xu,{flex:"none",children:(0,o.jsx)(n.hU,{accessibilityLabel:x._('Price filter', 'accessibility label for the icon button to open or close price filter', 'accessibility label for the icon button to open or close price filter'),icon:S?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{w(!S),f({event_type:101,component:k,element:v?13522:11547,view_type:_,view_parameter:y,aux_data:{commerce_data:JSON.stringify({filter:S?"collapsed":"expanded"}),filter_type:s}}),S||d()},size:"sm"})})]}),S?e:(0,o.jsx)(n.xv,{color:"subtle",size:"200",children:-1===c&&-1===u?x._('All', 'text indicates that no price filter is currently applied for filtering', 'text indicates that no price filter is currently applied for filtering'):-1===c?`${b}${u}  ${b}${Math.ceil(a)}+`:-1===u?`${b}${Math.floor(r)}  ${b}${c}`:`${b}${u}  ${b}${c}`})]})}function v({cropSource:e,currencyCode:t,defaultMaxPrice:a,defaultMinPrice:i,disableAutoFormatOnChange:r,handleMaxPriceChange:s,handleMinPriceChange:d,instructions:c,maxPrice:m,minPrice:h,onRangeChange:y,uiType:f}){let x=(0,p.ZP)(),v=l.XD[t]||"",b=Math.ceil(a),S=Math.floor(i),w=-1===h&&-1===m;return(0,o.jsxs)(n.xu,{paddingY:4,children:["slider"===f&&(0,o.jsx)(_.Z,{cropSource:e,currencyType:t,handlePriceChange:([e,t])=>{y?.(),e!==h&&d(e),t!==m&&s(t)},instructions:c||"",lowerBound:i,maxPrice:m,minPrice:h,upperBound:a}),"number-boxes"===f&&(0,o.jsx)(g,{CustomMaxField:({value:e})=>(0,o.jsx)(n.xu,{"data-test-id":"max-price-filter",children:(0,o.jsx)(u,{autoComplete:"off",currencyCode:t,disableAutoFormatOnChange:r,id:"max_price",onValueParsed:e=>{s((e||0)/1e6)},placeholder:`${v}${b}`,roundValue:!0,valueInMicroCurrency:w?null:e})}),CustomMinField:({value:e})=>(0,o.jsx)(n.xu,{"data-test-id":"min-price-filter",children:(0,o.jsx)(u,{autoComplete:"off",currencyCode:t,disableAutoFormatOnChange:r,id:"min_price",onValueParsed:e=>{d((e||0)/1e6)},placeholder:`${v}${S}`,roundValue:!0,valueInMicroCurrency:w?null:e})}),max:-1===m?1e6*b:1e6*m,maxHeading:x._('Max', 'Maximum Price', 'Maximum Price'),min:-1===h?1e6*S:1e6*h,minHeading:x._('Min', 'Minimum Price', 'Minimum Price')})]})}function b({cropSource:e,currencyCode:t,defaultMaxPrice:a,defaultMinPrice:n,disableAutoFormatOnChange:l,filterType:r,handleMaxPriceChange:s,handleMinPriceChange:d,instructions:c,isCollapsible:u,maxPrice:p,minPrice:g,onRangeChange:_,title:b,uiType:S,viewParameter:w,viewType:k}){let{logContextEvent:P}=(0,h.v)(),T=(0,m.Z)(),j=()=>{P({event_type:13,component:T?14324:13468,view_type:k,view_parameter:w,aux_data:{commerce_data:JSON.stringify({source:(0,f.Z)({cropSource:e,viewType:k})}),filter_type:r}})};return(0,y.Z)(()=>{j()}),(0,o.jsx)(i.Fragment,{children:u?(0,o.jsx)(x,{currencyCode:t,defaultMaxPrice:a,defaultMinPrice:n,filterType:r,logViewEvent:j,maxPrice:p,minPrice:g,title:b,viewParameter:w,viewType:k,children:(0,o.jsx)(v,{cropSource:e,currencyCode:t,defaultMaxPrice:a,defaultMinPrice:n,disableAutoFormatOnChange:l,handleMaxPriceChange:s,handleMinPriceChange:d,instructions:c,isCollapsible:!0,maxPrice:p,minPrice:g,onRangeChange:_,uiType:S})}):(0,o.jsx)(v,{cropSource:e,currencyCode:t,defaultMaxPrice:a,defaultMinPrice:n,disableAutoFormatOnChange:l,handleMaxPriceChange:s,handleMinPriceChange:d,instructions:c,maxPrice:p,minPrice:g,onRangeChange:_,uiType:S})})}},36022:(e,t,a)=>{"use strict";a.d(t,{$:()=>i,v:()=>n});let i=50,n={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},890921:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(773285),n=a(19121);function l(){let{isAuth:e,country:t}=(0,n.Z)(),{checkExperiment:a}=(0,i.F)();if(!e)return!1;let{anyEnabled:l}=a("web_search_unified_content_filters_international");return"US"===t||l}},180549:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var i=a(616550),n=a(883119),l=a(407043),r=a(558068),s=a(898781),o=a(785893);function d({arrowType:e,pinId:t,viewParameter:a,viewType:d}){let c=(0,s.ZP)(),u=(0,i.k6)(),{previous:p}=(0,r.Hv)(),{logContextEvent:g}=(0,l.v)();return(0,o.jsx)(n.xu,{"data-test-id":"go-back-button",children:(0,o.jsx)(n.hU,{accessibilityLabel:c._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:e??"directional-arrow-left",iconColor:"darkGray",onClick:()=>{if(g({event_type:101,view_type:d,element:34,view_parameter:a}),0===p.length){u.replace(`/pin/${t}/`);return}u.goBack()}})})}},363957:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(826067);function n(e){let t=(0,i.mB)(e.search),a=parseInt(t.x,10),n=parseInt(t.y,10),l=parseInt(t.w,10),r=parseInt(t.h,10),s=!function(...e){return e.every(Number.isInteger)}(a,n,l,r)?null:{x:a,y:n,w:l,h:r};return s}},862670:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var i,n=a(667294);a(167912);var l=a(485019),r=a(916117),s=a(223008),o=a(483205);let d=void 0!==i?i:i=a(161186);function c({pinKey:e}){let t=(0,r.Z)(d,e),{getNormalizedPinImage:a}=(0,s.Z)({pinKey:t,maxWidth:o.RZ}),{width:i,height:c}=a(),u=(0,n.useCallback)(({initialCropArea:e})=>e||{x:l.S,y:l.S,w:i-2*l.S,h:c-2*l.S},[c,i]);return{getInitialCropArea:u}}},175644:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var i=a(667294),n=a(883119),l=a(407043),r=a(444445),s=a(745312),o=a(96939),d=a(8742),c=a(785893);function u({action:e,component:t,dangerouslySetActionUrl:a,element:u,contextLogData:p,id:g,objects:m,pwtTrackImageLoad:h,surface:y,viewType:_,viewParameter:f}){let{logContextEvent:x}=(0,l.v)(),v=e?.url&&e.text?i=>(0,c.jsx)(o.Z,{coverImages:i.images,height:r.yF,onClick:()=>x({event_type:101,view_type:_,view_parameter:f,component:t,element:u,aux_data:{story_id:g,...p}}),text:e.text,url:a??e.url,width:r.yF},"actionBubble"):null,{containerRef:b,itemsToRender:S,actionItem:w}=(0,s.n)({items:m,itemWidth:r.yF,itemGap:r.oX,actionItemType:v?"one":void 0});return(0,i.useEffect)(()=>{S.length>0&&h&&h()},[S,h]),(0,c.jsxs)(s.Z,{containerRef:b,itemGap:r.oX,children:[S.map((e,a)=>(0,c.jsx)(n.xu,{"data-grid-item":"true",flex:"none",width:r.yF,children:(0,c.jsx)(d.ZP,{authDesktopSurface:y??"ShoppingDynamicHeightGrid",auxData:p,componentType:t,duploQueryRef:null,pin:e,pinId:e.id,pinImageCrop:{height:r.yF,width:r.yF},slotIndex:a,viewParameter:f,viewType:_})},e.id)),w&&v?.(w)]})}},175892:(e,t,a)=>{"use strict";a.d(t,{Z:()=>z});var i=a(616550),n=a(883119),l=a(407043),r=a(704115),s=a(829407),o=a(667294),d=a(898781),c=a(390598),u=a(214494),p=a(186656),g=a(121151),m=a(499128),h=a(897243),y=a(349700),_=a(784590),f=a(343341),x=a(19121),v=a(487392),b=a(785352),S=a(833991),w=a(977558),k=a(35066),P=a(970023),T=a(785893);let j=new n.H3([new n.Ry(S.HW),new n.Ry(w.fe)]);function I({onFileUpload:e}){let t=(0,d.ZP)(),[a,i]=(0,o.useState)(!1),l=(0,o.useRef)(null),r=t._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,T.jsxs)(n.kC,{justifyContent:"center",children:[(0,T.jsx)(n.hU,{ref:l,accessibilityExpanded:a,accessibilityHaspopup:!0,accessibilityLabel:t._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>i(e=>!e),size:"lg"}),a&&(0,T.jsx)(n.Lt,{anchor:l.current,disableMobileUI:!0,id:"product-group-image-dropdown",onDismiss:()=>i(!1),children:(0,T.jsx)(n.Lt.Item,{onSelect:()=>{i(!1),e()},option:{value:r,label:r}})})]})}function F({image:e,onFileUpload:t,onError:a}){let i=(0,d.ZP)(),l=i._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,T.jsxs)(n.xu,{position:"relative",children:[(0,T.jsx)(n.xu,{height:316,overflow:"hidden",rounding:5,width:316,children:(0,T.jsx)(n.Ee,{alt:l,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,onError:a,src:e})}),(0,T.jsx)(n.xu,{padding:4,position:"absolute",right:!0,top:!0,children:(0,T.jsx)(I,{onFileUpload:t})})]})}function C({onDismiss:e,onSubmit:t,productGroup:a}){let{logContextEvent:i}=(0,l.v)(),r=(0,d.ZP)(),s=r._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),c=(0,x.Z)(),S=c.id||"",w=`/v3/business/users/${S}/storefront/product_group_image/`,[I,C]=(0,o.useState)(""),[A,E]=(0,o.useState)(""),[D,R]=(0,o.useState)(),[L,M]=(0,o.useState)(),[Z,O]=(0,o.useState)(!1),[K,z]=(0,o.useState)(0),[N]=(0,o.useState)(new Date().getTime()),H=a.groupType!==P.yh,{merchantId:G,advertiserId:B}=(0,v.Z)(),{showOneToast:$}=(0,f.F9)(),{updateStorefrontLastUpdated:U}=(0,k.S)(),W=(0,b.I)({advertiserId:B,merchantId:G,productGroupsIds:[a.entityId],uniq:N},!1,!0),V=(0,_.Z)({name:"ApiResource",options:{url:w,data:{product_group_ids:[a.entityId]},uniq:N},noCache:!0}),Y=(0,o.useRef)(),q=Number(a.entityId),X=W.data?.find(e=>e.id===q),Q=W.isLoaded&&V.isLoaded,J=X&&(I!==X.name||A!==(X.description||"")||!!D),ee=X&&I!==X.name,et=X&&A!==(X.description||""),ea=Q&&((V.data?.[a.entityId]||{})[0]||{}),ei=ea?(0,P.cB)((0,h.b)(ea)):null,en=a.previewPins?.[0]||{},el=en.imageSignature,er=en.images&&(0,P.cB)(en.images),es=L||[ei,er].filter(e=>!!e)[K];(0,o.useEffect)(()=>{X&&(C(X.name||""),E(X.description||""))},[X]),(0,o.useEffect)(()=>{i({event_type:9854,component:13998})},[i]);let eo=()=>{e(),i({event_type:9856,component:13998})},ed=r._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),ec=r._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,T.jsx)(n.mh,{zIndex:j,children:(0,T.jsx)(g.ZP,{accessibilityModalLabel:s,align:"center",footer:Q?(0,T.jsxs)(n.kC,{alignItems:"start",children:[(0,T.jsx)(n.xu,{width:"50%",children:(0,T.jsx)(n.xv,{size:"300",children:(0,y.nk)(r._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,T.jsx)(n.rU,{display:"inlineBlock",href:"/product-catalogs",target:"blank",underline:"hover",children:(0,T.jsx)(n.xv,{inline:!0,weight:"bold",children:r._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,T.jsx)(n.xu,{width:"50%",children:(0,T.jsxs)(n.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[(0,T.jsx)(n.zx,{color:"gray",onClick:eo,text:ec}),(0,T.jsx)(n.zx,{color:"red",disabled:!J,onClick:()=>{let n=ei?D:D||el,l=[],s=[];n&&(l.push((0,p.Z)({url:w,method:"PUT",data:{image_signatures:[n],product_group_id:a.entityId}})),s.push("cover_image")),(ee||et)&&(l.push(u.Z.create("ProductGroupsResource",{name:I,description:A,productGroupId:Number(a.entityId),filters:X?.filter_v2}).callUpdate()),ee&&s.push("name"),et&&s.push("description")),i({event_type:9857,component:13998,aux_data:{product_group_modal_changes:s.join(",")}}),e(),Promise.all(l).then(()=>{t(),U(new Date().getTime()),$(({hideToast:e})=>(0,T.jsx)("div",{className:"ProductGroupSavedToast",children:(0,T.jsx)(m.ZP,{duration:P.QE,onHide:e,text:r._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})}))})},text:ed})]})})]},"product-group-details-footer"):(0,T.jsx)(o.Fragment,{}),heading:s,onDismiss:eo,size:H?"md":"sm",children:(0,T.jsx)(n.xu,{marginBottom:2,paddingX:8,children:Q?(0,T.jsxs)(n.kC,{justifyContent:"center",children:[(0,T.jsxs)(n.xu,{width:320,children:[(0,T.jsx)(n.xu,{marginBottom:4,children:(0,T.jsx)(n.xv,{size:"300",weight:"bold",children:r._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,T.jsx)("input",{ref:Y,accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){let t=e.target.files[0],a=new FileReader;t&&a.readAsDataURL(t),a.addEventListener("load",()=>{O(!0),i({event_type:9855,component:13998}),(0,p.Z)({url:w,method:"POST",data:{image_base64:a.result}}).then(e=>{R(e.resource_response.data?.image_signature),O(!1),"string"==typeof a.result&&M(a.result)})},!1)}},style:{display:"none"},type:"file"}),Z&&(0,T.jsx)(n.xu,{color:"secondary",direction:"column",display:"flex",height:316,justifyContent:"center",rounding:5,width:316,children:(0,T.jsx)(n.$j,{accessibilityLabel:r._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!Z&&es&&(0,T.jsx)(F,{image:es,onError:()=>z(K+1),onFileUpload:()=>{Y.current?.click()}})]}),H&&(0,T.jsxs)(n.xu,{marginStart:4,width:320,children:[(0,T.jsx)(n.xu,{marginBottom:4,children:(0,T.jsx)(n.xv,{size:"300",weight:"bold",children:r._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,T.jsx)(n.nv,{id:"name",onChange:({value:e})=>C(e.slice(0,255)),size:"lg",type:"text",value:I}),(0,T.jsxs)(n.xu,{height:30,marginBottom:4,marginTop:2,children:[I&&(0,T.jsx)(n.xv,{color:"subtle",size:"100",children:r._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!I&&(0,T.jsx)(n.xv,{color:"error",size:"100",children:r._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,T.jsx)(n.xu,{marginBottom:4,children:(0,T.jsx)(n.xv,{size:"300",weight:"bold",children:r._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,T.jsx)(n.xu,{height:178,children:(0,T.jsx)(n.Kx,{id:"description",onChange:({value:e})=>E(e.slice(0,155)),placeholder:r._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),rows:7,value:A})})]})]}):(0,T.jsx)(n.$j,{accessibilityLabel:r._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}let A=()=>{},E=({url:e,onClick:t,i18n:a})=>(0,T.jsx)(n.ZP,{accessibilityLabel:a._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),color:"white",href:e,onClick:t,size:"lg",text:a._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2')}),D=({i18n:e})=>(0,T.jsx)(n.zx,{accessibilityLabel:e._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),color:"white",size:"lg",text:e._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2')});function R({onClick:e,productGroup:t,showControls:a,url:i}){let l=(0,d.ZP)(),r=l._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[s,u]=(l._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,o.useState)(!1)),[p,g]=(0,o.useState)(!1),m=!!(i&&e),{WIDTH:h,HEIGHT:y}=c.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS,_=h-64;return(0,T.jsxs)(n.xu,{onMouseEnter:()=>{g(!0)},onMouseLeave:()=>{g(!1)},position:"relative",children:[(0,T.jsxs)(n.xu,{position:"relative",children:[(0,T.jsxs)(n.zd,{height:y,rounding:8,width:h,children:[(0,T.jsx)(c.Z,{productGroup:{coverImages:t.coverImages,groupType:t.groupType,previewPins:t.previewPins?.map(e=>({imageSignature:e.imageSignature,images:e.images}))}}),(0,T.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},height:y,position:"absolute",top:!0,width:h})]}),(0,T.jsx)(n.xu,{color:"selected",height:y,opacity:p?.5:0,position:"absolute",rounding:8,top:!0,width:h})]}),a&&p&&(0,T.jsxs)(n.xu,{display:"flex",padding:8,position:"absolute",right:!0,top:!0,children:[(0,T.jsx)(n.xu,{marginEnd:0,children:(0,T.jsx)(n.u,{idealDirection:"down",text:r,children:(0,T.jsx)(n.hU,{accessibilityLabel:r,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),u(!0)},size:"xl"})})}),!1]}),(0,T.jsxs)(n.xu,{bottom:!0,left:!0,padding:8,position:"absolute",children:[(0,T.jsx)(n.xu,{marginBottom:5,maxWidth:_,children:(0,T.jsx)(n.X6,{color:"inverse",lineClamp:2,size:"600",children:t.name})}),p&&(0,T.jsx)(n.xu,{marginBottom:5,maxWidth:_,children:(0,T.jsx)(n.xv,{color:"inverse",size:"300",children:t.description})}),!m&&(0,T.jsx)(D,{i18n:l}),m&&(0,T.jsx)(E,{i18n:l,onClick:e??A,url:i??""})]}),a&&s&&(0,T.jsx)(C,{onDismiss:()=>u(!1),onSubmit:()=>u(!1),productGroup:{entityId:t.entityId,groupType:t.groupType,previewPins:t.previewPins?.map(e=>({imageSignature:e.imageSignature,images:e.images}))}})]})}var L=a(717615),M=a(231947),Z=a(151645),O=a(436395),K=a(316674);function z({productGroup:e,slotIndex:t}){let{logContextEvent:a}=(0,l.v)(),{data:o}=(0,O.Z)(),{search:d}=(0,i.TH)(),{pin:c}=(0,r.Z)(d),u=c?"pdp":"profile",p=o?.username,g=function(){let{ownProfile:e}=function(){let{data:e}=(0,O.Z)(),t=(0,x.Z)(),a=(0,Z.Z)({user:e,viewer:t}),i=(0,L.Z)(),n=(0,M.q6)(t,e?.id,i);return{isORBACProfileManager:n,ownProfile:a}}();return e}();if((0,s.Z)(()=>{K.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.entityId,source:u,groupType:e.groupType??"",componentType:13698},a)}),!p)return null;let m=`/${p}/_shop/${e.entityId}/`;return(0,T.jsx)(n.Tg,{href:m,onTap:()=>{K.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.entityId,source:u,groupType:e.groupType??"",componentType:13698,index:t},a)},children:(0,T.jsx)(R,{productGroup:e,showControls:g})})}},288562:(e,t,a)=>{"use strict";a.d(t,{M:()=>y,Z:()=>_});var i=a(667294),n=a(883119),l=a(180549),r=a(898781),s=a(349700),o=a(427806),d=a(785893);function c({showShopTitle:e,title:t}){let a=(0,r.ZP)(),l=t?(0,s.nk)(a._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(t||"").toLowerCase()}).join(""):a._('Image search', 'relatedProducts.stela.header', 'header for related products stela feed'),c=e?l:t;return(0,d.jsx)(i.Fragment,{children:c?(0,d.jsx)(n.X6,{accessibilityLevel:1,size:"400",children:c}):(0,d.jsx)(o.Z,{text:a._('Related products page', 'relatedProducts.unifiedFeed.accessibilityhiddenheading', 'accessibility label for related products page')})})}var u=a(407043),p=a(124580),g=a(780280),m=a(167234);function h({buttonText:e,handleDrawerClose:t,isDrawerOpen:a,onClick:i,largeSize:l=!1,reversed:s=!1,invertWhenDrawerIsOpen:o=!1,hasProductFiltersApplied:c=!1}){let u=(0,r.ZP)(),p=o&&a,g=(0,d.jsx)(n.JO,{accessibilityLabel:"",color:p?"light":"dark",icon:"filter"},"filterIcon"),m=e&&(0,d.jsx)(n.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e);return(0,d.jsx)(n.iP,{accessibilityLabel:u._('Filter', 'productsFilterButton', 'Button to filter products results'),onTap:()=>{a?t():i()},rounding:"pill",children:(0,d.jsxs)(n.xu,{position:"relative",children:[(0,d.jsx)(n.xu,{alignContent:"center",color:p?"dark":"secondary",dangerouslySetInlineStyle:l?{__style:{padding:"18px"}}:void 0,display:"flex",justifyContent:"center",minHeight:40,paddingX:4,rounding:"pill",children:(0,d.jsx)(n.kC,{alignItems:"center",gap:{row:2,column:0},children:s?[m,g]:[g,m]})}),c&&(0,d.jsx)(n.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",right:!0,rounding:"pill",top:!0})]})})}let y=60;function _({filtersText:e,handleDrawerClose:t,handleDrawerOpen:a,isDrawerOpen:s,isProductOnlyFeed:o,isShopEntryPoint:_,showShopTitle:f,pinId:x,showFilter:v,title:b,viewParameter:S,viewType:w}){let{logContextEvent:k}=(0,u.v)(),{isRTL:P}=(0,g.B)(),T=(0,r.ZP)(),j=(0,i.useRef)(null);(0,i.useEffect)(()=>(v&&k({event_type:120,view_type:w,component:13467,element:11735,view_parameter:S}),j.current&&p.Z.addObstruction("top",j.current),()=>{j.current&&p.Z.removeObstruction("top",j.current)}),[v]);let I=()=>{k({event_type:101,view_type:w,component:13467,element:11735,view_parameter:S}),a&&a()};return(0,d.jsx)(m.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,d.jsxs)(n.xu,{ref:j,alignItems:"center",color:"default","data-test-id":"related-products-header",display:"flex",height:y,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%",children:[(0,d.jsx)(n.xu,{left:!P,marginStart:5,position:"absolute",right:P,children:(0,d.jsx)(l.Z,{arrowType:o?"directional-arrow-left":"cancel",pinId:x,viewParameter:S,viewType:w})}),(0,d.jsx)(c,{showShopTitle:f,title:_?T._('Shop the look', 'shopTheLook.header', 'User will see this Shop the look header when navigating from the Shop the look module'):b}),v&&"boolean"==typeof s&&I&&e&&t&&(0,d.jsx)(n.xu,{"data-test-id":"filter-button",left:P,marginEnd:12,position:"absolute",right:!P,children:(0,d.jsx)(h,{buttonText:e,handleDrawerClose:t,isDrawerOpen:s,onClick:I})})]})})}},668706:(e,t,a)=>{"use strict";a.d(t,{l:()=>ee,Z:()=>ea});var i,n,l=a(667294);a(167912);var r=a(616550),s=a(883119),o=a(187638),d=a(862670),c=a(865686),u=a(288562),p=a(352870),g=a(916117),m=a(276602),h=a(297852),y=a(785893);let _=void 0!==i?i:i=a(468852);function f({cropArea:e,description:t,surfaceType:a,height:i,imageSignature:n,imageUrl:l,pinKey:o,requestParams:d,trafficSource:c,viewParameter:u,width:f}){let x=(0,r.k6)(),v=(0,m.E)(),b=(0,g.Z)(_,o);return(0,y.jsx)(s.xu,{"data-test-id":"flashlight-enabled-image",height:i,overflow:"hidden",rounding:4,width:f,children:(0,y.jsxs)(s.zd,{height:i,width:f,children:[(0,y.jsx)(s.Ee,{alt:t,naturalHeight:i,naturalWidth:f,onLoad:()=>{v&&v.markConstraintComplete("visualSearchMainPinImageRender")},src:l}),(0,y.jsx)(p.Z,{customCropper:({origCrop:e,cropSource:t,title:i})=>{let n=window.location.pathname+window.location.search,l=(0,h.Z)({cropArea:e,cropSource:t,isProductPage:!1,pinId:b.entityId,requestParams:d,surfaceType:a,title:i,trafficSource:c});l!==n&&x.replace(l)},imageSignature:n,imageSize:{h:i,w:f},initialCropArea:e,pinKey:b,showAnimation:!1,viewParameter:u})]})})}var x=a(407373),v=a(83053),b=a(647945),S=a(407043),w=a(223008),k=a(773285),P=a(42447),T=a(780280),j=a(483205),I=a(700380),F=a(430323),C=a(826067),A=a(280446),E=a(829407),D=a(307603),R=a(255164),L=a(975540),M=a(94047),Z=a(985057),O=a(873476),K=a(697335),z=a(12755),N=a(36022),H=a(813982),G=a(914917),B=a(898781),$=a(143649);function U({categoryFilters:e,cropSource:t,handleCategoryChange:a,viewParameter:i,viewType:n}){let{logContextEvent:r}=(0,S.v)(),o=(0,B.ZP)(),[d,c]=(0,l.useState)(!0);return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,y.jsx)(s.xv,{weight:"bold",children:o._('Product category', 'filter.category.header', 'Header of product category filter containing filter options')}),(0,y.jsx)(s.xu,{flex:"none",children:(0,y.jsx)(s.hU,{accessibilityLabel:o._('Product category', 'filter.category.button', 'accessibility label for the icon button to open or close domain filter'),icon:d?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{c(!d),r({event_type:101,component:13535,element:11547,view_type:n,view_parameter:i,aux_data:{commerce_data:JSON.stringify({filter:d?"collapsed":"expanded"})}}),d||r({event_type:13,component:13535,view_type:n,view_parameter:i,aux_data:{commerce_data:JSON.stringify({source:(0,$.Z)({cropSource:t,viewType:n})})}})},size:"sm"})})]}),d?(0,y.jsx)(l.Fragment,{children:e.slice(0,5).map((e,t)=>(0,y.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:3,children:[(0,y.jsx)(s.xu,{flex:"grow",children:(0,y.jsx)(s.xv,{children:e.label.charAt(0).toUpperCase()+e.label.slice(1)})}),(0,y.jsx)(s.xu,{children:(0,y.jsx)(s.hU,{accessibilityLabel:o._('Category Filter Option', 'filter.category.option', 'Accessibility label for radio button of category filter choices'),icon:e.checked?"check-circle":"circle-outline",iconColor:"darkGray",onClick:()=>a(t),size:"sm"})})]},e.label))}):(0,y.jsx)(s.xu,{width:"80%",children:(0,y.jsx)(s.xv,{color:"subtle",size:"200",children:function(e=[],t){let a=e.filter(e=>e.checked),i=a.length,n=0===i?t._('All', 'filter.category.applied', 'text indicates that no categories filter is currently applied for filtering'):`(${i}) ${a.map(e=>e.label).join(", ")}`;return n}(e,o)})})]})}var W=a(144226);function V(e,t){return e.filter(e=>e.checked).map(e=>e[t]).join(",")}function Y(e){return e.map(e=>({...e,checked:!1}))}function q({listOfAvailableFiltersFromAPI:e,appliedFilterValues:t,key:a,component:i,viewType:n,viewParameter:r}){let{logContextEvent:s}=(0,S.v)(),[o,d]=(0,l.useState)([]),[c,u]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(e){let i=Y(e),n=t?function(e,t,a){if(e){let i=decodeURI(e).split(",");return t.map(e=>i.includes(e[a])?{...e,checked:!0}:e)}return t}(t,i,a):i;d(n);let l=V(n,a);u(l)}},[e,t,a]),{filters:o,setFilters:d,submittedFilters:c,submitFilters:function(e){e!==c&&s({event_type:7472,component:i,view_type:n,view_parameter:r}),u(e),g(!1)},isFilterChanged:p,clearFilters:()=>Y(o),getSelected:e=>V(e,a),handleFilterChange:function({index:e,pinId:t,auxCommerceData:l}){let u=!o[e].checked,p=[...o.slice(0,e),{...o[e],checked:u},...o.slice(e+1)];d(p),g(c!==V(p,a)),s({event_type:101,component:i,element:11548,view_type:n,view_parameter:r,aux_data:{pin_id:t,commerce_data:JSON.stringify({[a]:o[e][a],select:u,...l})}})}}}function X({categoryFilters:e,domainFilters:t,minPrice:a,maxPrice:i},n){let l=n._('Filters', 'Filter icon button to open drawer containing price filter and domain filters on related products feed', 'Filter icon button to open drawer containing price filter and domain filters on related products feed'),r=function({categoryFilters:e,domainFilters:t,minPrice:a,maxPrice:i}){let n=t?t.split(",").length:0,l=e?e.split(",").length:0;return(i||a?1:0)+n+l}({categoryFilters:e,domainFilters:t,minPrice:a,maxPrice:i}),s=r>0?` (${r})`:"";return`${l}${s}`}function Q({categoryFilters:e,cropSource:t,domainFilters:a,drawerHeight:i,handleFilterChange:n,onSubmit:r,pinId:o,priceFilters:d,submittedFilters:c,updateButtonText:u,width:p,viewParameter:g,viewType:m}){let{logContextEvent:h}=(0,S.v)(),_=(0,B.ZP)();(0,E.Z)(()=>{h({event_type:13,component:13467,view_type:m,view_parameter:g,aux_data:{commerce_data:JSON.stringify({source:(0,$.Z)({cropSource:t,viewType:m})})}})});let{category:f,domain:x,max:v,min:b}=c||{},{filters:w,setFilters:k,submittedFilters:P,submitFilters:T,isFilterChanged:j,clearFilters:I,getSelected:F,handleFilterChange:C}=q({listOfAvailableFiltersFromAPI:a,appliedFilterValues:x,key:"domain",component:13469,viewType:m,viewParameter:g}),{filters:A,setFilters:D,submittedFilters:R,submitFilters:L,isFilterChanged:M,clearFilters:Z,getSelected:O,handleFilterChange:K}=q({listOfAvailableFiltersFromAPI:e,appliedFilterValues:f,key:"label",component:13535,viewType:m,viewParameter:g}),[z,V]=(0,l.useState)(d),[Y,Q]=(0,l.useState)(-1),[J,ee]=(0,l.useState)(-1),[et,ea]=(0,l.useState)(-1),[ei,en]=(0,l.useState)(-1),[el,er]=(0,l.useState)(!1);(0,l.useEffect)(()=>{!d||v&&b||V(d),b&&ee(parseInt(b,10)),v&&Q(parseInt(v,10))},[d,v,b]);let{max_value:es,min_value:eo,currency_type:ed}=z||{},ec=e=>t=>{let a,i;let n=0>(t||0)?0:t;n&&h({event_type:7472,component:13468,view_type:m,view_parameter:g});let l=!1;"max"===e?(a=n||es,-1===(i=J)&&(i=eo),i>a&&(i=Math.max(a-N.$,0))):(i=n||0,-1===(a=Y)&&(a=es),a<i&&(a=i+N.$)),er(l=l||ei!==i||et!==a),ee(i),Q(a)};(0,l.useEffect)(()=>{u&&u(X({categoryFilters:R,domainFilters:P,maxPrice:-1===Y?void 0:Y,minPrice:-1===J?void 0:J},_))},[_,Y,J,z,R,P,u]);let eu=({categoryParam:e,domainParam:t,maxPrice:a,minPrice:i})=>{n({categoryParam:e,domainParam:t,maxPrice:-1!==a?a:void 0,minPrice:-1!==i?i:void 0}),ea(a),en(i),er(!1),(et!==a||ei!==i)&&h({event_type:7472,component:13468,view_type:m,view_parameter:g}),T(t),L(e);let l=-1!==i,s=-1!==a,o=""!==t,d=""!==e,c=l?i.toString():"",p=s?a.toString():"",y=o?encodeURI(t):"",f=d?encodeURI(e):"";r&&r({category:f,domain:y,max:p,min:c}),u&&u(X({categoryFilters:e,domainFilters:t,maxPrice:-1===a?void 0:a,minPrice:-1===i?void 0:i},_))};return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)(s.xu,{direction:"column",display:"flex",height:i-50-70,overflow:"scroll",paddingX:1,paddingY:1,width:"100%",children:[(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,y.jsx)(s.xv,{weight:"bold",children:_._('Filter', 'shopping.filter.header', 'Header for the types of filters')}),(0,y.jsx)(s.zx,{onClick:()=>{Q(-1),ee(-1),k(I()),D(Z()),eu({categoryParam:"",domainParam:"",maxPrice:-1,minPrice:-1}),h({event_type:101,component:13467,element:11545,view_type:m,view_parameter:g})},size:"md",text:_._('Clear all', 'filter.clear.button', 'Button to clear all set filters on product group filters')})]}),!!z&&(0,y.jsx)(W.Z,{children:(0,y.jsx)(G.Z,{cropSource:t,currencyCode:ed,defaultMaxPrice:es,defaultMinPrice:eo,disableAutoFormatOnChange:!0,handleMaxPriceChange:ec("max"),handleMinPriceChange:ec("min"),maxPrice:Y,minPrice:J,uiType:"slider",viewParameter:g,viewType:m})}),!!A&&A.length>0&&4!==t&&(0,y.jsx)(W.Z,{children:(0,y.jsx)(U,{categoryFilters:A,cropSource:t,handleCategoryChange:e=>{K({index:e,pinId:o})},viewParameter:g,viewType:m})}),!!w&&w.length>0&&(0,y.jsx)(W.Z,{children:(0,y.jsx)(H.Z,{cropSource:t,filterOptions:w,handleFilterChange:e=>{C({index:e,pinId:o,auxCommerceData:{source:(0,$.Z)({cropSource:t,viewType:m})}})},viewParameter:g,viewType:m})})]}),(0,y.jsx)(s.xu,{color:"default",display:"flex",justifyContent:"center",position:"fixed",width:p,children:(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},direction:"row",display:"flex",paddingY:2,children:(0,y.jsx)(s.xu,{marginStart:2,children:(0,y.jsx)(s.sg,{span:6,children:(0,y.jsx)(s.zx,{color:"red",disabled:!(j||M||el),onClick:()=>{let e=F(w),t=O(A);eu({categoryParam:t,domainParam:e,maxPrice:Y,minPrice:J}),h({event_type:101,component:13467,element:11546,view_type:m,view_parameter:g})},size:"md",text:_._('Confirm', 'Button to submit all selected filter options', 'Button to submit all selected filter options'),type:"submit"})})})})})]})}function J({categoryFilters:e,cropSource:t,domainFilters:a,isDrawerOpen:i,handleFilterChange:n,handleSubmit:r,pinId:o,priceFilters:d,submittedFilters:c,topOffset:u=0,updateButtonText:p,viewParameter:g=3455,viewType:m}){let h=(0,K.t)(),_=h+u,[f,x]=(0,l.useState)(0),v=()=>{x(window.innerHeight-h)};return(0,l.useEffect)(()=>(v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[]),(0,y.jsx)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{marginRight:i?0:-z.pG,visibility:i?"visible":"hidden",top:_}},height:f,left:!0,paddingX:z.VF,position:"fixed",width:z.pG,zIndex:new s.Ry(2),children:(0,y.jsx)(Q,{categoryFilters:e,cropSource:t,domainFilters:a,drawerHeight:f,handleFilterChange:n,onSubmit:r,pinId:o,priceFilters:d,submittedFilters:c,updateButtonText:p,viewParameter:g,viewType:m,width:z.pG-z.VF*z.vc*2})})}let ee=65,et=void 0!==n?n:n=a(482495);function ea({pinKey:e}){let t=(0,r.k6)(),{logContextEvent:a}=(0,S.v)(),{checkExperiment:i}=(0,k.F)(),{isRTL:n}=(0,T.B)(),p=(0,g.Z)(et,e),{id:m}=(0,r.UO)(),{pinId:_}=(0,A.Z)(m||""),N=(0,O.Z)(),H=(0,r.TH)(),G=(0,C.mB)(H.search),{x:B,y:$,w:U,h:W,surfaceType:V,q:Y,rs:q,domain:X,full_feed_title:Q,category:ea,max:ei,min:en,requestParams:el}=G,er=(0,o.W)(V),es={category:ea,domain:X,min:en,max:ei},eo=(0,R.Z)(Number(G.cropSource)),ed=(0,Z.Z)({x:B,y:$,w:U,h:W})?(0,D.Z)({x:B,y:$,w:U,h:W},!0):void 0,[ec,eu]=(0,l.useState)(ed),[ep,eg]=(0,l.useState)(0),em=(0,l.useCallback)(()=>H.pathname.includes("/products/"),[H]),[eh,ey]=(0,l.useState)(em()),[e_,ef]=(0,l.useState)(void 0),[ex,ev]=(0,l.useState)(null),eb=(0,l.useRef)(null),[eS,ew]=(0,l.useState)(parseInt(en,10)||null),[ek,eP]=(0,l.useState)(parseInt(ei,10)||null),[eT,ej]=(0,l.useState)(X?decodeURI(X):null),[eI,eF]=(0,l.useState)(ea?decodeURI(ea):null),[eC,eA]=(0,l.useState)(!1),[eE,eD]=(0,l.useState)(""),eR=(0,l.useCallback)(()=>eA(!0),[]),eL=(0,l.useCallback)(()=>eA(!1),[]),{anyEnabled:eM}=i("web_unified_visual_feed"),{visualSearchFlashlightUnifiedResource:eZ,visualSearchFlashlightUnifiedResource:{data:eO},filters:eK,filters:{category_filters:ez,domain_filters:eN,price_filters:eH}={},searchId:eG,setSearchId:eB}=(0,b.Z)({resourceOptions:e_}),{description:e$,imageSignature:eU,isEligibleForRelatedProducts:eW}=p,eV=({minPrice:e,maxPrice:t,domainParam:a,categoryParam:i})=>{ew(e),eP(t),ej(a),eF(i)},eY=0,eq="",eX=eo||5,eQ=eh?"shopping":"flashlight";(0,l.useEffect)(()=>{let e=em();e!==eh&&ey(e)},[em,ey,eh]),(0,l.useEffect)(()=>{ex!==Q&&ev(Q)},[ev,ex,Q]);let{getInitialCropArea:eJ}=(0,d.Z)({pinKey:p});(0,E.Z)(()=>{if(!ec&&p){let e=eJ({initialCropArea:null}),a=(0,h.Z)({cropArea:e,cropSource:eX,isProductPage:eh,pinId:_,requestParams:el,searchQuery:Y,surfaceType:er,title:ex,trafficSource:q});t.replace(a)}}),(0,l.useEffect)(()=>(eb&&eb.current&&eq===_&&(eb.current.scrollTop=eY),()=>{eb&&eb.current&&(eY=eb.current.scrollTop,eq=_)}),[eb]),(0,l.useEffect)(()=>{(ec?.x!==ed?.x||ec?.y!==ed?.y||ec?.w!==ed?.w||ec?.h!==ed?.h)&&(eu({x:ed?.x||0,y:ed?.y||0,w:ed?.w||1,h:ed?.h||1}),eB(""))},[ec?.h,ec?.w,ec?.x,ec?.y,ed?.h,ed?.w,ed?.x,ed?.y,eB]);let e0=(0,I.Z)(()=>{window&&eg(window.innerWidth)},100);(0,l.useEffect)(()=>{window&&eg(window.innerWidth)},[]),(0,l.useEffect)(()=>(window&&window.addEventListener("resize",e0),()=>{window&&window.removeEventListener("resize",e0)}),[e0]);let e1=(p.visualObjects||[]).some(e=>e.isStela),e2="stl"===er,e4=eM&&!eh&&!e2,{getNormalizedPinImage:e6}=(0,w.Z)({pinKey:p,maxWidth:j.RZ});(0,l.useEffect)(()=>{if(p.entityId){let{width:e,height:t}=e6(),a=eJ({initialCropArea:ec});ef({categories:eI,crop:(0,L.Z)({cropArea:a,scaledWidth:e,scaledHeight:t}),crop_source:eX,domains:eT,entry_source:eQ,entrypoint:N,field_set_key:"shopping_grid_item",image_signature:p.imageSignature||void 0,is_shopping:function({inUnifiedFeedExperiment:e,isProductOnlyFeed:t,isShopEntryPoint:a}){return!e||!!a||!!t}({inUnifiedFeedExperiment:eM,isProductOnlyFeed:eh,isShopEntryPoint:e2}),pin_id:p.entityId,price_max:ek,price_min:eS,request_params:el,source:q})}},[eI,eX,eT,eQ,N,eJ,e6,e1,eM,ec,eh,e2,ek,eS,p.entityId,p.imageSignature,el,q]);let e3=eW||eh?427:72,e8=eX&&4===eX?3462:3455;if((0,E.Z)(()=>{p&&!eM&&a({event_type:13,view_type:e3,view_parameter:e8,view_data:{pin_id:_},aux_data:{commerce_data:JSON.stringify({entrypoint:eQ,pin_is_stela:e1})}})}),!p)return null;let{width:e7,height:e5,url:e9}=e6(),te=eJ({initialCropArea:ec}),tt=e7+20,ta=({category:e,domain:a,min:i,max:n})=>{t.replace({pathname:`/pin/${_}/visual-search/${eh?"products/":""}`,query:{...te,cropSource:eX,entrySource:eQ,rs:q,category:e,domain:a,min:i,max:n},search:(0,M.Z)({cropArea:te,cropSource:eX,requestParams:el,surfaceType:er,title:ex,trafficSource:q})})},ti=eh?ep:ep-tt,tn=(0,x.Z)(eK),tl=!eM||eM&&eh||e2,tr=!eh;return(0,y.jsx)(P.Z,{constraints:["shoppingModuleRender","visualSearchMainPinImageRender"],measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,y.jsx)(F.Z,{objectId:eG,view:e3,children:(0,y.jsxs)(s.xu,{"data-test-id":"related-products",children:[(0,y.jsx)(u.Z,{filtersText:eE,handleDrawerClose:eL,handleDrawerOpen:eR,isDrawerOpen:eC,isProductOnlyFeed:eh,isShopEntryPoint:e2,pinId:_,showFilter:!e4&&tn,showShopTitle:!eM,title:tl?ex:"",viewParameter:e8,viewType:e3}),(0,y.jsx)(s.xu,{marginTop:2,children:(0,y.jsx)(K.c,{children:e=>(0,y.jsxs)(s.xu,{alignItems:"stretch",direction:"row",display:"flex",justifyContent:"start",marginTop:12,children:[tn&&(0,y.jsx)(J,{categoryFilters:ez,cropSource:eX,domainFilters:eN,handleFilterChange:eV,handleSubmit:ta,isDrawerOpen:eC,pinId:_,priceFilters:eH,submittedFilters:es,topOffset:u.M,updateButtonText:e=>{eD(e)},viewParameter:e8,viewType:e3}),tr&&(0,y.jsx)(s.xu,{ref:eb,bottom:!0,dangerouslySetInlineStyle:{__style:{top:e+ee+32,marginBottom:10,left:!n&&eC?z.pG:0,right:n?0:void 0}},height:"inherit",marginStart:!n&&eC?0:12,overflow:"auto",position:"fixed",width:tt,children:(0,y.jsx)(f,{cropArea:te,cropSource:eX,description:e$??"",height:e5,imageSignature:eU||"",imageUrl:e9,pinKey:p,requestParams:el,searchQuery:Y,surfaceType:er,trafficSource:q,viewParameter:e8,viewType:e3,width:e7})}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:(0,c.Z)({cropperWidth:tt,top:ee-16,isFilterOpened:eC,isProductOnlyFeed:eh,isRTL:n})},position:"relative",width:eC?ti-z.pG:ti,children:eO&&(0,y.jsx)(v.Z,{isFilterOpened:eC,isProductOnlyFeed:eh,pinKey:p,surfaceType:er,viewParameter:e8,viewType:e3,visualSearchFlashlightUnifiedResource:eZ})})]})})})]})})})}},83053:(e,t,a)=>{"use strict";a.d(t,{Z:()=>j});var i,n=a(667294);a(167912);var l=a(616550),r=a(883119),s=a(175644),o=a(785893);function d({title:e}){return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:55}},"data-test-id":"unified-feed-subheader",display:"flex",justifyContent:"center",children:(0,o.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:e})})}var c=a(773285),u=a(276602),p=a(994912),g=a(826067),m=a(861411);let h={flashlight:72,stela:427,stl:427};function y({pinId:e,surfaceType:t,visualSearchFlashlightUnifiedResource:a}){let i=(0,l.TH)(),{checkExperiment:y}=(0,c.F)(),_=(0,u.E)(),{data:f}=a,x=f?.results||[],v=t?h[t]:72,b=()=>{_&&_.markConstraintComplete("shoppingModuleRender")};return(0,o.jsx)(n.Fragment,{children:x.filter(e=>"story"===e.type).map((t,a)=>{if("story"===t.type){let{action:n,id:l,objects:c,story_type:u,title:h}=t;switch(u){case"unified_visual_feed_product_upsell":let _=h.format||"",f=y("web_product_pin_rep_redesign").anyEnabled,x=n?.url&&(0,g.mB)(n.url,{shouldDecode:!0}).full_feed_title,S=`/pin/${e}/visual-search/products/${i.search}${x?`&full_feed_title=${encodeURIComponent((0,p.Z)(x))}`:""}`;return(0,o.jsx)(m.qS,{auxData:{story_type:u},component:14339,loggingId:l,objectIdStr:l,slotIndex:a,viewParameter:3462,viewType:v,children:({impressionTrackerRef:e})=>(0,o.jsxs)(r.xu,{ref:e,children:[_&&(0,o.jsx)(d,{title:_}),(0,o.jsx)(r.xu,{"data-test-id":"unified-feed-stela-story",marginBottom:12,marginTop:4,children:(0,o.jsx)(s.Z,{action:n,component:14339,contextLogData:{story_type:u},dangerouslySetActionUrl:S,element:179,id:l,objects:c,pwtTrackImageLoad:b,surface:f?"ShoppingModule":void 0,viewParameter:3462,viewType:v})})]})},l);case"unified_visual_feed_organic_header":return(0,o.jsx)(m.qS,{auxData:{story_type:u},component:14339,loggingId:l,objectIdStr:l,slotIndex:a,viewParameter:3462,viewType:v,children:({impressionTrackerRef:e})=>(0,o.jsx)(r.xu,{ref:e,marginBottom:4,children:(0,o.jsx)(d,{title:t.title.format||""})})},l)}}return null})})}var _=a(407043),f=a(898781),x=a(317254),v=a(700380),b=a(8742);function S({commerceData:e,isFilterOpened:t,isProductFeed:a,searchId:i,viewParameter:l,viewType:s,visualSearchFlashlightUnifiedResource:d}){let c=(0,f.ZP)(),{logContextEvent:u}=(0,_.v)(),[p,g]=(0,n.useState)(),[m,h]=(0,n.useState)(!1),y=(0,n.useRef)(null),S=(0,n.useRef)(null),w=(0,v.Z)(()=>{y.current&&g(y.current.getBoundingClientRect().y)},100);(0,n.useEffect)(()=>{S.current?.handleResize()},[t]),(0,n.useEffect)(()=>{if(!m)return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)}),(0,n.useEffect)(()=>{let e=window?.innerHeight||document.body?.clientHeight;!m&&p<e&&(h(!0),u({event_type:110,view_type:s,view_parameter:l}))},[p,u,m,h,s,l]);let{data:k,isFetching:P,fetchMore:T,isAtEnd:j}=d,I=(k?.results||[]).filter(e=>"pin"===e.type);return(0,o.jsxs)(r.xu,{"data-test-id":"visual-search-feed",children:[(0,o.jsx)(r.xu,{ref:y,marginTop:2,children:(0,o.jsx)(x.Z,{isAtEndOfFeed:j,itemCount:(I||[]).length,children:(0,o.jsx)(r.Rk,{ref:S,items:I||[],loadItems:T,minCols:1,renderItem:({data:t,itemIdx:n})=>"pin"===t.type?(0,o.jsx)(b.ZP,{authDesktopSurface:a?"ShoppingDynamicHeightGrid":"SearchItem",auxData:{commerce_data:e},componentType:0,duploQueryRef:null,pin:t,pinId:t.id,slotIndex:n,viewData:{search_identifier:i},viewParameter:l,viewType:s}):null,scrollContainer:()=>window})})}),(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,o.jsx)(r.$j,{accessibilityLabel:c._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:P})})]})}var w=a(916117),k=a(829407),P=a(999018);let T=void 0!==i?i:i=a(966498);function j({isFilterOpened:e,isProductOnlyFeed:t,pinKey:a,surfaceType:i,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s}){let d=(0,w.Z)(T,a),{logContextEvent:c}=(0,_.v)(),u="stl"===i,p=u||t,{data:g}=s,m=g?.search_identifier,h={is_product_only_feed:p},f=(0,P.Z)(d);(0,k.Z)(()=>{c({event_type:13,view_type:r,view_parameter:l,aux_data:f({default:h})})});let{entityId:x}=d;return(0,o.jsxs)(n.Fragment,{children:[!u&&(0,o.jsx)(y,{pinId:x,surfaceType:i,visualSearchFlashlightUnifiedResource:s}),(0,o.jsx)(S,{commerceData:h,isFilterOpened:e,isProductFeed:p,searchId:m,viewParameter:l,viewType:r,visualSearchFlashlightUnifiedResource:s})]})}},407373:(e,t,a)=>{"use strict";function i(e){let{category_filters:t,domain_filters:a,price_filters:i}=e||{};return!!t||!!a||!!i}a.d(t,{Z:()=>i})},647945:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(667294),n=a(407373),l=a(784590);function r({resourceOptions:e,setFlashlightSearchId:t}){let[a,r]=(0,i.useState)(),[s,o]=(0,i.useState)(""),[d,c]=(0,i.useState)(),u=(0,l.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,i.useEffect)(()=>{let{data:e}=u,a=e?.search_identifier;a&&(t?t(a):o(a)),r(e)},[t,u]),(0,i.useEffect)(()=>{let{data:e}=u,t=e?.search_identifier,i=a?.search_identifier;!e||t&&i&&t===i||(0,n.Z)(a)||!(0,n.Z)(e)||c({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[d,a,u]),{visualSearchFlashlightUnifiedResource:u,filters:d,searchId:s,setSearchId:o}}},865686:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(12755);function n({cropperWidth:e,top:t,isRTL:a,isFilterOpened:n,isFlashlightPage:l,isProductOnlyFeed:r}){let s=r?0:e+40,o=e+16,d={top:t,overflow:"auto"};return a?{...d,marginRight:l?o:s}:{...d,marginLeft:l?o:n?s+i.pG:s}}},362810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var i=a(667294),n=a(883119),l=a(785893);function r({isTopRow:e,image:t}){return(0,l.jsxs)(n.zd,{height:e?217:168,wash:!0,width:e?236:117,children:[(0,l.jsx)(n.Ee,{alt:t.alt||"",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??""}),!!t.price&&(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},"data-test-id":"shopping-upsell-price",height:24,left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:t.price})]})}var s=a(407043),o=a(356997),d=a(564194),c=a(310227),u=a(149230),p=a(841509),g=a(525199);let m={container:{borderRadius:`${c.Oc}px ${c.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},h=({images:e,firstImageIndex:t})=>{let a=t+1,i=t+2;return(0,l.jsxs)(n.xu,{overflow:"hidden",rounding:4,children:[(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:m.content},children:e.at(t)?(0,l.jsx)(r,{image:e[t],isTopRow:!0}):null}),e.length>i?(0,l.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,l.jsx)(r,{image:e[a]}),(0,l.jsx)(r,{image:e[i]})]}):null]})};function y({dangerouslySetActionUrl:e,query:t,story:a,slotIndex:r}){let c,y,_,f;let{logContextEvent:x}=(0,s.v)(),{action:v,id:b,objects:S,story_type:w,subtitle:k}=a,{text:P,url:T}=v||{},[j,I]=(0,i.useState)(!1),F=(0,i.useCallback)(()=>I(!0),[I]),C=(0,i.useCallback)(()=>I(!1),[I]),A=(S||[]).reduce((e,t)=>"pin"!==t.type?e:[...e,{domain:t.domain,image:{alt:t.title||t.description,height:t.images?.["474x"]?.height,url:t.images?.["474x"]?.url,width:t.images?.["474x"]?.width,price:(t.rich_summary?.products?.[0]||{}).offer_summary?.price}}],[]),E=(A[0]||{}).domain||void 0,D={story_type:w};if(["search_product_collage_story","shop_article_story"].includes(w)?(c=2,y=43,D={...D,story_id:b,entered_query:t}):"shop_brand_story"===w||"shop_brand_affinity_story"===w?(c=1,y=92,E&&(D={...D,commerce_data:JSON.stringify({domain:E})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(w)?(c=72,y=3050):"related_domain_collage"===w?(c=72,y=3455):"related_products_collage"===w&&(c=1,y=3177),["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(w)&&v){let e=v.user;_=e&&(e.image_medium_url||e.image_large_url),f=e&&e.full_name}let R=e||T;if(!R)return null;let L=(0,u.Z)({url:R})?"nofollow":"none";return(0,l.jsx)(d.Z,{componentType:200,contextLogData:D||{},impressionType:"Story",loggingId:w,slotIndex:r,viewParameter:y,viewType:c,children:(0,l.jsx)(n.Tg,{href:R,onTap:()=>x({event_type:101,element:372,component:200,view_type:c,view_parameter:y,aux_data:{story_type:w}}),rel:L,children:(0,l.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:m.container},onMouseEnter:F,onMouseLeave:C,overflow:"hidden",position:"relative",children:[(0,l.jsx)(h,{firstImageIndex:["related_domain_collage","related_products_collage"].includes(w)?1:0,images:A.map(({image:e})=>e)}),(0,l.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:2,paddingX:3,paddingY:k?4:2,rounding:"pill",children:(0,l.jsxs)(n.xu,{alignContent:"start",direction:"column",display:"flex",justifyContent:"center",margin:2,children:[k?(0,l.jsx)(n.xu,{marginBottom:1,children:(0,l.jsx)(n.xv,{align:"start",color:"subtle",children:k.format})}):null,(0,l.jsx)(n.xv,{align:"start",weight:"bold",children:P})]})}),f&&_&&(0,l.jsx)(n.xu,{margin:2,position:"absolute",right:!0,top:!0,children:(0,l.jsx)(o.qE,{name:f,outline:!0,size:"md",src:_})}),(0,l.jsx)(g.Z,{visibility:j?"visible":"none",children:(0,l.jsx)(p.Z,{additionalStyles:m.visualOverlay})})]})})})}},992061:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(883119),n=a(785893);function l({hovered:e,rounding:t}){return(0,n.jsx)(i.xu,{color:"transparentDarkGray",display:e?"block":"none",height:"100%",left:!0,opacity:.2,position:"fixed",rounding:t,top:!0,width:"100%",zIndex:new i.Ry(1)})}},27255:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});let i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},485019:(e,t,a)=>{"use strict";a.d(t,{S:()=>f,Z:()=>b});var i=a(667294),n=a(615071),l=a(883119),r=a(112690),s=a(785893);let o={nw:0,ne:90,se:180,sw:270},d={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},c={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},u=(e,t,a,i)=>{if("rounded"!==i)return`translate(${t}, ${a}), rotate(${o[e]})`;{let[i,n]=d[e];return`translate(${t+i}, ${a+n}), rotate(${o[e]})`}};function p({corner:e,x:t,y:a,size:i,cornerStyle:n}){return(0,s.jsxs)("g",{style:{cursor:c[e]},transform:u(e,t,a,n),children:[(0,s.jsx)("rect",{className:`v2cropperHandle ${e}`,fill:"rgba(0,0,0,0)",height:i,stroke:"none",width:i,x:0,y:0}),"rounded"===n?(0,s.jsx)("path",{className:`v2cropperHandle ${e}`,d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff"}):(0,s.jsx)("path",{className:`v2cropperHandle ${e}`,d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:6})]})}let g={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function m({edge:e,x:t,y:a,w:i,h:n}){return(0,s.jsx)("rect",{className:`v2cropperHandle ${e}`,fill:"rgba(0,0,0,0)",height:n,stroke:"none",style:{cursor:g[e]},width:i,x:t,y:a})}function h({x:e,y:t,w:a,h:n}){let l="rounded";return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(p,{corner:"nw",cornerStyle:l,size:20,x:e,y:t}),(0,s.jsx)(p,{corner:"ne",cornerStyle:l,size:20,x:e+a,y:t}),(0,s.jsx)(p,{corner:"sw",cornerStyle:l,size:20,x:e,y:t+n}),(0,s.jsx)(p,{corner:"se",cornerStyle:l,size:20,x:e+a,y:t+n}),(0,s.jsx)(m,{edge:"n",h:30,w:a-40,x:e+20,y:t-10}),(0,s.jsx)(m,{edge:"e",h:n-40,w:30,x:e+a-20,y:t+20}),(0,s.jsx)(m,{edge:"s",h:30,w:a-40,x:e+20,y:t+n-10}),(0,s.jsx)(m,{edge:"w",h:n-40,w:30,x:e-20,y:t+20})]})}var y=a(391254);function _(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let f=16,x=`
.preview-crop-area-enter {
  opacity: 0;
}

.preview-crop-area-enter-active {
  opacity: 1;
  transition: opacity 300ms;
}

.preview-crop-area-exit {
  opacity: 1;
}

.preview-crop-area-exit-active {
  opacity: 0;
  transition: opacity 300ms;
}

.preview-crop-area-exit-done {
  opacity: 0;
}
`;class v extends i.Component{constructor(...e){super(...e),_(this,"state",{cropArea:!!this.props.initialCropArea&&function({initialCropArea:e,imageSize:t}){let{x:a,y:i,w:n,h:l}=e,{h:r,w:s}=t;if(!r||!s)return e;let o=a,d=i,c=n,u=l;return o<f&&(o=f,c-=f-a),o+c>s-f&&(c-=o+c-s+f),d<f&&(d=f,u-=f-i),d+u>r-f&&(u-=d+u-r+f),{x:o,y:d,w:c,h:u}}({initialCropArea:this.props.initialCropArea,imageSize:this.props.imageSize})||{h:0,w:0,x:0,y:0},cropChangeType:null}),_(this,"cropResizeDirection",null),_(this,"_cropperOverlay",(0,i.createRef)()),_(this,"_checkCropHandleValid",(e,t)=>{let{cropArea:{h:a,w:i,x:n,y:l}}=this.state;switch(this.cropResizeDirection){case"ne":e<n&&t>l+a?this.cropResizeDirection="sw":e<n?this.cropResizeDirection="nw":t>l+a&&(this.cropResizeDirection="se");break;case"nw":e>n+i&&t>l+a?this.cropResizeDirection="se":e>n+i?this.cropResizeDirection="ne":t>l+a&&(this.cropResizeDirection="sw");break;case"se":e<n&&t<l?this.cropResizeDirection="nw":e<n?this.cropResizeDirection="sw":t<l&&(this.cropResizeDirection="ne");break;case"sw":e>n+i&&t<l?this.cropResizeDirection="ne":e>n+i?this.cropResizeDirection="se":t<l&&(this.cropResizeDirection="nw");break;case"n":t>l+a&&(this.cropResizeDirection="s");break;case"s":t<l&&(this.cropResizeDirection="n");break;case"e":e<n&&(this.cropResizeDirection="w");break;case"w":e>n+i&&(this.cropResizeDirection="e")}}),_(this,"handleOnMouseDown",e=>{e.preventDefault(),e.stopPropagation();let{clientX:t,clientY:a}=e,{target:i}=e,n=t-this._cropperOverlayCoor.x,l=a-this._cropperOverlayCoor.y,r=i.classList?Array.from(i.classList):i instanceof Element&&i.getAttribute("class")?.split(" ")||[];r.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),r.includes("ne")&&(this.cropResizeDirection="ne"),r.includes("nw")&&(this.cropResizeDirection="nw"),r.includes("se")&&(this.cropResizeDirection="se"),r.includes("sw")&&(this.cropResizeDirection="sw"),r.includes("n")&&(this.cropResizeDirection="n"),r.includes("s")&&(this.cropResizeDirection="s"),r.includes("e")&&(this.cropResizeDirection="e"),r.includes("w")&&(this.cropResizeDirection="w")):r.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:n,y:l}):r.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:n,y:l},this.setState({cropArea:{h:0,w:0,x:n,y:l},cropChangeType:"select"}))}),_(this,"handleOnMouseMove",e=>{let{cropArea:{h:t,w:a,x:i,y:n},cropChangeType:l}=this.state,{imageSize:r}=this.props,{clientX:s,clientY:o}=e,d=s-this._cropperOverlayCoor.x,c=o-this._cropperOverlayCoor.y;if("resize"===l){let e=Math.max(Math.min(d,(r.w??1)-f),f),l=Math.max(Math.min(c,(r.h??1)-f),f);switch(this._checkCropHandleValid(e,l),this.cropResizeDirection){case"ne":{let a=Math.max(t+(n-l),48),r=Math.max(e-i,48);this.setState({cropArea:{h:a,w:r,x:i,y:a<=48?n:l}});break}case"nw":{let r=Math.max(a+(i-e),48),s=Math.max(t+(n-l),48);this.setState({cropArea:{h:s,w:r,x:48===r?i:e,y:48===s?n:l}});break}case"se":{let t=Math.max(l-n,48),a=Math.max(e-i,48);this.setState({cropArea:{h:t,w:a,x:i,y:n}});break}case"sw":{let t=Math.max(l-n,48),r=Math.max(a+(i-e),48);this.setState({cropArea:{h:t,w:r,x:48===r?i:e,y:n}});break}case"n":{let e=Math.max(n-l+t,48);this.setState({cropArea:{h:e,w:a,x:i,y:48===e?n:l}});break}case"s":{let e=Math.max(l-n,48);this.setState({cropArea:{h:e,w:a,x:i,y:n}});break}case"e":{let a=Math.max(e-i,48);this.setState({cropArea:{h:t,w:a,x:i,y:n}});break}case"w":{let l=Math.max(a-e+i,48);this.setState({cropArea:{h:t,w:l,x:48===l?i:e,y:n}})}}}else if("move"===l){let e=d-this.cropChangeStartCoor.x,l=c-this.cropChangeStartCoor.y,s=Math.max(Math.min(i+e,(r.w??1)-a-f),f),o=Math.max(Math.min(n+l,(r.h??1)-t-f),f);this.cropChangeStartCoor={x:d,y:c},this.setState({cropArea:{h:t,w:a,x:s,y:o}})}else if("select"===l){let e=Math.max(Math.min(d,r.w??1),0),t=Math.max(Math.min(c,r.h??1),0),a=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(a),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}}),_(this,"handleOnMouseUp",()=>{let{cropChangeType:e}=this.state;("resize"===e||"move"===e||"select"===e)&&this.handleCrop(),this.cropResizeDirection=null})}componentDidMount(){let{body:e}=document,t=this._cropperOverlay.current;if(t&&e){if(t){let e=t.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),t.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){let{body:e}=document,t=this._cropperOverlay.current;t&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),t.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){let{imageSize:e,onChange:t,viewParameter:a,logContextEvent:i}=this.props,{cropChangeType:n,cropArea:l}=this.state;if(0===l.w&&0===l.h)this.setState({cropChangeType:null}),t({origCrop:{h:(e.h??1)-2*f,w:(e.w??1)-2*f,x:f,y:f},cropSource:5});else{let r,s;this.setState({cropChangeType:null});let o=Math.max(Math.min(l.x,(e.w??1)-48-f),f),d=Math.max(Math.min(l.y,(e.h??1)-48-f),f);switch(r=l.h<48?48:d+l.h>(e.h??1)-f?(e.h??1)-d-f:l.h,s=l.w<48?48:o+l.w>(e.w??1)-f?(e.w??1)-o-f:l.w,n){case"move":i({event_type:7603,view_type:72,view_parameter:a});break;case"resize":i({event_type:7604,view_type:72,view_parameter:a})}t({origCrop:{h:r,w:s,x:o,y:d},cropSource:6})}}render(){let{children:e,previewCropArea:t,showPreviewArea:a}=this.props,{cropArea:{h:i,w:r,x:o,y:d},cropChangeType:c}=this.state;return(0,s.jsxs)(l.xu,{ref:this._cropperOverlay,dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},"data-test-id":"visual-search-cropper",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,s.jsx)(y.Z,{unsafeCSS:x}),(0,s.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:"Mask",children:[(0,s.jsx)("rect",{fill:"#fff",height:"100%",rx:"0",ry:"0",width:"100%",x:"0",y:"0"}),(0,s.jsx)("rect",{height:i,id:"hole",rx:0,ry:0,width:r,x:o,y:d},`${o}${d}`),(0,s.jsx)(n.Z,{classNames:"preview-crop-area",in:a&&!c,mountOnEnter:!0,timeout:300,unmountOnExit:!0,children:(0,s.jsx)("rect",{height:t.h,id:"preview",rx:4,ry:4,width:t.w,x:t.x,y:t.y},`${t.x}${t.y}`)})]})}),(0,s.jsx)("rect",{className:"v2shadowMask",height:"100%",mask:"url(#Mask)",style:{fill:"rgba(0,0,0,0.5)"},width:"100%",x:"0",y:"0"}),(0,s.jsx)("use",{className:"v2cropSection",fill:"rgba(0,0,0,0)",href:"#hole",stroke:"#fff",strokeWidth:"2",style:{cursor:"move"}}),"select"!==c&&(0,s.jsx)(h,{h:i,w:r,x:o,y:d})]}),e]})}}function b(e){let t=(0,r.Z)();return(0,s.jsx)(v,{logContextEvent:t,...e})}},403368:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var i=a(667294),n=a(883119),l=a(898781),r=a(785893);function s(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o extends i.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"handleMouseEnter",e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)}),s(this,"handleMouseLeave",e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)})}render(){let{forwardedRef:e,icon:t,onClick:a,onMouseDown:i,onMouseUp:l,selected:s,style:o,text:d,x:c,y:u,zIndex:p,backdropDiameter:g=32,dotDiameter:m=16}=this.props,{isHovering:h}=this.state,y=h?g+4:g;return(0,r.jsx)("div",{ref:e,"aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),"data-test-id":"flashlight-dot",onClick:a,onKeyPress:a,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:l,role:"button",style:{zIndex:p,position:"absolute",top:u-y/2,left:c-y/2,outline:"none"},tabIndex:"0",children:(0,r.jsxs)(n.xu,{alignItems:"center",borderStyle:"none",color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:s?"0 0 0 3px #e60023":"none",borderRadius:m,top:(y-m)/2,left:(y-m)/2,...o}},"data-test-id":"flashlight-dot-style",display:"flex",height:m,justifyContent:"center",padding:0,position:"absolute",width:m,children:[!!d&&(0,r.jsx)(n.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:d}),t&&(0,r.jsx)(n.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:t,inline:!0,size:m/2})]})})}}let d=(0,i.forwardRef)((e,t)=>{let a=(0,l.ZP)();return(0,r.jsx)(o,{...e,forwardedRef:t,i18n:a})})},352870:(e,t,a)=>{"use strict";a.d(t,{Z:()=>w});var i,n,l=a(667294);a(167912);var r=a(616550),s=a(485019),o=a(112690),d=a(403368),c=a(829407),u=a(785893);function p({showAnimation:e,auxData:t,index:a,isStela:i,onClick:n,onHover:l,onUnhover:r,spotlightCenter:s,viewParameter:p,viewType:g}){let m=(0,o.Z)(),h=i?1221:1260;(0,c.Z)(()=>{m({event_type:120,element:h,aux_data:t,view_parameter:p,view_type:g})});let y=parseFloat((.1*(a+1)).toFixed(2)),_={animation:e?`spotlightDotPop 0.6s ease-out ${y}s both`:"none"};return(0,u.jsx)(d.Z,{onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),m({aux_data:t,element:h,event_type:101,view_parameter:p,view_type:g}),n(a)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),l(a)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),r()},style:_,x:s.x,y:s.y})}var g=a(916117),m=a(391254),h=a(999018),y=a(599611);let _=`
@keyframes spotlightDotPop {
  0% {
    transform: scale(0);
  }

  100% {
    transform: scale(1);
  }
}`,f=void 0!==i?i:i=a(52892),x=({showAnimation:e,pinKey:t,imageSignature:a,imageSize:i,currentSpotlightIdx:n,handleSpotlightClick:r,handleSpotlightHover:s,handleSpotlightUnhover:o,viewParameter:d,viewType:c})=>{let x=(0,g.Z)(f,t),v=(0,h.Z)(x),b=(x.visualObjects??[]).filter(e=>e.isStela)||[];return(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(m.Z,{unsafeCSS:_}),b.map((t,l)=>{if(l===n)return null;let{x:g,y:m,w:h,h:_}=t,f=(0,y.Z)({cropArea:{x:g,y:m,w:h,h:_},scaledWidth:i.w??0,scaledHeight:i.h??0}),b={x:f.x+f.w/2,y:f.y+f.h/2},S={...v({override:{entrypoint:"flashlight"}}),pin_id:x.entityId,image_signature:a,visual_objects:JSON.stringify([{x:t.x,y:t.y,w:t.w,h:t.h}])},w=`${b.x}${b.y}`;return(0,u.jsx)(p,{auxData:S,index:l,isStela:!!t.isStela,onClick:r,onHover:s,onUnhover:o,showAnimation:e,spotlightCenter:b,viewParameter:d,viewType:c},w)})]})};var v=a(94047),b=a(297852);let S=void 0!==n?n:n=a(225785);function w({customCropper:e,imageSize:t,imageSignature:a,initialCropArea:i,pinKey:n,showAnimation:o,trafficSource:d,viewParameter:c,viewType:p}){let m=(0,g.Z)(S,n),h=(0,r.k6)(),[_,f]=(0,l.useState)(!1),[w,k]=(0,l.useState)({w:0,h:0,x:0,y:0}),[P,T]=(0,l.useState)(0),j=(0,l.useMemo)(()=>(m.visualObjects??[]).filter(e=>e.isStela)||[],[m.visualObjects]);(0,l.useEffect)(()=>{let e=j.findIndex(e=>{let{x:a,y:n,w:l,h:r}=e;return function(e,t,a){let i=Object.keys(e).reduce((a,i)=>a+Math.abs(e[i]-t[i]),0);return i<=4}(i,(0,y.Z)({cropArea:{x:a,y:n,w:l,h:r},scaledWidth:t.w??0,scaledHeight:t.h??0}),0)});T(e)},[t,i,j]);let I=({origCrop:e,cropSource:t,trafficSource:a,title:i})=>{let{entityId:n}=m,l=window.location.pathname+window.location.search,r=(0,b.Z)({cropArea:e,cropSource:t??6,isProductPage:!1,pinId:n,title:i,trafficSource:a,surfaceType:"flashlight"});r!==l&&(h.replace(r),h.replace({pathname:`/pin/${n}/visual-search/`,search:(0,v.Z)({cropArea:e,cropSource:t??6,title:i,trafficSource:a,surfaceType:"flashlight"}),state:{internalNavigation:!0}}))},F=j&&!!j.length;return(0,u.jsx)(s.Z,{imageSize:t,initialCropArea:i,onChange:e??I,previewCropArea:w,showPreviewArea:!1,viewParameter:c,children:F&&(0,u.jsx)(x,{currentSpotlightIdx:P,handleSpotlightClick:a=>{let i=j[a],{x:n,y:l,w:r,h:s}=i,o=(0,y.Z)({cropArea:{x:n,y:l,w:r,h:s},scaledWidth:t.w??0,scaledHeight:t.h??0}),c={origCrop:o,cropSource:i.isStela?4:1,trafficSource:d,title:i.title||""};e?e(c):I(c)},handleSpotlightHover:e=>{if(e!==P){f(!0);let{x:a,y:i,w:n,h:l}=j[e];k((0,y.Z)({cropArea:{x:a,y:i,w:n,h:l},scaledWidth:t.w??0,scaledHeight:t.h??0}))}},handleSpotlightUnhover:()=>{f(!1)},imageSignature:a,imageSize:t,pinKey:m,showAnimation:o,viewParameter:c,viewType:p})},JSON.stringify(i))}},310227:(e,t,a)=>{"use strict";a.d(t,{Dv:()=>l,Ml:()=>r,Oc:()=>i,mv:()=>n});let i=16,n=4,l={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},483205:(e,t,a)=>{"use strict";a.d(t,{I6:()=>n,Nv:()=>i,RZ:()=>l,ZG:()=>o,b9:()=>s,s0:()=>r});let i=44,n=24,l=446,r=.05,s=36,o=20},754320:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var i=a(667294),n=a(883119),l=a(407043),r=a(643010),s=a(444445),o=a(898781),d=a(905031),c=a(50286),u=a(785893);let p=({contentIds:e,previewImageSrc:t,url:a,buttonText:p,imageWidth:g,isInMobileCarousel:m,slideWidth:h,shape:y="square",storyId:_,storyType:f,view:x,viewParameter:v,component:b,element:S})=>{let w="square"===y?4:"circle",k=g??s.yF,P=(0,d.Z)()?s.tG:k,T=(0,c.HG)(),j=(0,r.vs)(),{logContextEvent:I}=(0,l.v)(),F=(0,o.ZP)(),C=(0,i.useMemo)(()=>!Number.isNaN(x)&&!Number.isNaN(v)&&!Number.isNaN(b)&&!Number.isNaN(S),[x,v,b,S]),A="lg";return m&&h&&(A=h>150?"lg":h>135&&h<=150?"md":"sm"),(0,i.useEffect)(()=>{C&&I({event_type:120,view_type:x,view_parameter:v,component:b,element:S,aux_data:{content_ids:e,story_id:_,story_type:f}})},[e,I,x,v,b,S,C,_,f]),(0,u.jsx)(n.xu,{"data-test-id":"sf-action-item-rep",children:(0,u.jsx)(n.xu,{color:"secondary",height:m?h:P,overflow:"hidden",rounding:w,width:m?h:P,children:(0,u.jsx)(n.zd,{height:"100%",rounding:w,wash:!0,width:"100%",children:(0,u.jsx)(n.Ee,{alt:F._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,src:t,children:(0,u.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,top:!0,width:"100%",children:(0,u.jsx)(n.ZP,{color:j?"gray":"white",href:a,onClick:()=>{C&&I({event_type:T?101:102,view_type:x,view_parameter:v,component:b,element:S,aux_data:{content_ids:e,story_id:_,story_type:f}})},size:A,text:p})})})})})})}},701865:(e,t,a)=>{"use strict";a.d(t,{Z:()=>F});var i=a(667294),n=a(616550),l=a(883119),r=a(407043),s=a(366428),o=a(992061),d=a(444445),c=a(898781),u=a(608760),p=a(215292),g=a(785893);function m({item:e={},imagePlaceholderColor:t=u.hK,onTap:a}){let n=(0,c.ZP)(),r=e?.cover_images?.[0],s=r?.["236x"];return(0,g.jsx)(l.iP,{onTap:a,children:(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(p.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:i})=>(0,g.jsx)(l.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:a,onMouseLeave:i,children:(0,g.jsxs)(l.zd,{height:d.yF,rounding:"circle",wash:!0,width:d.yF,children:[(0,g.jsx)(o.Z,{hovered:e,rounding:"circle"}),(0,g.jsx)(l.Ee,{alt:n._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:t,fit:"cover",naturalHeight:d.yF,naturalWidth:d.yF,src:s?.url||""})]})})}),e?.title?.format&&(0,g.jsx)(l.xu,{width:d.yF,children:(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:e.title.format})})]})})}var h=a(752802),y=a(57427),_=a(327651),f=a(641968),x=a(50286);let v=["170x","192x","200x","236x"];var b=a(668916);let S="pill";var w=a(642345),k=a(48125),P=a(429091),T=a(180910);let j=()=>{},I={2:m,3:function({item:e={},onTap:t}){let a=(0,c.ZP)(),i=e?.identifier_icon_type,{icon:n,text:r}=function(e,t){switch(e){case 2:return{icon:"workflow-status-all",text:t._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:t._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:t._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}}(i,a);return(0,g.jsx)(l.iP,{onTap:t,rounding:n?5:S,tapStyle:"compress",children:(0,g.jsx)(p.q,{children:({active:t,hovered:a,onMouseEnter:i,onMouseLeave:s,onFocus:c,onBlur:u})=>(0,g.jsxs)(l.xu,{"data-test-id":"navigation-bubble",onBlur:u,onFocus:c,onMouseEnter:i,onMouseLeave:s,rounding:5,children:[n&&(0,g.jsxs)(l.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,g.jsx)(o.Z,{hovered:a}),(0,g.jsx)(l.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,g.jsx)(l.JO,{accessibilityLabel:r||"",color:"default",icon:n,size:32})})]}),r&&(0,g.jsx)(l.xu,{marginTop:2,width:85,children:(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:r})}),!n&&!r&&e?.title?.format&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.aux_fields?.button_background_color}},rounding:S,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t&&"rgba(0, 0, 0, 0.15)"||a&&"rgba(0, 0, 0, 0.06)"||void 0}},padding:4,rounding:S,children:(0,g.jsx)(l.xv,{align:"center",color:e.aux_fields?.button_text_color==="#ffffff"?"inverse":"default",weight:"normal",children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},maxWidth:d.yF-16,overflow:"hidden",children:e.title.format})})})})]})})})},1:function({item:e={},onTap:t}){let a=(0,c.ZP)(),i=e?.cover_images?.[0],n=i?.["236x"];return(0,g.jsx)(l.iP,{onTap:t,rounding:3,tapStyle:"compress",children:(0,g.jsx)(p.q,{children:({hovered:t,onMouseEnter:i,onMouseLeave:r})=>(0,g.jsx)(l.xu,{"data-test-id":"search-bubble",onMouseEnter:i,onMouseLeave:r,rounding:3,children:(0,g.jsxs)(l.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,g.jsx)(o.Z,{hovered:t}),(0,g.jsx)(l.Ee,{alt:a._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:n?.url||"",children:(0,g.jsx)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:150,justifyContent:"center",padding:3,position:"absolute",top:!0,width:300,children:e?.title?.format&&(0,g.jsx)(l.X6,{color:"inverse",size:"400",children:e.title.format})})})]})})})})},4:function({item:e,onTap:t,slotIndex:a}){let{action:i,aux_fields:n,cover_images:r,dominant_colors:s,title:o}=e;if(!o||!r||!i)return null;let d=r.length<=0?[{}]:r.slice(0,2);return(0,g.jsx)(l.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,g.jsxs)(l.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:P.u,children:[(0,g.jsx)(l.kC,{children:d.map((e,t)=>(0,g.jsx)(l.zd,{height:258,wash:!0,width:P.u/d.length,children:(0,g.jsx)(l.Ee,{alt:"",color:(s||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e["474x"]?.url||e["736x"]?.url||e["236x"]?.url||""})},`styleCarousel_bubble${a}_pin${t}`))}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:(0,g.jsx)("span",{style:{color:n?.button_text_color,margin:"0"},children:o.format})})})]})})},13:({item:e={},onTap:t})=>{let a=(0,c.ZP)(),i=(0,x.HG)(),n=e.action?.url;if(!n)return null;let r=e.curator||{},s=r.full_name||"",o=r.username||"",u=r.image_medium_url||"",p=r.verified_identity?.verified||!1,m=r.is_verified_merchant||!1,[b={},S={}]=e.cover_images||[],w=h.Z({images:b,resolutionPreferences:v})?.url||"",k=h.Z({images:S,resolutionPreferences:v})?.url||"",P=i?d.yF:d.tG;return(0,g.jsxs)(l.xu,{"data-test-id":"default-brand-article",width:P,children:[(0,g.jsx)(l.Tg,{accessibilityLabel:"",href:n,onTap:t,rounding:3,children:(0,g.jsxs)(l.xu,{height:157,children:[(0,g.jsx)(l.zd,{height:157,rounding:4,wash:!0,width:P,children:w&&k&&(0,g.jsxs)(l.kC,{children:[(0,g.jsx)(y.Z,{height:157,src:w,width:P/2}),(0,g.jsx)(l.xu,{color:"default",width:1}),(0,g.jsx)(y.Z,{height:157,src:k,width:P/2})]})}),(0,g.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,g.jsx)(_.Z,{color:"gray",fullName:s||o,size:64,src:u||""})})]})}),(0,g.jsx)(l.xu,{height:40}),s&&(0,g.jsx)(f.Z,{isVerifiedIdentity:p,isVerifiedMerchant:m,name:s}),(0,g.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:2,width:"100%",children:(0,g.jsx)(l.ZP,{accessibilityLabel:a._('Navigate to a feed of products from this brand', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel', 'Accessibility label on a brand article that leads to a feed of products from that brand'),href:n,size:"lg",text:a._('Shop', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText', 'Text on a button under a brand article that leads to a feed of products from that brand')})})]})},19:function({item:e,onTap:t}){let a=(0,x.HG)(),{action:i,cover_images:n,dominant_colors:r,title:s,subtitle:o}=e,d=s?.format;if(!d||!n||!i)return null;let c=a?200:150,u=a?T.KW:T.hk,p=a?T.d:T.Gd,m=o?.format||"",y=n.slice(0,3);return(0,g.jsx)(l.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,g.jsxs)(l.xu,{"data-test-id":"triple-preview-display-card",rounding:4,width:p,children:[(0,g.jsx)(l.zd,{height:c,rounding:4,wash:!0,width:p,children:(0,g.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:y.map((e,t)=>{let a=h.Z({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"";return(0,g.jsx)(l.xu,{height:c,width:u,children:(0,g.jsx)(l.Ee,{alt:"",color:(r||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:a})},a)})})}),(0,g.jsxs)(l.xu,{marginTop:4,children:[(0,g.jsx)(l.kC,{justifyContent:"center",children:(0,g.jsx)(l.xv,{align:"center",size:"400",weight:"bold",children:d})}),m&&(0,g.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,g.jsx)(l.xv,{align:"center",color:"subtle",size:a?"200":"100",children:m})})]})]})})},20:function({item:e,onTap:t}){let a=(0,x.HG)(),{action:i,cover_images:n,aux_fields:r,title:s,subtitle:o,dominant_colors:d=[]}=e,c=s?.format||"",{background_color:u}=r||{};if(!c||!n||!i||!u)return null;let p=a?k.m:k.d,m=a?186:160,y=a?126:108,_=a?137:118,f=a?92:80,v=o?.format||"",b=n.slice(0,3).map(e=>h.Z({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||""),S=(0,w.zI)(u)?"light":"dark";return(0,g.jsx)(l.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},"data-test-id":"stacked-collage-display-card",height:p,overflow:"hidden",rounding:4,width:p,children:(0,g.jsxs)(l.xu,{height:p,padding:2,position:"relative",children:[(0,g.jsxs)(l.xu,{marginBottom:3,marginTop:4,children:[(0,g.jsx)(l.kC,{justifyContent:"center",children:(0,g.jsx)(l.xv,{align:"center",color:S,lineClamp:1,size:"400",weight:"bold",children:c})}),v&&(0,g.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,g.jsx)(l.xv,{align:"center",color:S,lineClamp:1,size:"100",children:o?.format})})]}),(0,g.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",children:(0,g.jsx)(l.zd,{height:_,rounding:4,wash:!0,width:f,children:(0,g.jsx)(l.xu,{height:_,width:f,children:(0,g.jsx)(l.Ee,{alt:"",color:d[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:b[1]})})})}),(0,g.jsx)(l.xu,{bottom:!0,position:"absolute",right:!0,children:(0,g.jsx)(l.zd,{height:_,rounding:4,wash:!0,width:f,children:(0,g.jsx)(l.xu,{height:_,width:f,children:(0,g.jsx)(l.Ee,{alt:"",color:d[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:b[2]})})})}),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,g.jsx)(l.zd,{height:m,rounding:4,wash:!0,width:y,children:(0,g.jsx)(l.xu,{height:m,width:y,children:(0,g.jsx)(l.Ee,{alt:"",color:d[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:b[0]})})})})]})})})},21:function({item:e,onTap:t}){let{cover_images:a,dominant_colors:i,title:n}=e;if(!n||!a)return null;let r=a[0];return(0,g.jsx)(l.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,g.jsx)(l.xu,{borderStyle:"shadow",color:"default",height:189,overflow:"hidden",position:"relative",rounding:4,width:b.H,children:(0,g.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(l.Ee,{alt:"",color:(i||[])[0],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:r["474x"]?.url||r["736x"]?.url||r["236x"]?.url||"",children:(0,g.jsx)(l.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",paddingX:3,paddingY:3,width:"100%",children:(0,g.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:"100%",children:(0,g.jsx)(l.xv,{align:"start",color:"light",size:"300",weight:"bold",children:n.format})})})})})})})}};function F(e){let{component:t,slotIndex:a,item:o,showExpandedHeader:d,story:c,view:u,viewParameter:p}=e,{display_options:h,story_type:y,id:_,content_ids:f}=c||{},{logContextEvent:x}=(0,r.v)(),v=(0,n.k6)(),b=o?.id,S=(0,i.useMemo)(()=>({story_type:y,story_id:_,content_ids:f,article_id:b}),[b,f,_,y]),w=(0,s.Z)({componentType:t,contextLogData:S,impressionType:"Article",loggingId:b,objectIdStr:b,slotIndex:a,viewParameter:p,viewType:u}),k=d?h?.item_view_rep_style?.expanded_explore_article_rep_style:h?.item_view_rep_style?.explore_article_rep_style,{action:P}=o||{},{url:T=""}=P||{},F=Object.hasOwnProperty.call(I,k)?I[k]:m,C=d?j:()=>{v.push(T),x({event_type:101,component:t,view_type:u,view_parameter:p,aux_data:S})};return(0,g.jsx)(l.xu,{ref:w,children:(0,g.jsx)(F,{...e,onTap:C})})}},668916:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});let i=252},48125:(e,t,a)=>{"use strict";a.d(t,{d:()=>i,m:()=>n});let i=216,n=258},429091:(e,t,a)=>{"use strict";a.d(t,{u:()=>i});let i=369},180910:(e,t,a)=>{"use strict";a.d(t,{Gd:()=>l,KW:()=>n,d:()=>r,hk:()=>i});let i=108,n=124,l=3*i,r=3*n},232921:(e,t,a)=>{"use strict";a.d(t,{lf:()=>n,wg:()=>l,xR:()=>i});let i=299,n=270,l=232},981228:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x});var i=a(667294),n=a(883119),l=a(407043),r=a(34518);let s=e=>e?r.a$:r.Ql;function o(e,t,a){return{backgroundColor:`rgba(${e.join(", ")}, ${s(a||t)})`,marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"}}var d=a(232921),c=a(785893);let u={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},p=(e,t,a)=>{let i;switch(a){case"MOBILE":i={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":i={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":i={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:i={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}let n=i[e];return n.border="1px solid #FFFFFF",n.transition="all 150ms ease-out",n};function g({fanOut:e,card:t,index:a,size:i}){let l;let r=u[i],{height:s=r.HEIGHT_PX,url:o,width:d=r.WIDTH_PX,colorRGB:g,opacity:m}=t;return o?l=(0,c.jsx)(n.Ee,{alt:o,fit:"cover",naturalHeight:s,naturalWidth:d,src:o}):g&&m&&(l=(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${g.join(", ")}, ${m})`}},height:r.HEIGHT_PX,width:r.WIDTH_PX})),(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:p(a,e,i)},position:"absolute",rounding:5,children:(0,c.jsx)(n.zd,{height:r.HEIGHT_PX,rounding:5,wash:!0,width:r.WIDTH_PX,children:l})})}function m(){return(0,c.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}},left:!0,position:"absolute",right:!0,rounding:r.N3,top:!0})}var h=a(605706),y=a(50286);let _={1:function(e){let{pinCards:t,isClicked:a,isHovered:i,item:l={},story:s}=e,u=(0,y.HG)(),p=(0,h.Z)(),_=s&&s.objects?.length,{board_name:f,header_text:x,top_image_dominant_color_rgb:v}=l,b=a?106:110,S=a?d.xR-4:d.xR;u||(b=90,S=1===_?"100%":p?d.wg:d.lf);let w=155;return u||(w=p?108:148),(0,c.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:o(v,a,i)},display:"flex",height:b,paddingY:2,position:"relative",rounding:r.N3,width:S,children:[(0,c.jsx)(m,{}),(0,c.jsx)(n.xu,{position:"relative",width:u?112:100,children:t.map((e,t)=>(0,c.jsx)(g,{card:e,fanOut:i||a,index:t,size:u?"SMALL":"MOBILE"},t))}),(0,c.jsxs)(n.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:u?2:3,width:w,children:[(0,c.jsx)(n.xv,{size:u?"200":"100",children:x}),(0,c.jsx)(n.xv,{lineClamp:2,size:"400",weight:"bold",children:f})]})]})},3:function(e){let{pinCards:t,isClicked:a,isHovered:i,item:l}=e,{board_name:s,top_image_dominant_color_rgb:d}=l;return(0,c.jsxs)(n.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:o(d,a,i)},display:"flex",height:a?165:169,justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:r.N3,width:a?232:236,children:[(0,c.jsx)(m,{}),t.map((e,t)=>(0,c.jsx)(g,{card:e,fanOut:i||a,index:t,size:"DEFAULT"},t)),(0,c.jsx)(n.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:s})]})},4:function(e){let{logContextEvent:t}=(0,l.v)(),{pinCards:a,isHovered:i,item:s,view:d,viewParameter:u}=e,{action:p,board_name:h,header_text:y,ideas_deep_link_url:_,top_image_dominant_color_rgb:f}=s,x=p?.url??_.concat("?ideas_referrer=25");return(0,c.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:o(f,!1,i)},direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,paddingX:4,paddingY:8,position:"relative",rounding:r.N3,width:236,children:[a.map((e,t)=>(0,c.jsx)(g,{card:e,fanOut:i,index:t,size:"LARGE"},t)),(0,c.jsx)(n.xu,{height:168,width:"100%"}),(0,c.jsx)(m,{}),(0,c.jsxs)(n.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,c.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,marginTop:5,children:[(0,c.jsx)(n.xu,{marginBottom:1,children:(0,c.jsx)(n.xv,{size:"200",weight:"bold",children:y})}),(0,c.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:h})]}),(0,c.jsx)(n.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,c.jsx)(n.ZP,{color:"white",href:x,onClick:({event:e})=>{e.stopPropagation(),t({event_type:101,view_type:d,view_parameter:u,component:14268,element:13002,object_id_str:s.board_id})},size:"lg",text:"Explore"})})]})]})}},f=["100%","60%"];function x(e){let{component:t,isInViewOrNext:a,item:{action:s,board_id:o,ideas_deep_link_url:d,images:u,image_dominant_color_rgb:p},slotIndex:g,story:m={},view:h,viewParameter:x}=e,{logContextEvent:v}=(0,l.v)(),b=(0,y.ZP)(),{display_options:S,objects:w}=m,k=w?.length,[P,T]=(0,i.useState)(!1),[j,I]=(0,i.useState)(!1),[F,C]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if("desktop"===b){let e=setTimeout(()=>C(!0),700);return()=>{clearTimeout(e)}}},[b]);let A=[],E="desktop"!==b?r.mS:r.S$;(a||"desktop"!==b)&&(A=F?[...u[E]]:[u[E][0]]);let D=3-A.length;for(let e=0;e<D;e+=1)A.push({colorRGB:p,opacity:f[e]});A.reverse();let R=S?.item_view_rep_style?.more_ideas_rep_style,L=_[R],M=t||r.kx[R],Z=s?.url??d.concat("?ideas_referrer=25");return L&&(0,c.jsx)(n.Tg,{href:Z,onMouseDown:()=>I(!0),onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),onTap:()=>v({event_type:101,view_type:h,view_parameter:x,component:M,element:13002,object_id_str:o,aux_data:{index:g,total_object_count:k}}),children:(0,c.jsx)(L,{isClicked:j,isHovered:P,pinCards:A,...e})})}},34518:(e,t,a)=>{"use strict";a.d(t,{N3:()=>i,Ql:()=>n,S$:()=>r,a$:()=>l,kx:()=>o,mS:()=>s});let i=4,n=.35,l=.5,r="170x",s="136x136",o={1:14114,3:14074,4:14268}},988874:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var i=a(616550),n=a(883119),l=a(444445),r=a(91885),s=a(477802),o=a(826067),d=a(50286),c=a(8742),u=a(785893);let p=new Set(["shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),g=new Set(["product_tagged_shopping_module_upsell"]),m=e=>e?.shop_source||p.has(e?.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct";function h(e){let{pins_display:t}=(0,o.mB)((0,i.TH)().search),{component:a,isInMobileCarousel:p,imageWidth:h,item:y,saveButtonOptions:_,slideWidth:f,slotIndex:x,story:v,surface:b,view:S,viewParameter:w}=e,k=h??l.yF,P="desktop"===(0,d.ZP)(),T=P?k:l.tG;if(!y)return null;let{story_type:j,id:I,content_ids:F,display_options:C,user:A}=v||{},{pins_display:E}=C?.content_display||{},{id:D,debug:R}=y,L=![3,1].includes(E??Number(t)),M={story_type:j,story_id:I,content_ids:F},Z=b||m(v),O={auxData:M,componentType:v?.display_options?.content_display?.component_type??a,impressionData:M,pinId:D,slotIndex:x,viewData:{pin_id:D},viewParameter:w,viewType:S},K={authDesktopSurface:Z,disableHover:!P,pin:y,pinImageCrop:L?{height:T,width:T}:null,saveButtonOptions:_,pinOwner:g.has(j)&&A?A:null},z=(0,u.jsxs)(n.xu,{"data-test-id":r.Kb,children:[(0,u.jsx)(c.ZP,{...O,...K,duploDisablePinCardPadding:p,duploIsSquarePin:L,duploQueryRef:null,trafficSource:"ShoppingDynamicHeightGrid"===Z?"shop_feed":void 0}),R&&(0,u.jsx)(s.Wu,{data:R})]});return L?(0,u.jsx)(n.xu,{flex:"none",width:p?f:T,children:z},D):z}},57427:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(883119),n=a(785893);function l({height:e,width:t,src:a}){return(0,n.jsx)(i.xu,{height:e,width:t,children:(0,n.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:e,naturalWidth:t,role:"presentation",src:a})})}},456183:(e,t,a)=>{"use strict";a.d(t,{Z:()=>_});var i=a(667294),n=a(616550),l=a(883119),r=a(407043),s=a(366428),o=a(444445),d=a(327651),c=a(641968),u=a(608760),p=a(785893);let g=.4*o.yF,m=.75*o.yF;var h=a(57427);let y={5:({item:e,imagePlaceholderColor:t=u.hK})=>{let{username:a,image_large_url:i,full_name:n,is_verified_merchant:r=!1,verified_identity:s}=e;return(0,p.jsxs)(l.xu,{width:o.yF,children:[(0,p.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(d.Z,{color:t,fullName:n||a,size:120,src:i||""})}),n&&(0,p.jsx)(c.Z,{isVerifiedIdentity:!!s?.verified,isVerifiedMerchant:r,name:n})]})},1:({item:e={},story:t,imagePlaceholderColor:a=u.hK})=>{let{username:i,image_large_url:n,full_name:r,id:s,is_verified_merchant:y=!1,verified_identity:_}=e,f=t?.custom_properties?.preview_image_map?.[s]?.[0]||"";return(0,p.jsxs)(l.xu,{height:o.yF,width:o.yF,children:[(0,p.jsx)(l.zd,{height:m,rounding:4,wash:!0,width:o.yF,children:(0,p.jsx)(h.Z,{height:o.yF,src:f,width:o.yF})}),(0,p.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.Z,{color:a,fullName:r||i,size:g,src:n||""})}),r&&(0,p.jsx)(c.Z,{isVerifiedIdentity:!!_?.verified,isVerifiedMerchant:y,name:r})]})},2:({item:e={},story:t})=>{let{username:a,image_large_url:i,full_name:n,id:r,is_verified_merchant:s=!1,verified_identity:u}=e,[y="",_=""]=t?.custom_properties?.preview_image_map?.[r]||[];return(0,p.jsxs)(l.xu,{width:o.yF,children:[(0,p.jsxs)(l.xu,{height:o.yF,children:[(0,p.jsx)(l.zd,{height:m,rounding:4,wash:!0,width:o.yF,children:(0,p.jsxs)(l.kC,{children:[(0,p.jsx)(h.Z,{height:o.yF,src:y,width:o.yF/2}),(0,p.jsx)(l.xu,{color:"default",width:2}),(0,p.jsx)(h.Z,{height:o.yF,src:_,width:o.yF/2})]})}),(0,p.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.Z,{color:"gray",fullName:n||a,size:g,src:i||""})})]}),n&&(0,p.jsx)(c.Z,{isVerifiedIdentity:!!u?.verified,isVerifiedMerchant:s,name:n})]})}};function _(e){let{logContextEvent:t}=(0,r.v)(),a=(0,n.k6)(),{story:o={},slotIndex:d,component:c,view:u,viewParameter:g,item:m}=e,h=o.display_options?.item_view_rep_style?.user_rep_style||5,_=y[h],f=(0,i.useMemo)(()=>({story_type:o.story_type,story_id:o.id,content_ids:o.content_ids,user_id:m.id}),[m,o]),x=(0,s.Z)({contextLogData:f,impressionType:"User",loggingId:m.id,objectIdStr:m.id,slotIndex:d,viewParameter:g,viewType:u});return _?(0,p.jsx)(l.iP,{ref:x,onTap:()=>{t({event_type:101,view_type:u,view_parameter:g,component:c,aux_data:f}),a.push(`/${m.username}`)},children:(0,p.jsx)(_,{...e})}):null}},327651:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var i=a(883119),n=a(992061),l=a(898781),r=a(349700),s=a(215292),o=a(785893);function d({color:e,fullName:t,size:a,src:d}){let c=(0,l.ZP)();return(0,o.jsx)(s.q,{children:({hovered:l,onMouseEnter:s,onMouseLeave:u})=>(0,o.jsx)(i.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:s,onMouseLeave:u,children:(0,o.jsxs)(i.zd,{height:a,rounding:"circle",wash:!0,width:a,children:[(0,o.jsx)(n.Z,{hovered:l,rounding:"circle"}),(0,o.jsx)(i.Ee,{alt:(0,r.nk)(c._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:t}).join(""),color:e,naturalHeight:a,naturalWidth:a,src:d})]})})})}},641968:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(883119),n=a(865607),l=a(785893);function r({name:e,isVerifiedIdentity:t,isVerifiedMerchant:a}){return(0,l.jsxs)(i.kC,{alignContent:"center",alignItems:"stretch",gap:1,justifyContent:"center",children:[e&&(0,l.jsx)(i.xv,{inline:!0,weight:"bold",children:e}),(0,l.jsx)(n.Z,{isVerifiedIdentity:t,isVerifiedMerchant:a,size:"sm"})]})}},87165:(e,t,a)=>{"use strict";a.d(t,{i:()=>s});var i=a(883119),n=a(444445),l=a(785893);function r(){return(0,l.jsx)(i.xu,{width:n.yF})}function s(e){return Array(e).fill().map((e,t)=>(0,l.jsx)(r,{},t))}},63404:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x,v:()=>h});var i,n=a(167912),l=a(240684),r=a(175892),s=a(897243),o=a(934494),d=a(701865),c=a(981228),u=a(988874),p=a(456183),g=a(785893);let m=(0,l.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e(97270),a.e(10966),a.e(40113),a.e(39921)]).then(a.bind(a,369083)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return a(t)},resolve:()=>369083});function h(e){return e?.type==="pin"&&(e.images?.["236x"]||{}).url||null}let y=void 0!==i?i:i=a(883597);function _(e){let{itemData:t,...a}=e,{slotIndex:i,view:n,item:l}=e,{pinId:o,pinGraphQLRef:h}=t;if(h)return o&&n?(0,g.jsx)(m,{duploQueryRef:h,pinId:o,slotIndex:i,viewType:n}):null;switch(l?.type){case"pin":return(0,g.jsx)(u.Z,{...a});case"user":return(0,g.jsx)(p.Z,{...a});case"board_more_ideas_feed_upsell":return(0,g.jsx)(c.Z,{...a});case"explorearticle":return(0,g.jsx)(d.Z,{...a});case"productgroup":return(0,g.jsx)(r.Z,{productGroup:{coverImages:l.cover_images?.map(e=>s.b(e)),description:l.description,entityId:l.id??"",groupType:l.group_type,name:l.name,previewPins:l.preview_pins?.map(e=>({imageSignature:e.image_signature,images:e.images&&s.b(e.images)}))},slotIndex:i});default:return null}}let f=(0,o.Z)({useGraphQLAdapter:e=>{let t=(0,n.useFragment)(y,e),{pinId:a}=t;return{pinId:a,pinGraphQLRef:t}},useLegacyAdapter:e=>e?{item:e,pinGraphQLRef:null}:null});function x({pinGraphQLRef:e,...t}){return(0,g.jsx)(f,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.item},children:({data:e})=>e&&(0,g.jsx)(_,{...t,itemData:e})})}},643897:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(883119),n=a(608760),l=a(785893);let r=new Map([["pin",4]]);function s({children:e,itemType:t}){return(0,l.jsx)(i.xu,{marginBottom:r.get(t)||n.mT,children:e})}},608760:(e,t,a)=>{"use strict";a.d(t,{g5:()=>r,hK:()=>n,mT:()=>l});var i=a(988874);let n="lightGray",l=8,r={itemRep:i.Z,shape:"square",getImage:()=>""}},563886:(e,t,a)=>{"use strict";a.d(t,{Z:()=>N});var i,n=a(667294),l=a(167912),r=a(883119),s=a(792182),o=a(934494),d=a(444445),c=a(898781),u=a(773285),p=a(754320),g=a(668916),m=a(48125),h=a(429091),y=a(180910),_=a(34518),f=a(232921),x=a(63404),v=a(580326),b=a(848385),S=a(605706),w=a(782975),k=a(905031),P=a(50286),T=a(435497),j=a(239062),I=a(751191),F=a(455024),C=a(390598),A=a(785893);let E=new Set([3,4]),D=new Set([1]),R=({text:e,url:t})=>!!e&&!!t,L=e=>R(e)&&E.has(e.location),M=e=>R(e)&&D.has(e.location),Z=void 0!==i?i:i=a(992872),O=({contentVisibleItemCount:e,moduleWidth:t,gutterWidth:a,isMoreIdeasListCard:i,isStyleBubble:n,isImageAndTitleRep:l,isStorefrontSpotlightCarousel:r,isSfModuleOnMobile:s,isSmallMobileScreen:o,isStackedCollageDisplayCard:c,isTriplePreviewDisplayCard:u,totalObjectCount:p,containerRef:_,deviceType:x,windowWidth:v})=>{let b=s?d.tG:d.yF,S="desktop"===x;if(u)return S?y.d:y.Gd;if(c)return S?m.m:m.d;if(i)return S?f.xR:1===p?_.current?.clientWidth||0:o?f.wg:f.lf;if(n)return h.u;if(l)return g.H;if(r)return C.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS.WIDTH;if(e){let i=S?d.oX:d.yt,n=a??i,l=t?(0,d.Wv)({contentVisibleItemCount:e,gap:n,width:parseInt(t,10)}):d.yF,r=S?l:d.tG,s=Math.floor(e);return Math.min(Math.floor((v-s*n)/e),parseInt(r,10))}return b};function K(e){let{addContentRight:t,componentFallback:a,dangerouslySetActionUrl:i,disableHeader:l,allowHover:o,gutterWidth:g,initialSlotIndex:m=0,productTagParentPinId:h,styleOverrides:y,saveButtonOptions:f,storyData:C,surface:E,view:D,viewParameter:R,width:Z}=e,{data:{contentIds:K,displayOptions:z,objects:N,action:H,storyId:G,storyTitle:B,storyType:$},rawStoryData:U,storyGraphqlRef:W,__dataKeys:V}=C,[Y,q]=(0,n.useState)(0),X=(0,n.useRef)(null),Q=(0,k.Z)(),J=(0,S.Z)(),ee=(0,P.ZP)(),et="desktop"===ee,[ea,ei]=(0,n.useState)(!1),{width:en=0}=(0,s.Z)()||{},el=(0,c.ZP)(),{checkExperiment:er}=(0,u.F)();if(!N)return null;let es=z?.contentDisplay?.componentType??a,eo=z?.carouselFadeEnds===1,ed=N.length,ec={carouselSlots:N.map(e=>"graphql"===e.type?{title:void 0,id:void 0}:{title:e.data.title,id:e.data.id}),entityId:"",index:Y},{text:eu,url:ep,location:eg}=H??{},em=i??ep,eh={backgroundColor:"default",hoverColor:"default",iconColor:"default",size:y?.navigationFabSize??void 0},ey={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},e_=z?.itemViewRepStyle?.moreIdeasRepStyle,ef=_.kx[e_],ex=z?.itemViewRepStyle?.exploreArticleRepStyle===4,ev=z?.itemViewRepStyle?.exploreArticleRepStyle===21,eb=z?.contentDisplay?.componentType===13698,eS=z?.itemViewRepStyle?.exploreArticleRepStyle===19,ew=z?.itemViewRepStyle?.exploreArticleRepStyle===20,ek=z?.headerDisplay?.expandedTextAlignment!==null,eP=et?z?.contentDisplay?.contentVisibleItemCount?.web:z?.contentDisplay?.contentVisibleItemCount?.mobile,eT=z?.contentDisplay?.carouselScrollingMode===3,ej=z?.contentDisplay?.carouselDisplayOptions?.navigationType,eI=et&&0===ej,eF="recently_viewed"===$,eC=eF?er("web_shopping_recently_viewed_module_ranked").group:"",eA=(()=>{if(eC.startsWith("enabled_a1")||"employees"===eC){let e=Math.floor(N.length/3);return 3*e}return eC.startsWith("enabled")?3:Number(N.length)})();ec.carouselSlots=ec.carouselSlots.slice(0,eA);let eE=eF?4:0,eD=!!eC.startsWith("enabled_a")||"employees"===eC,eR=eC.startsWith("enabled_b")&&N[0].data?.dominantColor?`${N[0].data.dominantColor}59`:void 0;eF&&(eh.size=32);let eL=eF?8:g,eM=eL??d.oX,eZ=et?eM:d.yt,eO=N.filter(({data:e})=>!!e).slice(0,eA),eK=z?.contentDisplay?.gridLayout?.cols,ez="number"==typeof eK?eK:-1,eN=ez*d.yF+(ez-1)*eZ,eH=-1===ez||Z?void 0:eN,eG=Number(Z??eH)-8*eE-(eD?4:0),eB=O({containerRef:X,contentVisibleItemCount:eP,moduleWidth:eG,gutterWidth:eL,isMoreIdeasListCard:1===e_,isStyleBubble:ex,isImageAndTitleRep:ev,isStorefrontSpotlightCarousel:eb,isSfModuleOnMobile:Q,isSmallMobileScreen:J,totalObjectCount:ed,isStackedCollageDisplayCard:ew,isTriplePreviewDisplayCard:eS,deviceType:ee,windowWidth:en}),e$=(0,F.tD)({slotWidth:eB,containerWidth:X.current?.clientWidth||0,gap:eZ,numberOfSlides:eO.length,index:Y}),eU=Z?eB:void 0,eW=o&&ea;return(0,A.jsx)(r.xu,{borderStyle:eD?"lg":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:eR??void 0,borderColor:eD?"#E9E9E9":void 0}},rounding:4,width:et?eH:void 0,children:(0,A.jsxs)(r.xu,{dangerouslySetInlineStyle:eR?{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}}:void 0,direction:"column",display:"flex",padding:eE,children:[B&&!l&&(0,A.jsx)(b.Z,{showExpanded:ek,showExtraSmallSubtitle:!!eF,storyKey:V.HeaderModule_story}),(0,A.jsxs)(r.xu,{ref:X,marginBottom:eI&&!eE?8:0,onMouseEnter:()=>ei(!0),onMouseLeave:()=>ei(!1),position:"relative",children:[eI&&(0,A.jsx)(j.default,{backNode:(0,A.jsx)(I.Z,{...eh,iconType:"back",moduleHovered:eW,showFab:!0}),carouselData:ec,carouselIndex:Y,componentType:es,contextLogData:e_?{index:Y}:{},forwardNode:(0,A.jsx)(I.Z,{...eh,iconType:"forward",moduleHovered:eW,showFab:!0}),handleCarouselSwipe:e=>{q(e)},isShowingLastSlide:e$,itemsPerPage:eT&&eP?Math.floor(eP):void 0,pinKey:null,viewParameter:R,viewType:D}),(0,A.jsxs)(T.Z,{componentType:ef,containerRef:X,gap:eZ,id:"structured-feed-carousel-module",impressionType:e_?"BoardMoreIdeasRep":"Pin",index:Y,shouldBeDragCarousel:!et,slideWidth:eB,styleOverrides:y,view:D,viewParameter:R,children:[eO.map((e,t)=>{if(t===eO.length-1&&H&&eu&&em&&L(H)){let a="legacy"===e.type&&(0,x.v)(e.data)||"";return a&&(0,A.jsx)(p.Z,{buttonText:eu,component:es,contentIds:K??void 0,element:179,imageWidth:eU,isInMobileCarousel:!et,previewImageSrc:a,slideWidth:eB,storyId:G??"",storyType:$,url:em,view:D,viewParameter:R},"graphql"===e.type?`${t}`:(0,w.Z)(e.data,t))}return(0,A.jsx)(x.Z,{imageWidth:eU??eB,isInMobileCarousel:!et,isInViewOrNext:(0,F.Iw)({slotWidth:eB,containerWidth:X.current?.clientWidth||0,gap:eZ,numberOfSlides:eO.length,index:t,currentIndex:Y}),item:"legacy"===e.type?{...e.data,..."board_more_ideas_feed_upsell"===e.data.type?{header_text:el._('More ideas for', 'moreIdeasBoardRepCarousel.carousel.headText', 'Header text for JBI Carousel on Homefeed')}:{},product_tag_parent_pin_id:h}:null,pinGraphQLRef:W&&"graphql"===e.type&&e.data?.__typename==="Pin"?e.data:null,saveButtonOptions:f,slideWidth:eB,slotIndex:m+t,story:U??void 0,surface:E,view:D,viewParameter:R},"graphql"===e.type?`${t}`:(0,w.Z)(e.data,t))}),t]}),eo&&Y>0&&(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",left:!0,position:"absolute",top:!0,width:80}),eo&&!e$&&(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",position:"absolute",right:!0,top:!0,width:80})]}),et&&1===ej&&(0,A.jsx)(r.xu,{marginBottom:8,marginTop:3,position:"relative",width:"100%",children:(0,A.jsx)(j.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,A.jsx)(I.Z,{...ey,iconType:"back",showFab:!0}),carouselData:ec,carouselIndex:Y,componentType:es,contextLogData:e_?{index:Y}:{},ellipsisVariant:"dark",forwardNode:(0,A.jsx)(I.Z,{...ey,iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{q(e)},isShowingLastSlide:e$,pinKey:null,sliderStyleOverride:{padding:"0px"},viewParameter:R,viewType:D})}),H&&M(H)&&(0,A.jsx)(r.xu,{marginTop:4,children:(0,A.jsx)(v.Z,{location:eg,text:eu,url:em})})]})})}let z=(0,o.Z)({useGraphQLAdapter:e=>{let t=(0,l.useFragment)(Z,e);return{data:{...t,objects:t.objects?.map(e=>({type:"graphql",data:e}))},rawStoryData:null,storyGraphqlRef:t,__dataKeys:{HeaderModule_story:{type:"graphqlRef",data:t}}}},useLegacyAdapter:e=>e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{gridLayout:e.display_options.content_display.grid_layout&&{cols:e.display_options.content_display.grid_layout.cols},componentType:e.display_options.content_display.component_type,contentVisibleItemCount:{mobile:e.display_options.content_display.content_visible_item_count?.mobile,web:e.display_options.content_display.content_visible_item_count?.web},carouselDisplayOptions:e.display_options.content_display.carousel_display_options&&{navigationType:e.display_options.content_display.carousel_display_options.navigation_type},carouselScrollingMode:e.display_options.content_display.carousel_scrolling_mode},carouselFadeEnds:e.display_options.carousel_fade_ends,itemViewRepStyle:e.display_options.item_view_rep_style&&{exploreArticleRepStyle:e.display_options.item_view_rep_style.explore_article_rep_style,moreIdeasRepStyle:e.display_options.item_view_rep_style.more_ideas_rep_style},headerDisplay:e.display_options.header_display&&{expandedTextAlignment:e.display_options.header_display.expanded_text_alignment}},objects:e.objects?.map(e=>({type:"legacy",data:{...e,dominantColor:e.dominant_color}})),storyId:e.id,storyTitle:e.title?{__typename:"StoryText"}:null,storyType:e.story_type},rawStoryData:e,storyGraphqlRef:null,__dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}});function N({storyGraphqlRef:e,...t}){return(0,A.jsx)(z,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,A.jsx)(K,{...t,storyData:e})})}},580326:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(883119),n=a(785893);function l({url:e,text:t,location:a}){return 1===a&&e&&t?(0,n.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,n.jsx)(i.ZP,{href:e,text:t})}):null}},848385:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v}),a(167912);var i,n=a(616550),l=a(883119),r=a(407043),s=a(356997),o=a(916117),d=a(898781),c=a(50286),u=a(865607),p=a(785893);let g={1:"start",2:"center"},m={1:"100",2:"300"},h={1:"400",4:"200",3:"500",2:"600"},y=new Set([2,4]);function _({headerTitle:e,onClick:t,style:a,text:i,url:n}){let r=(0,d.ZP)();return 3!==a&&i?(0,p.jsx)(l.xu,{marginStart:6,children:(0,p.jsx)(l.ZP,{href:n,onClick:t,text:i})}):(0,p.jsx)(l.I_,{accessibilityLabel:e||r._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",href:n,icon:"arrow-forward",iconColor:"darkGray",onClick:t,size:"sm"})}let f=void 0!==i?i:i=a(612587);function x({showExpanded:e=!1,view:t,viewParameter:a,storyData:i,showExtraSmallSubtitle:o}){let d=(0,n.k6)(),{logContextEvent:f}=(0,r.v)(),x=(0,c.HG)(),{fullName:v,isVerifiedMerchant:b,verifiedIdentity:S,username:w,imageMediumUrl:k}=i.user||Object.freeze({}),P=v||i.storyTitle?.format,{url:T,text:j,location:I,style:F}=i.action||Object.freeze({}),C=T||w||"",A=i.displayOptions||Object.freeze({}),E=A.headerDisplay||Object.freeze({}),D=e?E.expandedTextAlignment:E.textAlignment,R=g[D||1],L=g[E.subtitleAlignment||1],M=m[E.headerSize||1],Z=E.headerSize&&h[E.headerSize]?h[E.headerSize]:h[1],O=1===E.subtitleStyle?Z:"200",K=A.titleTextColor??"default",z=A.titleTextColor??"default",N=A.subtitleTextColor??"subtle",H=1===E.titlePosition,G=!!i.subtitle?.format&&(0,p.jsx)(l.X6,{align:L,color:N,size:O,children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:o?{__style:{size:12,fontWeight:"normal",color:"black"}}:void 0,children:i.subtitle.format})}),B=(0,p.jsx)(l.X6,{accessibilityLevel:2,align:R,color:K,size:Z,children:P}),$=()=>f({component:A.contentDisplay?.componentType,element:179,event_type:x?101:102,view_parameter:a,view_type:t}),U=e=>{$();let t=e.replace(/^\/+/,"");d.push(`/${t}`)};return(0,p.jsx)(l.xu,{marginBottom:x?4:2,children:(0,p.jsxs)(l.kC,{direction:"column",gap:{row:0,column:o?0:2},children:[H&&G,(0,p.jsxs)(l.kC,{alignItems:"center",justifyContent:R,children:[w&&k&&(0,p.jsx)(s.qE,{name:w,size:"sm",src:k}),(0,p.jsxs)(l.kC,{alignItems:"baseline",flex:e?"grow":"shrink",justifyContent:R,children:[C?(0,p.jsx)(l.xu,{"data-test-id":"sf-header-heading",children:(0,p.jsx)(l.Tg,{href:C,onTap:({event:e})=>{e.stopPropagation(),U(C)},tapStyle:"compress",children:B})}):B,b&&(0,p.jsx)(l.xu,{marginStart:2,children:(0,p.jsx)(u.Z,{isVerifiedIdentity:!!S?.verified,isVerifiedMerchant:b,size:"xs"})})]}),y.has(I)&&T&&(0,p.jsx)(l.xu,{"data-test-id":"sf-header-action-button",children:(0,p.jsx)(_,{headerTitle:P,onClick:$,style:F,text:j,url:T})})]}),!H&&G,i.storyDescription?.format?(0,p.jsx)(l.xv,{align:R,color:z,size:M,weight:"bold",children:i.storyDescription.format}):null]})})}function v({storyKey:e,...t}){let a=(0,o.Z)(f,e);return(0,p.jsx)(x,{...t,storyData:a})}},217149:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Q});var i,n=a(167912),l=a(883119),r=a(934494),s=a(366428),o=a(563886),d=a(580326),c=a(444445),u=a(701865),p=a(988874),g=a(456183),m=a(608760),h=a(848385),y=a(785893);let _=()=>(0,y.jsx)(l.xu,{color:"secondary",height:c.yF,width:c.yF}),f={1:{itemRep:p.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:u.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:g.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function x({componentFallback:e,showExpanded:t=!0,story:a,view:i,viewParameter:n}){let r=a.display_options?.content_display||{},s=r.model_type,o=f[s]||m.g5,d=o.itemRep||_,c=a.display_options?.content_display?.component_type??e;return(0,y.jsx)(l.xu,{marginBottom:2,children:(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[a.title&&(0,y.jsx)(h.Z,{showExpanded:t,storyKey:{type:"deprecated",data:a}}),(0,y.jsx)(l.kC,{gap:2,justifyContent:"center",wrap:!0,children:a.objects?.map(function(e,t){return(0,y.jsx)(d,{component:c,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:a,view:i,viewParameter:n},t)})})]})})}var v=a(667294),b=a(754320),S=a(87165),w=a(643897),k=a(905031),P=a(745312),T=a(50286);let j="rgba(0, 0, 0, 0)",I=()=>(0,y.jsx)(l.xu,{color:"secondary",height:c.yF,width:c.yF}),F={1:{itemRep:p.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:u.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:g.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function C({componentFallback:e,dangerouslySetActionUrl:t,dangerouslySetContentVisibleItemCount:a,disableHeader:i,dynamicItemWidth:n,gutterWidth:r,initialSlotIndex:s=0,showExpanded:o,story:d,surface:u,view:p,viewParameter:g,width:_}){let f=(0,T.HG)(),x=d.display_options?.content_display||{},C=x.model_type,A=F[C]||m.g5,E=A.itemRep||I,{action:D}=d,R=t||d.action?.url||"",L=d.display_options?.content_display?.component_type??e,M=x.grid_layout?.rows,Z="number"==typeof M?M:1,O=x.grid_layout?.cols,K="number"==typeof O?O:-1,z=-1===K,N=a??x.content_visible_item_count?.web,H=N&&_&&n?(0,c.Wv)({contentVisibleItemCount:N,gap:r??c.oX,width:parseInt(_,10)}):c.yF,{containerRef:G,itemsToRender:B,actionItem:$}=(0,P.n)({items:d.objects||[],itemWidth:(0,k.Z)()?c.tG:H,itemGap:r??c.oX,actionItemType:D?"one":void 0,numRows:Z}),U=$&&A.deprecatedGetActionImage?A.deprecatedGetActionImage($):void 0,W=z?B:d.objects||[],V=W.map((e,t)=>(0,y.jsx)(w.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,y.jsx)(E,{component:L,imagePlaceholderColor:j,imageWidth:H,index:t,item:e,slotIndex:s+t,story:d,surface:u,view:p,viewParameter:g})},t)),Y=!!R&&!!D?.text&&U&&(0,y.jsx)(b.Z,{buttonText:D.text,component:L,contentIds:d.content_ids,element:179,imageWidth:H,previewImageSrc:U,shape:A.deprecatedActionShape,storyId:d.id,storyType:d.story_type,url:R,view:p,viewParameter:g});return(0,y.jsxs)(l.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",children:[d.title&&!i&&(0,y.jsx)(h.Z,{showExpanded:o,storyKey:{type:"deprecated",data:d}}),z?(0,y.jsxs)(P.Z,{containerRef:G,itemGap:r??c.oX,numRows:Z,rowAlignment:"center",children:[V,Y,Z>1&&(0,S.i)(12)]}):(0,y.jsxs)(v.Fragment,{children:[Array(Z).fill(null).map((e,t)=>(0,y.jsx)(l.kC,{alignItems:"stretch",gap:f?c.jC:c.D6,justifyContent:"start",wrap:K<=1,children:K>0&&Array(K).fill(null).map((e,a)=>V[t*K+a])},W[t].id)),Y]})]})}function A({componentFallback:e,showExpanded:t=!0,story:a,view:i,viewParameter:n}){let r=a.display_options?.content_display||{},s=r.model_type,o=F[s]||m.g5,d=o.itemRep||I,u=a.display_options?.content_display?.component_type??e,p=(0,k.Z)()?c.tG:c.yF;return(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[a.title&&(0,y.jsx)(h.Z,{showExpanded:t,storyKey:{type:"deprecated",data:a}}),(0,y.jsx)(l.Rk,{columnWidth:p,gutterWidth:c.oX,items:a.objects||[],layout:"flexible",renderItem:({data:e,itemIdx:t})=>(0,y.jsx)(d,{component:u,imagePlaceholderColor:j,index:t,item:e,story:a,view:i,viewParameter:n},t)})]})}function E(e){switch(e.story.display_options?.content_display?.pins_display){case 3:case 1:return(0,y.jsx)(A,{...e});default:return(0,y.jsx)(C,{...e})}}var D=a(792182),R=a(616550),L=a(407043),M=a(356997),Z=a(898781),O=a(477802);let K=({actionText:e,actionUrl:t,articleId:a,author:i,authorAvatar:n,component:r,contentIds:o,coverImage:d,debug:c,index:u,isFullWidth:p=!1,onImageLoad:g,storyId:m,storyType:h,subtitle:_,title:f,view:x,viewParameter:b,width:S,windowWidth:w})=>{let k=(0,Z.ZP)(),P=(0,R.k6)(),{logContextEvent:T}=(0,L.v)(),[j,I]=(0,v.useState)(!1),F=(0,s.Z)({loggingId:a,objectIdStr:a,impressionType:"Article",contextLogData:{content_ids:o,story_id:m,story_type:h,article_id:a},slotIndex:u,viewParameter:b,viewType:x,componentType:r});return(0,y.jsx)(l.xu,{"data-test-id":"sf-hero",children:(0,y.jsxs)(l.xu,{ref:F,height:"auto",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),width:S,children:[(0,y.jsx)(l.iP,{onTap:()=>{T({event_type:101,view_type:x,view_parameter:b,component:r,aux_data:{article_id:a,content_ids:o,story_id:m,story_type:h}}),P.push(t)},children:(0,y.jsxs)(l.xu,{height:p?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:j?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,y.jsx)(l.Ee,{alt:k._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:g,src:d,children:(0,y.jsx)(l.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,y.jsx)(l.xu,{bottom:!0,marginBottom:p?12:0,padding:6,position:"absolute",width:"100%",children:(0,y.jsxs)(l.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:j?"translateY(-20px)":"translateY(20px)"}},children:(0,y.jsx)(l.X6,{color:"light",size:w<=822?"600":w<1e3?"400":w<1100?"500":"600",children:f})}),(0,y.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:j?1:0,transition:j?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:j?"auto":20,overflow:"hidden",children:[(0,y.jsx)(l.xv,{color:"inverse",children:_}),i&&(0,y.jsx)(l.xu,{marginTop:4,children:(0,y.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,y.jsx)(M.qE,{name:i,size:"md",src:n}),"\xa0",(0,y.jsx)(l.xv,{color:"inverse",children:i})]})})]}),(0,y.jsx)(l.xu,{marginTop:4,width:"74px",children:(0,y.jsx)(l.zx,{color:"white",onClick:()=>{P.push(t)},size:"lg",text:e})})]})})]})}),void 0!==c&&(0,y.jsx)(O.ZP,{data:c})]})})};var z=a(435497),N=a(239062),H=a(751191);function G({onImageLoad:e,story:t,view:a,viewParameter:i,component:n,width:r}){let[s,o]=(0,v.useState)(0),d=(0,v.useRef)(null),c=t.objects?.slice(0,3)||[];return(0,y.jsxs)(l.xu,{ref:d,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:r,children:[(0,y.jsx)(z.Z,{containerRef:d,id:t.id,index:s,slideWidth:r,children:c.map((l,s)=>(0,y.jsx)(K,{actionText:l.action?.text||"",actionUrl:l.action?.url||"",articleId:l.id,component:n,coverImage:l.cover_images&&l.cover_images[0].originals?.url||"",debug:l.debug,index:s,isFullWidth:!0,onImageLoad:e,storyId:t.id,storyType:t.story_type,subtitle:l.subtitle?.format||"",title:l.title?.format||"",view:a,viewParameter:i,width:r,windowWidth:r},l.id))}),(0,y.jsx)(l.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,y.jsx)(N.default,{addEllipsis:!0,backNode:(0,y.jsx)(H.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:s,entityId:"",carouselSlots:c.map(e=>({id:e.id,title:null}))},carouselIndex:s,forwardNode:(0,y.jsx)(H.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{o(e)},pinKey:null})})]})}function B({component:e,onImageLoad:t,story:a,view:i,viewParameter:n,windowWidth:r}){let s=a.objects?.slice(0,3)||[];return(0,y.jsxs)(v.Fragment,{children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:s[0].dominant_colors[0]}},flex:"grow"}),s.map((l,s)=>(0,y.jsx)(K,{actionText:l.action?.text||"",actionUrl:l.action?.url||"",articleId:l.id,component:e,coverImage:l.cover_images&&l.cover_images[0].originals?.url||"",debug:l.debug,index:s,onImageLoad:t,storyId:a.id,storyType:a.story_type,subtitle:l.subtitle?.format||"",title:l.title?.format||"",view:i,viewParameter:n,width:500,windowWidth:r},l.id)),(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:s[2].dominant_colors[0]}},flex:"grow"})]})}function $({component:e,pwtSurfaceContext:t,story:a,view:i,viewParameter:n}){let{width:r}=(0,D.Z)()||{},s=()=>{t&&t.markConstraintComplete("RenderHeroImages")};return(0,y.jsx)(v.Fragment,{children:(0,y.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:r,children:3==(!r||r>822?3:1)?(0,y.jsx)(B,{component:e,onImageLoad:s,story:a,view:i,viewParameter:n,windowWidth:r}):(0,y.jsx)(G,{component:e,onImageLoad:s,story:a,view:i,viewParameter:n,width:r})})})}function U({story:e}){let t=(0,R.k6)(),{user:a,custom_properties:i,action:n}=e||{},{full_name:r,username:s,image_medium_url:o}=a||{},d=r||e.title?.format||"",{url:u,text:p}=n||{},{image:g}=i||{};if(!u||!p)return null;let m=(0,y.jsxs)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[s&&o&&(0,y.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,y.jsx)(M.qE,{name:s,size:"sm",src:o})}),d&&(0,y.jsx)(l.xv,{color:"inverse",weight:"bold",children:d})]});return(0,y.jsxs)(l.xu,{marginBottom:4,width:c.yF,children:[(0,y.jsx)(l.iP,{onTap:()=>t.push(u),children:(0,y.jsx)(l.zd,{height:c.yF,rounding:2,wash:!0,children:"string"==typeof g&&g?(0,y.jsx)(l.Ee,{alt:d,fit:"contain",naturalHeight:c.yF,naturalWidth:c.yF,src:g,children:m}):(0,y.jsx)(l.xu,{height:c.yF,width:c.yF,children:m})})}),(0,y.jsx)(l.xu,{marginTop:3,children:(0,y.jsx)(l.ZP,{fullWidth:!0,href:u,text:p})})]})}let W=new Set([101]),V="UNKNOWN_CONTAINER_TYPE",Y=void 0!==i?i:i=a(282167);function q(e){let{componentFallback:t,initialSlotIndex:a,view:i,viewParameter:n,width:r,story:{data:{action:c,containerType:u,contentIds:p,displayOptions:g,storyId:m,storyType:_,trackingParams:f},forward:{dataKeys:v,rawStoryData:b,storyGraphqlRef:S}}}=e,w=g?.contentDisplay?.componentType??t,k=(0,s.Z)({clientTrackingParams:f,componentType:w,contextLogData:{story_id:m,story_type:_,content_ids:p},impressionType:"Story",loggingId:m,slotIndex:a||0,viewParameter:n,viewType:i}),P={...e,component:w},T=(()=>{switch(u){case 90:return(0,y.jsx)(o.Z,{...P,story:b,storyGraphqlRef:S,width:"number"==typeof P.width?P.width:void 0});case 88:let{story:e,...t}=P,a={...t,storyKey:v.HeaderModule_story};return(0,y.jsx)(h.Z,{...a});case 89:let{location:i,text:n,url:l}=c||{};return(0,y.jsx)(d.Z,{location:i,text:n,url:l});case 91:return!!b&&(0,y.jsx)(E,{...P,story:b});case 101:return!!b&&(0,y.jsx)($,{...P,story:b});case 92:return!!b&&(0,y.jsx)(U,{...P,story:b});case 131:return!!b&&(0,y.jsx)(x,{...P,story:b});default:return V}})();return T===V?null:(0,y.jsxs)(l.xu,{ref:k,width:W.has(u)?void 0:r,children:[T,(0,y.jsx)(l.xu,{})]})}let X=(0,r.Z)({useGraphQLAdapter:e=>{let t=(0,n.useFragment)(Y,e);return{data:t,forward:{rawStoryData:null,storyGraphqlRef:t,dataKeys:{HeaderModule_story:{type:"graphqlRef",data:t}}}}},useLegacyAdapter:e=>e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},containerType:"number"==typeof e.container_type?e.container_type:void 0,contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{componentType:e.display_options.content_display.component_type}},storyId:e.id??"",storyType:e.story_type,trackingParams:e.tracking_params},forward:{rawStoryData:e,storyGraphqlRef:null,dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}});function Q({storyGraphqlRef:e,...t}){return(0,y.jsx)(X,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,y.jsx)(q,{...t,story:e})})}},605706:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(667294),n=a(50286);function l(){let[e,t]=(0,i.useState)(!1),a=(0,n.HG)();return(0,i.useEffect)(()=>{!a&&window.innerWidth<320&&t(!0)},[a,t]),e}},782975:(e,t,a)=>{"use strict";function i(e,t){let a=`${e.type||""} ${t.toString()}`;switch(e.type){case"pin":return e.title||a;case"user":return e.username||a;case"explorearticle":return e.title?.format||a;case"story":return e.id||a;default:return a}}a.d(t,{Z:()=>i})},905031:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(792182),n=a(444445);function l(){let{width:e}=(0,i.Z)()||{width:0};return e<2*n.yF+n.$H}},501338:(e,t,a)=>{"use strict";a.d(t,{Pw:()=>i,SB:()=>n,ZP:()=>r,x9:()=>l});let i=80,n=56,l=e=>"phone"===e?n:i;function r(e,t){return t?0:l(e)}},729884:(e,t,a)=>{"use strict";a.d(t,{P:()=>p,Z:()=>u});var i,n,l,r,s=a(167912),o=a(357998),d=a(897243),c=a(681669);function u(e){let{childDataKey__DEPRECATED:t}=(0,o.Q)(void 0!==r?r:r=a(669926),e,{useLegacyAdapter:()=>({})}),u=function(e){let{data:t}=(0,o.Q)(void 0!==i?i:i=a(680880),e,{useLegacyAdapter:e=>({carouselData:e.carousel_data&&{entityId:e.carousel_data.id??"",index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?.map(e=>({details:e.details,imageSignature:e.image_signature,image236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}))??[]}})});return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(({details:e,imageSignature:t,image236x:a,image474x:i,image564x:n,image736x:l,slotId:r,title:s})=>({details:e,imageSignature:t,imageSizeMap:[["236x",a],["474x",i],["564x",n],["736x",l]].reduce((e,[t,a])=>({...e,[t]:a}),{}),slotId:r,title:s}))??[]}:null}(t),p=function({pinKey:e,index:t}){let i;return i=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,c.Zm)(void 0!==l?l:l=a(283996),i,{useGraphQLAdapter:e=>{let i=(e.richMetadata||e.richSummary)?.products?.[0],l=function(e){let t=(0,s.useFragment)(void 0!==n?n:n=a(240956),e);if(!t)return[];let i={},{image236x:l,image474x:r,image564x:o,image736x:d}=t;return[[l,"236x"],[r,"474x"],[o,"564x"],[d,"736x"]].forEach(([e,t])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:a})=>{a&&e&&(i={...i,[a]:{...i[a],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(i);return i&&l.length?{carouselId:i.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,a])=>({...e,[t]:a&&{height:a.height,url:a.url,width:a.width}}),{})},...l],index:t}:null},useLegacyAdapter:e=>{let a=(e?.rich_metadata||e?.rich_summary)?.products?.[0],i=(a?.additional_images??[]).reduce((e,{canonical_images:t,image_signature:a})=>e.concat(t&&a?[{imageSignature:a,imageSizeMap:Object.keys(t).reduce((e,a)=>t[a]?{...e,[a]:{height:t[a].height,url:t[a].url,width:t[a].width}}:e,{})}]:[]),[]);return e&&a&&i.length?{carouselId:a.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,d.b)(e.images)}]:[],...i],index:t}:null}}).data}({pinKey:t,index:u?.index});return p?{...p,carouselSlots:p.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:u}function p({children:e,pinKey:t}){return e(u(t))}},782534:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r,k:()=>i.k});var i=a(451820),n=a(780280),l=a(785893);let r=({dateFormatType:e,useUTC:t=!0,value:a})=>(0,l.jsx)(n.LC,{children:n=>(0,i.Z)(n.locale,a,e,t)})},451820:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l,k:()=>i});let i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},n=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function l(e,t,a,i=!0){let l=n(a);i&&(l.timeZone="UTC");let r=new Intl.DateTimeFormat(e,l);return r.format(t)}},123159:(e,t,a)=>{"use strict";a.d(t,{F:()=>p,M:()=>u});var i=a(667294),n=a(702664),l=a(14890),r=a(425288),s=a(332611),o=a(957191),d=a(785893);let{Provider:c,useHook:u}=(0,r.Z)("ExperienceContext");function p({children:e}){let[t,a]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let a={...e};return delete a.mountedPlacements[t.payload],delete a.registerdAfterActionPlacements[t.payload],a}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:r,registerdAfterActionPlacements:u}=t,p=(0,n.useDispatch)(),g=(0,n.useSelector)(e=>e.experiences),m=(0,s.be)(),h=(0,s.Am)(),y=(0,s.Ig)(),_=(0,i.useMemo)(()=>{let e=(0,l.bindActionCreators)({completeExperience:m,dismissExperience:h,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:o.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:y},p);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),a({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{a({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{a({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[m,h,p,a,y]),f=(0,i.useMemo)(()=>({experiences:g,mountedPlacements:r,registerdAfterActionPlacements:u,..._}),[g,r,u,_]);return(0,d.jsx)(c,{value:f,children:e})}},497529:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(667294);a(332611);var n=a(123159),l=a(764990);a(957191);var r=a(780280);function s(e){let{mountedPlacements:t,completeExperience:a,dismissExperience:s,experiences:o,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:g}=(0,n.M)(),{isBot:m}=(0,r.B)(),h=e&&!m?(0,l.MQ)(o,t,e):null;return(0,i.useMemo)(()=>({completeExperience:a,dismissExperience:s,experienceForPlacement:h,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:g}),[a,s,h,d,c,u,p,g])}},984225:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(785893);let n=(0,i.jsx)("svg",{fill:"none",height:"5",viewBox:"0 0 37 5",width:"37",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("rect",{fill:"#E9E9E9",height:"5",rx:"2.5",width:"37"})}),l=n},301723:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(667294),n=a(883119);let l=(0,i.createContext)();var r=a(785893);function s(e){(0,i.useContext)(l);let{alt:t,color:a,children:s,crossOrigin:o,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:g,naturalHeight:m,naturalWidth:h,onError:y,onLoad:_,role:f,sizes:x,src:v,srcSet:b}=e;return(0,r.jsx)(n.Ee,{alt:t,color:a,crossOrigin:o,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:g,naturalHeight:m,naturalWidth:h,onError:y,onLoad:_,role:f,sizes:x,src:v,srcSet:b,children:s})}},724617:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var i=a(739213),n=a(773285),l=a(785893);function r(e){let{cacheKey:t,columnWidth:a,experimentalTwoColItems:r=!1,gutterWidth:s,isGridCentered:o,renderItem:d,items:c,layout:u,loadItems:p,masonryRef:g,minCols:m,scrollContainerRef:h,serverRender:y,virtualize:_}=e,{checkExperiment:f}=(0,n.F)(),x=f("web_masonry_virtual_buffer_factor").group;return(0,l.jsx)(i.Z,{_twoColItems:r,cacheKey:t,columnWidth:a,gutterWidth:s,isGridCentered:o,items:c,layout:u,loadItems:p,masonryRef:g,maxColumns:e.maxColumns,minCols:m,renderItem:d,scrollContainerRef:h,serverRender:y,virtualBufferFactor:{enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[x]??.7,virtualize:_})}},897243:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});let i=({height:e,url:t,width:a})=>({height:e,url:t,width:a}),n=e=>Object.entries(e).reduce((e,[t,a])=>({...e,[t]:a&&i(a)}),{})},357998:(e,t,a)=>{"use strict";a.d(t,{Q:()=>r});var i=a(422578),n=a(273213),l=a(681669);function r(e,t,{useLegacyAdapter:a}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let r=(0,n.j)(t);if("deprecated"===r.type){let{data:t}=r;return null==t?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,a)(t),childDataKey__DEPRECATED:r}}let s=(0,i.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},694379:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(892819),n=a(780280),l=a(785893);let r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:a,shortform:r,shortformMaximumFractionDigits:s,formatStyle:o,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,l.jsx)(n.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:a,shortform:r,shortform_maximum_fraction_digits:s,style:o,uplimit:d})})}},479216:(e,t,a)=>{"use strict";a.d(t,{MF:()=>l,PB:()=>r,Ul:()=>s,XD:()=>i});let i={AUD:"A$",BRL:"R$",CAD:"$",CZK:"K",DKK:"kr",EUR:"",GBP:"\xa3",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$",JPY:"\xa5",CHF:""},n=function(e){let t=1.1.toLocaleString(e).substring(1,2);return t},l=function(e,t){return","===n(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},r=function(e,t){return","===n(t)&&e?e.replace(",","."):e};function s(e,t,a,i=!1){let{minimumFractionDigits:n,maximumFractionDigits:l}=new Intl.NumberFormat(t,{style:"currency",currency:a}).resolvedOptions(),r=void 0===n?2:n,s=void 0===l?2:l;return e.toLocaleString(t,{maximumFractionDigits:i&&s>0?3:s,minimumFractionDigits:i&&r>0?3:r})}},529518:(e,t,a)=>{"use strict";function i(e,t){let a=e*Math.pow(10,t),i=Math.round((a-parseInt(a,10))*10)/10;return -.5===i&&(i=-.6),a=Math.round(parseInt(a,10)+i)/Math.pow(10,t)}function n(e){let t=parseFloat(e),a=i(t,2);return a?a.toFixed(2):e}function l(e,t=!1,a=""){let i=100,n=1e4;if(a){let{maximumFractionDigits:e}=new Intl.NumberFormat(void 0,{style:"currency",currency:a}).resolvedOptions();"number"==typeof e&&(n=1e6/(i=Math.pow(10,e)))}return t&&(i=1e3,n=1e3),Math.round(e*i)*n}function r(e,t=!1){if(Number.isNaN(e))return 0;let a=1e6;return t&&(a=1e6),e/a}function s(e){return e?n(r(e).toString()):""}a.d(t,{$X:()=>r,Hy:()=>s,c3:()=>p,cq:()=>n,q$:()=>i,qq:()=>u,y:()=>l});let o={fractionalCentFormatData:{},formatData:{}};function d(e){return e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),e}function c(e,t=!1){let a=t?"fractionalCentFormatData":"formatData",i=o[a][e];if(!i){let n=2,l=2,r=-9999.99;t&&(n=3,l=3,r=-9999.999);let s=new Intl.NumberFormat(e,{minimumFractionDigits:n,maximumFractionDigits:l}),c=s.formatToParts(r),u=c.find(e=>"minusSign"===e.type),p=c.find(e=>"group"===e.type),g=c.find(e=>"decimal"===e.type),m=p?p.value:"",h=d(m),y=g?g.value:"",_="[^0-9"+h+d(y)+d(u?u.value:"")+"]";i={format:s,decimal:g?g.value:null,group:m,groupRegex:RegExp(h||"","g"),cleaner:RegExp(_,"g")},o[a][e]=i}return i}function u(e,t,a=!1){if("number"==typeof e)return e;if("string"!=typeof e)return NaN;let i=c(t,a),n=e.replace(i.cleaner,"");return i.decimal&&(n=n.replace(i.decimal,"!_!")),i.group&&(n=n.replace(i.groupRegex,"")),parseFloat(n=n.replace("!_!","."))}function p(e,t,a=!1){let i=c(t,a);return i.format.format(e)}},366428:(e,t,a)=>{"use strict";a.d(t,{F:()=>o,Z:()=>s});var i=a(667294),n=a(407043),l=a(124580);let r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function s({carouselData:e,closeupImpressionType:t,closeupNavigationType:a,componentType:s,contextLogData:o,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:g,impressionsFramework:m,isPaused:h,loggingId:y,objectIdStr:_,slotIndex:f,trackCarousel:x,viewData:v,viewParameter:b,viewType:S}){let{logContextEvent:w}=(0,n.v)(),k=m||l.Z,P=(0,i.useRef)(null),T=i=>{let n=r[g],l=n.idType,p={clientTrackingParams:d,endTime:i.endTime,[l]:y,slotIndex:f,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...u,forcedExit:"removed"===i.forcedExit?0:void 0};"Pin"===g&&(p={...p,pinCellWidth:P.current?.getBoundingClientRect().width||0,pinCellHeight:P.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight});let m={component:s,object_id_str:_,view_type:S,view_data:v||{},view_parameter:b};x?e&&w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}]},...m,aux_data:{...o}}):w({clientTrackingParams:d,event_type:n.eventType,...m,element:c,event_data:{[n.impressionType]:"Story"===g?p:[p]},aux_data:{closeup_navigation_type:a,...o}})},j=(0,i.useCallback)(()=>{try{P.current instanceof HTMLElement&&k.start(P.current).onExitViewport(T).setDebugId(y||"unknown")}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[P.current]);(0,i.useEffect)(()=>(p&&!k.inExperiment&&k.setExperimentStatus(!0),h||j(),()=>{P.current instanceof HTMLElement&&k.stop(P.current)}),[j]);let I=(0,i.useRef)(h);return(0,i.useEffect)(()=>{I.current&&!h&&j(),I.current=h},[h,j]),P}let o=({children:e,...t})=>e({impressionTrackerRef:s(t)})},564194:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var i=a(667294),n=a(973935),l=a(337815),r=a(407043),s=a(124580),o=a(785893);function d(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{let{isPromoted:e}=this.props;this.node=(0,n.findDOMNode)(this),this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{let{carouselData:t,closeupImpressionType:a,closeupNavigationType:i,componentType:n,contextLogData:r,elementType:s,impressionAuxFields:o,impressionType:d,loggingId:u,objectIdStr:p,slotIndex:g,storyPinProductEventData:m,trackCarousel:h,viewData:y,viewParameter:_,viewType:f,logContextEvent:x}=this.props,v=c[d],b=v.idType,S=e.forcedExit&&"removed"===e.forcedExit?0:void 0,w={endTime:e.endTime,[b]:u,slotIndex:g,time:e.startTime,renderDuration:e.endTime-e.startTime,type:a,...o,forcedExit:S},k={};if("Pin"===d&&(w={...w,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},o?.chromeAraViewExp&&this.props.children?.props?.pin?.is_promoted)){let e=this.props.children.props.pin.attribution_source_id;(0,l.YS)(d,this.props.children.props.pin.is_promoted??null,e??null,this.props.children.props.pin.link??null,this.props.children.props.pin.campaign_id??null,o.araAuxData??null,this.props.children.props.pin.advertiser_id??null,this.props.children.props.pin.domain??null,this.props.children.props.pin.ad_destination_url??null),k={is_arapi:!0,attribution_source_id:e||""}}h||x({event_type:v.eventType,component:n,element:s,event_data:{[v.impressionType]:"Story"===d?w:[w],...m?{storyPinProductEventData:m}:{}},object_id_str:p,view_type:f,view_data:y||{},view_parameter:_,aux_data:{...r,...k,closeup_navigation_type:i}}),t&&h&&x({event_type:7352,component:n,event_data:{pinCarouselSlotImpressions:[{...w,..."canonical"===t.type?{carouselDataId:Number(t.carouselId??0),slotIndex:t.index,carouselSlotId:t.carouselSlots[t.index??0]&&Number(t.carouselSlots[t.index??0].slotId)}:{carouselDataId:Number(t.id??0),carouselSlotId:t.carousel_slots?.[t.index??0]&&Number(t.carousel_slots[t.index??0].id),slotIndex:t.index}}]},object_id_str:p,view_type:f,view_data:y||{},view_parameter:_,aux_data:{...r,...k}})}),this.impressionsFramework=e.impressionsFramework||s.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){let{isPromoted:e}=this.props;this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function p(e){let{logContextEvent:t}=(0,r.v)();return(0,o.jsx)(u,{...e,logContextEvent:t})}},755742:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},499659:(e,t,a)=>{"use strict";a.d(t,{Q6:()=>u,ZP:()=>o,qe:()=>d,yU:()=>c});var i=a(239745);let n=(e,t)=>e.length===t.length&&e.every((e,a)=>e===t[a]),l=e=>e;function r(e,t=n,a=l){return function(i){let n=[];return function(...l){let r=n.find(e=>t(e.args,a(l)));if(r)return r.result;let s=i(...l);return n.push({args:a(l),result:s}),e&&n.length>e&&n.shift(),s}}}let s=r(),o=s,d=r(1),c=r(void 0,n,e=>[JSON.stringify(e)]),u=r(0,(e,t)=>e.length===t.length&&e.every((e,a)=>(0,i.Z)(e,t[a])))},752802:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let i=["564x","736x","orig","474x","236x"],n=({images:e={},resolutionPreferences:t=i})=>{for(let a of t)if(e[a]&&e[a].url)return e[a];return null}},248975:(e,t,a)=>{"use strict";function i({embedSrc:e,embedType:t,imagesUrls:a,preferredResolution:i,excludeOriginals:n}){if(!e&&!t&&!a)return"";if("gif"===t)return e||"";if(!a)return"";if(i){let e="474x"===i&&a["474x"]||"236x"===i&&a["236x"]||a["736x"];if(e)return e}let l=Object.keys(a).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:a[t]};return{...e,[i]:a[t]}}catch(t){return e}},{}),r=Object.keys(l);n&&"orig"===r[r.length-1]&&r.pop();let s=r.pop();return l[s]||""}a.d(t,{Z:()=>i})},223008:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i,n=a(667294);a(167912);var l=a(916117);let r=void 0!==i?i:i=a(469656);function s({pinKey:e,maxWidth:t}){let a=(0,l.Z)(r,e),i=a?.imageSpec_564x||a?.imageSpec_736x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x,s=i?.width||1,o=i?.height||1,d=i?.url||"",c=function(e,t,a=564){return e>a&&(t*=a/e,e=a),{width:e,height:t}}(s,o,t),u=(0,n.useCallback)(()=>({width:c.width,height:c.height,url:d}),[c.height,c.width,d]);return{getNormalizedPinImage:u}}},269051:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s}),a(167912);var i,n=a(916117),l=a(898781);let r=void 0!==i?i:i=a(47737),s=e=>{let t;let a=(0,l.ZP)(),i=(0,n.Z)(r,e),s=i.trackedLink||i.link||i.imageSpec_orig&&i.imageSpec_orig.url,{richMetadata:o,richSummary:d}=i,c=a._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offerSummary&&(c=a._('Product sold by ', 'pin annotation', 'pin annotation'),t=(o.products?.[0]||void 0)?.offerSummary),!t&&d&&d&&d.products&&d.products[0]&&d&&d.products[0].name&&d.products[0].offerSummary&&(c=a._('Product sold by ', 'pin annotation', 'pin annotation')),{pinLink:s,pinCreditPrefix:c,pinTitle:i.closeupUnifiedTitle,pinDescription:i.closeupUnifiedDescription,pinCategory:i.category}}},53199:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r}),a(167912);var i,n=a(916117);let l=void 0!==i?i:i=a(460863),r=e=>{let t=(0,n.Z)(l,e),a=[["60x60",t?.imageSpec_60x60],["136x136",t?.imageSpec_136x136],["170x",t?.imageSpec_170x],["236x",t?.imageSpec_236x],["474x",t?.imageSpec_474x],["564x",t?.imageSpec_564x],["736x",t?.imageSpec_736x],["600x315",t?.imageSpec_600x315],["orig",t?.imageSpec_orig]];return a.reduce((e,[t,a])=>a?{...e,[t]:a.url}:e,{})}},692627:(e,t,a)=>{"use strict";function i({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:a,hasPinRichMetadataArticle:i,hasPinRichMetadataRecipe:n,hasPinStoryPinData:l}){if(e){if(t)return a?144:i?141:n?145:139;if(l)return 157}return 140}a.d(t,{Z:()=>i})},523657:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var i=a(667294);a(883119);var n=a(301723),l=a(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,s=(e,t,a)=>{let n=(0,i.useRef)(null),l=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(e!==n.current||a&&a!==l.current){n.current=e;let a=r(e);a?.complete&&t()}l.current=a},[e,t,a])};function o({alt:e,children:t,color:a,elementTiming:i,isActive:r=!1,naturalHeight:o,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return s(u,c,r),(0,l.jsx)(n.Z,{alt:e,color:a,elementTiming:i,fit:p,naturalHeight:o,naturalWidth:d,onLoad:c,src:u,children:t})}},932995:(e,t,a)=>{"use strict";function i(e,t,a){let i=[...e],n=i.splice(t,1)[0];return i.splice(a,0,n),i}a.d(t,{Z:()=>i})},418614:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var i=a(784590),n=a(19121),l=a(616550),r=a(780280),s=a(50286),o=a(826067);function d({getOptions:e,checkExperiments:t,disableFetch:a,...d}){let c=function(){let e=(0,n.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee,isPartner:!!e.isPartner,username:e.username||void 0}}(),{args:u,fetchDisabled:p}=function({checkExperiments:e,disableFetch:t,viewer:a}){let i=(0,l.TH)(),n=(0,l.$B)(),d=(0,r.B)(),c=function({advertiser:e,deviceType:t,location:{pathname:a,search:i},inviteCode:n,match:{params:l,path:r},viewer:s}){let d={inviteCode:n,matchPath:r,params:l,parsedSearch:(0,o.mB)(i),pathname:a,search:i},c={country:s.country||void 0,id:s.id||void 0,isAuth:s.isAuth,isEmployee:!!s.isEmployee,isPartner:!!s.isPartner,username:s.username||void 0};return{advertiser:e,deviceType:t,routeData:d,user:c}}({advertiser:d.advertiser,deviceType:(0,s.Mq)(d),location:i,match:n,viewer:a,inviteCode:d.inviteCode??""}),u=!!t&&t(c),p=!!u||!e||e(d.experimentsClient);return{args:c,fetchDisabled:u||!p}}({checkExperiments:t,disableFetch:a,viewer:c}),g=e?e(u):void 0;return(0,i.Z)(p?null:{options:g,...d})}},223815:(e,t,a)=>{"use strict";a.d(t,{U:()=>r,Z:()=>s});var i=a(755742),n=a(785893);let l=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:a,allowScroll:s,children:o}){let d=e=>{t&&e.keyCode===i.Z.ESCAPE||r(e)};return(0,n.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:l,onCanPlay:a?l:r,onCanPlayThrough:r,onChange:r,onClick:e?l:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:l,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?l:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?l:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:s?l:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?l:r,onTouchMove:e?l:r,onTouchStart:e?l:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:o})}},622096:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(238381);let n=(0,i.Z)({type:"session"}),l=n},994912:(e,t,a)=>{"use strict";function i(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}a.d(t,{Z:()=>i})},70061:(e,t,a)=>{"use strict";function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}a.d(t,{Z:()=>i})},52022:(e,t,a)=>{"use strict";a.d(t,{S:()=>s,Z:()=>o});var i=a(667294),n=a(616550),l=a(53987),r=a(867820);let s=e=>(0,l.L6)(e)?"pin":(0,l.am)(e)?"board":(0,l.Xn)(e)?"login":(0,l.C$)(e)?"home":(0,l.cD)(e)?"profile":(0,l.dr)(e)?"ideas":(0,l.gT)(e)?"ideas-root":(0,l.tZ)(e)?"videos":(0,l.Q0)(e)?"videos-category":(0,l.$Y)(e)?"article":(0,l.E0)(e)?"shopping-spotlight":(0,l.Zz)(e)?"today":(0,l.j8)(e)?"unauth-profile":(0,l.f1)(e)?"shopping-root":(0,l.OX)(e)?"shopping-category":"other";function o(){let e=(0,n.TH)();return(0,i.useCallback)(({action:t,item:a,within:i})=>{let n=s(e);(0,r.My)(`logged_out_product.interaction.${n}.${t}`,{item:a||"none",within:i||"none"})},[e])}},477802:(e,t,a)=>{"use strict";a.d(t,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var i=a(616550),n=a(883119),l=a(780280),r=a(826067),s=a(19121),o=a(785893);let d=()=>{let e=(0,s.Z)(),{isInternalIP:t}=(0,l.B)(),a=(0,i.TH)();return(t||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(a.search)).some(e=>e.startsWith("deb_"))};function c({data:e}){return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",overflow:"auto",children:(0,o.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let u=e=>(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:10}},width:236,children:(0,o.jsx)(c,{...e})})},745312:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o,n:()=>r});var i=a(883119),n=a(667294),l=a(785893);function r({items:e,itemWidth:t,itemGap:a,numRows:i=1,actionItemType:l}){let r;let[s,o]=function(){let[e,t]=(0,n.useState)(0),a=(0,n.useRef)(null),i=(0,n.useCallback)(()=>{a.current&&t(a.current.clientWidth)},[a]);return(0,n.useEffect)(()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[i]),(0,n.useEffect)(i),[e,a]}(),d=Math.floor((s+a)/(t+a))*i||i,c=e.slice(0,d),u=[];switch(l){case"nextFour":d>=e.length?u=[c.pop()]:(c.pop(),u=e.slice(d-1,d+3));break;case"one":r=d>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:o,itemsToRender:c,actionItem:r,nextFourItems:u}}let s={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function o({children:e,itemGap:t,containerRef:a,numRows:n=1,rowAlignment:r="center"}){let o=s[r];return(0,l.jsx)(i.xu,{ref:a,width:"100%",children:(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:o.outer,children:(0,l.jsx)(i.kC,{gap:{row:Math.floor(t/4),column:0},justifyContent:o.inner,wrap:n>1,children:e})})})}},343341:(e,t,a)=>{"use strict";a.d(t,{F9:()=>l,Zo:()=>n});var i=a(425288);let{Provider:n,useHook:l}=(0,i.Z)("toastManagerContext")},280446:(e,t,a)=>{"use strict";function i(e){if((e||"").includes("--")){let t=e.split("--"),a=t.pop();return{text:t.join("--"),pinId:a}}return{text:"",pinId:e}}a.d(t,{Z:()=>i})},311541:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(667294);function n(e,t){let a=(0,i.useRef)([]),[n,l]=(0,i.useState)(),[r,s]=(0,i.useReducer)(n??(()=>t),t),o=(0,i.useCallback)(t=>{n?s(t):(a.current.length||e().then(e=>{l(()=>e.default)}),a.current=[...a.current,t])},[e,n]);return(0,i.useEffect)(()=>{n&&(a.current.forEach(s),a.current=[])},[n]),[r,o]}},215292:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r,q:()=>l});var i=a(667294);let n=()=>{let[e,t]=(0,i.useState)(!1),[a,n]=(0,i.useState)(!1),[l,r]=(0,i.useState)(!1);return{active:e,focused:a,hovered:l,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function l({children:e}){let t=n();return e(t)}let r=n},999018:(e,t,a)=>{"use strict";a.d(t,{Y:()=>g,Z:()=>m});var i,n,l=a(667294);a(167912);var r=a(681669),s=a(357998);let o=void 0!==i?i:i=a(124495),d=void 0!==n?n:n=a(579744),c=(e,t)=>{let a=Symbol("SKIP"),i=e=>Object.entries(e).filter(([,e])=>e!==a).reduce((e,[t,a])=>({...e,[t]:a}),{});if("deprecated"!==e.type){let n=e.data;return i({...n.isEligibleForPdpPlus||n.isEligibleForPdp||n.isOosProduct||n.isStaleProduct?{...(()=>{if(!t)return{image_count:a,image_index:a};let e=n.richMetadata?.products?.[0];return{is_pdpplus:!0,carousel_image_count:a,brand_signature:e?.brand?.signature||a,free_shipping_price:e?.shippingInfo?.freeShippingPrice||a,free_shipping_value:e?.shippingInfo?.freeShippingValue||a,num_variants:e?.variantSet?.variants?.length||a,total_dimension_option_count:e?.variantSet?.dimensionMetadata?.length||a,valid_dimension_option_count:a}})(),pin_show_pdp_oos:!!n.isOosProduct||a,pin_show_pdp_stale:!!n.isStaleProduct||a,pin_show_pdp:!!n.isEligibleForPdp||a}:{},pin_is_shop_the_look:!!(n.shoppingFlags?.includes(2)||n.aggregatedPinData?.isShopTheLook)||a,is_available:!!n.shoppingFlags?.includes(1)||a,is_product_pin_v2:!!n.shoppingFlags?.includes(5)||a,is_rich_product_pin:!!n.shoppingFlags?.includes(6)||a,is_organic_product_carousel:a,item_id:(n.richSummary?.products?.[0]||{}).itemId||a,item_set_id:(n.richSummary?.products?.[0]||{}).itemSetId||a,story_pin_id:n.storyPinData?n.storyPinDataId:a})}{let n=e.data;return n?i({...n.is_eligible_for_pdp_plus||n.is_eligible_for_pdp||n.is_oos_product||n.is_stale_product?{...(()=>{let e=(n.rich_metadata||n.rich_summary)?.products?.[0],i=e?.additional_images?.length?{imageCount:(n.images?1:0)+e.additional_images.length,imageIndex:n.carousel_data?.index||0}:n.carousel_data&&{imageCount:n.carousel_data.carousel_slots?.length,imageIndex:n.carousel_data.index};if(!t)return i?{image_count:i.imageCount,image_index:i.imageIndex}:{};let l=n.rich_metadata?.products?.[0],r=l?.variant_set?.variants??[];return{is_pdpplus:!0,carousel_image_count:i?i.imageCount:a,brand_signature:l?.brand?.signature||a,free_shipping_price:l?.shipping_info?.free_shipping_price||a,free_shipping_value:l?.shipping_info?.free_shipping_value||a,num_variants:r.length||a,total_dimension_option_count:l?.variant_set?.dimension_metadata?.length||a,valid_dimension_option_count:(l?.variant_set?.dimension_metadata||[]).reduce((e,{name:t,values:a})=>e+(t&&a||[]).filter(e=>r.some(a=>a.dimensions?.[t??""]===e)).length,0)||a}})(),pin_show_pdp_oos:!!n.is_oos_product||a,pin_show_pdp_stale:!!n.is_stale_product||a,pin_show_pdp:!!n.is_eligible_for_pdp||a}:{},pin_is_shop_the_look:!!(n.shopping_flags?.includes(2)||n.aggregated_pin_data?.is_shop_the_look)||a,is_available:!!n.shopping_flags?.includes(1)||a,is_product_pin_v2:!!n.shopping_flags?.includes(5)||a,is_rich_product_pin:!!n.shopping_flags?.includes(6)||a,is_organic_product_carousel:!!(n.shopping_flags?.includes(10)||(n.product_pin_data?.items?.[0]||{}).additional_images)||a,item_id:(n.rich_summary?.products?.[0]||{}).item_id||a,item_set_id:(n.rich_summary?.products?.[0]||{}).item_set_id||a,story_pin_id:n.story_pin_data?n.story_pin_data_id:a}):{}}},u=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},p=e=>{let{childDataKey__DEPRECATED:t}=(0,s.Q)(o,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:a}=(0,r.Zm)(d,null==t?{type:"deprecated",data:null}:t,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),i=(0,l.useRef)(a);return(0,l.useEffect)(()=>{i.current=a}),(0,l.useCallback)(e=>u({...e?.default,...c(i.current,!!e?.isPdpPlus),...e?.override}),[])},g=({children:e,pinKey:t})=>e(p(t)),m=p},411465:(e,t,a)=>{"use strict";a.d(t,{G:()=>s,Z:()=>o});var i=a(667294),n=a(616550),l=a(785893);let r=(0,i.createContext)(!0);function s({children:e}){let t=(0,n.TH)(),[a,s]=(0,i.useState)(!0),o=(0,i.useRef)(t);return(0,i.useEffect)(()=>{o.current!==t&&(o.current=t,s(!1))},[t]),(0,l.jsx)(r.Provider,{value:a,children:e})}function o(){return(0,i.useContext)(r)}},458101:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(667294);let n=()=>{let e=(0,i.useRef)(!1);return(0,i.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},307603:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(985057);function n({x:e,y:t,w:a,h:n},l){return(0,i.Z)({x:e,y:t,w:a,h:n})?{x:l?parseInt(e,10):parseFloat(e),y:l?parseInt(t,10):parseFloat(t),w:l?parseInt(a,10):parseFloat(a),h:l?parseInt(n,10):parseFloat(n)}:{x:0,y:0,w:1,h:1}}},255164:(e,t,a)=>{"use strict";function i(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6}return t}a.d(t,{Z:()=>i})},975540:(e,t,a)=>{"use strict";function i({cropArea:{x:e,y:t,w:a,h:i},scaledWidth:n,scaledHeight:l}){return{x:e/n,y:t/l,w:a/n,h:i/l}}a.d(t,{Z:()=>i})},599611:(e,t,a)=>{"use strict";function i({cropArea:e,scaledWidth:t,scaledHeight:a}){let i=e.h||0,n=e.w||0,l=e.x||0,r=e.y||0;return{h:Math.floor(i*a),w:Math.floor(n*t),x:Math.floor(l*t),y:Math.floor(r*a)}}a.d(t,{Z:()=>i})},94047:(e,t,a)=>{"use strict";function i({cropArea:e,cropSource:t,requestParams:a,searchQuery:i,surfaceType:n,title:l,trafficSource:r}){let s=[];if(e){let{x:t,y:a,w:i,h:n}=e;t>=0&&a>=0&&i>=0&&n>=0&&s.push(`x=${t}`,`y=${a}`,`w=${i}`,`h=${n}`)}t&&s.push(`cropSource=${t}`),n&&s.push(`surfaceType=${n}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),i&&s.push(`q=${i}`),r&&"unknown"!==r&&s.push(`rs=${r}`),a&&s.push(`requestParams=${encodeURIComponent(a)}`);let o=s.length?`?${s.join("&")}`:"";return o}a.d(t,{Z:()=>i})},297852:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(94047);function n({cropArea:e,cropSource:t,isProductPage:a,pinId:n,requestParams:l,searchQuery:r,surfaceType:s,title:o,trafficSource:d}){let c=(0,i.Z)({cropArea:e,cropSource:t,requestParams:l,searchQuery:r,surfaceType:s,title:o,trafficSource:d}),u="";return a&&(u="products/"),`/pin/${n}/visual-search/${u}${c}`}},985057:(e,t,a)=>{"use strict";function i({x:e,y:t,w:a,h:i}){return[e,t,a,i].every(e=>""!==e&&null!=e&&Number.isFinite(Number(e)))}a.d(t,{Z:()=>i})},873476:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var i=a(667294),n=a(616550),l=a(826067),r=a(50286),s=a(829407);function o(){let e=(0,r.HG)(),{action:t}=(0,n.k6)(),{path:a}=(0,n.$B)(),o=(0,n.TH)(),{entry:d}=(0,l.mB)(o.search),c="/pin/:id/related-products/all"===a,u="/pin/:id/visual-search/products"===a,[p,g]=(0,i.useState)(()=>{if("PUSH"!==t)return null;if(e){if(c&&("flashlight"===d||"stela"===d))return"feed_module";if("shop"===d)return"shop_the_look_module"}else if(u)return"feed_module";return null});return(0,s.Z)(()=>{g(null)}),p}},487392:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(780280),n=a(784590),l=a(19121);function r(){let e=(0,i.B)(),t=(0,l.Z)(),{advertiser:a}=e,r=(0,n.Z)(a?.merchant_id?null:{name:"UserResource",options:{user_id:a?a.owner_user_id:t.isAuth&&t.id,field_set_key:"merchant_summary"}});return{merchantId:a?.merchant_id||r.data?.ppa_merchant_id||"",advertiserId:a?.id||"",ownerUserId:a?.owner_user_id||(t.isAuth?t.id:""),advertiser:a}}},306732:(e,t,a)=>{"use strict";a.d(t,{Be:()=>i,J_:()=>r,MD:()=>n,Rd:()=>s,ss:()=>l});let i={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},n={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},l="US",r="activated",s="ads_create_source_param"},785352:(e,t,a)=>{"use strict";a.d(t,{I:()=>o});var i=a(667294),n=a(898781),l=a(784590),r=a(306732);let s=(e,t,a)=>{if(a===r.Be[Number(t)]){if(1===Number(t))return e._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products');if(2===Number(t))return e._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals');if(3===Number(t))return e._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular');if(4===Number(t))return e._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers');else if(5===Number(t))return e._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock');else if(6===Number(t))return e._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals')}return a};function o(e={},t=!1,a=!1){let r=(0,n.ZP)(),o=(0,l.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:a}),d=(0,i.useMemo)(()=>o.data&&o.isLoaded?o.data.map(e=>(e.name=s(r,e.type,e.name),e)):[],[r,o.data,o.isLoaded]);return{...o,data:d}}},869899:(e,t,a)=>{"use strict";a.d(t,{r:()=>v,K:()=>x});var i=a(667294),n=a(425288),l=a(773285),r=a(784590),s=a(19121),o=a(389643),d=a(339363),c=a(70061);let u=e=>{let t={};for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&("object"!=typeof e[a]||null===e[a]||Array.isArray(e[a])?t[(0,c.Z)(a)]=e[a]:t[(0,c.Z)(a)]=u(e[a]));return t},p=(e,t)=>{let a=[];for(let i in e)i!==t&&a.push({id:i,...u(e[i])});let i=a.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of i)n.set(e.id,e);return n},g={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},h=({dispatch:e,isEnabled:t,state:a})=>{let{orbacVisibility:n,disableProfileChanger:l,headerVisible:r}=a,s=(0,i.useCallback)(a=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:a})},[t,e]),o=(0,i.useCallback)(a=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:a??!n})},[t,e,n]),d=(0,i.useCallback)(a=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:a??!l})},[t,e,l]),c=(0,i.useCallback)(a=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:a??!r})},[t,e,r]);return{changeProfile:s,toggleORBACVisibility:o,toggleDisableProfileChanger:d,toggleHeaderVisibility:c}},y=e=>{let[t,a]=(0,i.useReducer)(m,g),n=h({dispatch:a,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:r}=t;(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&a({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&a({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacVisibility",r)},[r]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",l)},[l]);let s=(0,i.useCallback)((e,t)=>{a({type:"LOAD_PROFILES",payload:p(e,t)})},[a]);return{state:t,actions:n,receiveProfiles:s}};var _=a(785893);let{Provider:f,useMaybeHook:x}=(0,n.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{let t;let{checkExperiment:a}=(0,l.F)(),n=(0,s.Z)(),d=!!(n.isAuth&&n.isPartner&&a("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:p}=y(d),{activeProfile:g,headerVisible:m,profiles:h=[]}=c,x=h?Array.from(h.values()):[],v=(0,o.Z)(x),b=!!n.isAuth&&x.length>0&&v,S=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:k,toggleORBACVisibility:P,toggleDisableProfileChanger:T,toggleHeaderVisibility:j}=u;(0,i.useEffect)(()=>{if(d){if("string"==typeof v){k(v);return}g||k(S)}},[v,S,d,k,g]),(0,i.useEffect)(()=>{d&&(b&&!m&&j(!0),!b&&m&&j(!1))},[j,b,d,m,h]);let{data:I}=(0,r.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),F=I?.profiles;n&&n.isAuth&&c.activeProfile===n.id?t={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:g&&c.profiles&&(t=c.profiles.get(g)),(0,i.useEffect)(()=>{F&&p(F,S)},[p,F,S]);let C=c.profiles?Array.from(c.profiles.values()):[];return(0,_.jsx)(f,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:t,changeProfile:k,toggleORBACVisibility:P,toggleDisableProfileChanger:T,toggleHeaderVisibility:j},children:e})}},717615:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(773285),n=a(869899),l=a(389643);let r=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,n.K)(),{activeProfile:a}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,l.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return r&&(!o||s)&&a&&(a.viewerMeetsMfaRequirement||(a.permissions||[]).includes("OWNER"))?a:Object.freeze({})}},389643:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var i=a(616550),n=a(53987),l=a(773285),r=a(19121),s=a(350118);let o=e=>{let t=(0,i.TH)(),a=(0,r.Z)(),o=(0,s.S6)(),{anyEnabled:d}=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_www"),c=(0,i.$B)("/:username"),u=c?.params?.username,p=(0,i.$B)("/pin/:id"),g=!!p?.params?.id&&o(p.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t))return!0;if((0,n.mY)(t))return d;let m=e.concat(a.isAuth?{user:{username:a.username},id:a.id}:{}).find(e=>{let{user:t={},id:a}=e||{},{username:i}=t;return(!!i&&!!u||!!g&&!!a)&&(i===u||g===a)});return!!m&&m.id}},231947:(e,t,a)=>{"use strict";a.d(t,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>l,nl:()=>n,q6:()=>o});let i=(e,t)=>{let a=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(a=t.user.username),a},n=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,a)=>a&&a.user&&t&&t.isAuth&&a.id!==t.id?a.user.merchantId:e.advertiser?.merchant_id,s=(e,t,a)=>a&&a.user&&e.isAuth&&a.id!==e.id?a.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,o=(e,t,a)=>{let i=e&&e.isAuth&&a&&a.id&&a.id!==e.id&&a.id===t;return!!i},d=(e,t,a)=>{let i=o(e,t,a)||e&&e.isAuth&&t===e.id;return!!i},c=(e,t,a)=>{let i=t&&t.owner&&t.owner.id||"";return d(e,i,a)};function u(e,t,a){let i=t?t.id:"";return d(e,i,a)}},225692:(e,t,a)=>{"use strict";a.d(t,{X:()=>n,Z:()=>l});var i=a(667294);let n=120;function l(e,t=0,a=n){let[l,r]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)(()=>{if(e){if(t){let e=setTimeout(()=>r("active"),t);return()=>{clearTimeout(e)}}r("active")}else{let e=setTimeout(()=>r("inactive"),a);return()=>{clearTimeout(e)}}},[e]),l}},841509:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(883119),n=a(785893);function l({children:e,additionalStyles:t={}}){return(0,n.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},525199:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(883119),n=a(225692),l=a(785893);function r({children:e,fadeInDuration:t=0,fadeOutDuration:a=n.X,visibility:r}){return"none"!==r&&e?(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:a?`opacity ${a}ms ease`:void 0},visible:{opacity:1,transition:t?`opacity ${t}ms ease`:void 0}}[r]},children:e}):null}},833991:(e,t,a)=>{"use strict";a.d(t,{HW:()=>r,YW:()=>u,i3:()=>p,o2:()=>c});var i=a(667294),n=a(425288),l=a(785893);let r=660,s={educationId:null,paddingRight:0,zIndex:r};function o(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:a}=t.payload;return{...e,educationId:a};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=t.payload;return{...e,zIndex:n};default:return e}}let{Provider:d,Consumer:c,useHook:u}=(0,n.Z)("footerContext");function p({children:e}){let[t,a]=(0,i.useReducer)(o,s),n=(0,i.useCallback)(e=>a({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,i.useCallback)(e=>a({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),c=(0,i.useCallback)(e=>a({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,i.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:n,setZIndex:c}),[t,r,n,c]);return(0,l.jsx)(d,{value:u,children:e})}},427806:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(883119),n=a(785893);function l({text:e}){return(0,n.jsx)(i.xu,{display:"visuallyHidden",children:(0,n.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},872482:(e,t,a)=>{"use strict";a.d(t,{D:()=>n,a:()=>l});var i=a(425288);let{Provider:n,useMaybeHook:l}=(0,i.Z)("unauthPageWrapperContext")},8742:(e,t,a)=>{"use strict";a.d(t,{CC:()=>u,VU:()=>g,ZP:()=>y,hW:()=>p,jz:()=>m}),a(167912);var i,n=a(240684),l=a(916117),r=a(50286),s=a(19121),o=a(202873),d=a(986901),c=a(785893);let u=(0,n.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e(93041),a.e(73718),a.e(40706),a.e(12058),a.e(2984)]).then(a.bind(a,656226)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return a(t)},resolve:()=>656226}),p=(0,n.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e(97270),a.e(10966),a.e(40113),a.e(39921)]).then(a.bind(a,369083)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return a(t)},resolve:()=>369083}),g=(0,d.Z)(()=>Promise.all([a.e(93041),a.e(73718),a.e(40706),a.e(12058),a.e(2984)]).then(a.bind(a,656226)),void 0,"AuthDesktopPinRep"),m=(0,d.Z)(()=>Promise.all([a.e(97270),a.e(10966),a.e(40113),a.e(39921)]).then(a.bind(a,369083)),void 0,"DefaultPinRep"),h=void 0!==i?i:i=a(875666);function y(e){let t=(0,r.HG)(),a=(0,o.b)(),i=(0,s.Z)(),n=i&&i.isAuth&&t,d=(0,l.Z)(h,e.duploQueryRef);if(n&&!e.duploQueryRef){let{disableReaction:t,disableRounding:i,disableAppUpsell:n,duploDedupeVisualAnnotations:l,duploDisablePinCardPadding:r,duploFeedItemProps:s,duploIsSquarePin:o,duploLazyLoadImage:d,duploOneTapSave:p,duploPinCardDetailsMargin:m,duploPriorityFetchImage:h,duploQueryRef:y,duploShouldAddNiiSearchParamToImageUrls:_,duploShouldAllowProductPriceIndicator:f,duploConversationPin:x,topLevelTrafficSource:v,topLevelTrafficSourceDepth:b,trafficSource:S,...w}=e;return a?(0,c.jsx)(g,{...w}):(0,c.jsx)(u,{...w})}let{attributionOption:y,blockClickEvents:_,borderStyle:f,disableHover:x,imageHeightModifier:v,imageOnlyOption:b,onError:S,onLoad:w,pin:k,pinImageCrop:P,pinImageFit:T,resolution:j,rounding:I,saveButtonOptions:F,authDesktopSelectionState:C,authDesktopSurface:A,pinOwner:E,...D}=e;return a?(0,c.jsx)(m,{...D,duploQueryRef:d}):(0,c.jsx)(p,{...D,duploQueryRef:d})}},350118:(e,t,a)=>{"use strict";a.d(t,{AF:()=>s,H0:()=>o,S6:()=>d,_S:()=>c});var i=a(702664),n=a(425288),l=a(785893);let{Provider:r,useHook:s,useMaybeHook:o}=(0,n.Z)("Pins");function d(){let e=s();return t=>e[t]}function c({children:e}){let t=(0,i.useSelector)(({pins:e})=>e,i.shallowEqual);return(0,l.jsx)(r,{value:t,children:e})}},284367:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var i=a(667294),n=a(883119),l=a(531539),r=a(444445),s=a(317254),o=a(740990),d=a(50286),c=a(829407),u=a(679031),p=a(22145),g=a(698629),m=a(785893);function h({customLayoutType:e,emptyState:t,feedItems:a,feedKey:h,maxColumns:y,pagination:{hasNext:_,isLoadingNext:f,loadNext:x,refetch:v},pullToRefresh:b,renderFeedItem:S,serverRender:w}){let k=(0,d.HG)(),[P,T]=(0,i.useState)(!1),j="userSearch"===e?window.innerWidth-16:200,I=f&&0===a.length&&!P,F="desktopFlashlight"===e?0:r.qG;return(0,c.Z)(()=>(window.addEventListener("online",x),()=>window.removeEventListener("online",x))),(0,m.jsxs)(n.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(p.Z,{enabled:!!b,onPull:()=>{v(),T(!0)},refreshing:P}),(0,m.jsxs)(n.xu,{"data-test-id":"grid",marginEnd:F,marginStart:F,opacity:P?.5:1,children:[(0,m.jsx)(s.Z,{isAtEndOfFeed:!_,itemCount:a.length,children:a.length?(0,m.jsx)(n.xu,{"data-test-id":"feed",marginTop:(0,u.kk)({isDesktop:k}),children:(0,m.jsx)(o.Z.Consumer,{children:t=>(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(u.c$,{children:(0,m.jsx)(l.Z,{cacheKey:h,columnWidth:k?r.yF:j,gutterWidth:k?4*r.jC:void 0,id:w?h:void 0,items:a,loadItems:x,maxColumns:y,minCols:"userSearch"===e?1:2,renderItem:({data:e,itemIdx:t})=>S(e,t),scrollContainerRef:t,serverRender:w})})})})}):f?(0,m.jsx)(u.gG,{}):t??null}),I&&(0,m.jsx)(n.xu,{column:12,paddingY:2,children:(0,m.jsx)(g.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},966676:(e,t,a)=>{"use strict";a.d(t,{Nb:()=>s,Of:()=>o,YO:()=>r,ZP:()=>u,x4:()=>c});var i=a(667294),n=a(499659),l=a(92261);let r=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:a})=>e&&t?a?l.Uj:l.zT:1,s=(0,n.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:a,showProductDetailPage:i,viewportSize:n,maxWidth:l,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:s,stackedCloseupEnabled:o,isInRemoveMagnifyingGlassVariant:d})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:a,showProductDetailPage:i,viewportSize:n,maxWidth:l,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:s,stackedCloseupEnabled:o,isInRemoveMagnifyingGlassVariant:d})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:l.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:l.u6,descriptionPaneWidth:l.u6-l.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1},d=(0,i.createContext)(o);function c(){let e=(0,i.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let u=d},92261:(e,t,a)=>{"use strict";a.d(t,{$T:()=>y,CI:()=>l,Ch:()=>s,Ey:()=>f,Gb:()=>o,Gg:()=>i,Ie:()=>p,KP:()=>g,Kn:()=>r,Uj:()=>d,bx:()=>m,d2:()=>u,g9:()=>h,iB:()=>x,pw:()=>_,u6:()=>n,zT:()=>c});let i=508,n=2*i,l=488,r=992,s=672,o=1176,d=.6,c=.84,u=40,p=72,g=740,m=912,h=32,y=24,_=1612,f=1360,x={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},398789:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var i=a(667294),n=a(883119),l=a(898781),r=a(773285),s=a(523657),o=a(780280),d=a(700380),c=a(50286),u=a(411465),p=a(398061),g=a(616550),m=a(667679),h=a(622096),y=a(867820),_=a(52022),f=a(785893);function x({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:a,inviterFirstName:s,imageSignature:o,pinId:d}){let u=(0,l.ZP)(),p=(0,_.Z)(),x=(0,m.Z)(),{checkExperiment:v}=(0,r.F)(),b=(0,i.useRef)(),S=(0,c.ZP)(),w="desktop"===S,k=s&&a,P=w&&v("dweb_unauth_main_pin_visual_search_v2").group,T="enabled_2_no_upsell"===P||"enabled_rollout"===P||"enabled_1_nav_upsell_post_land"===P,j=k&&(u._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",s),I=T?u._('See something you like? Tap to search inside this image', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'):u._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),F=u._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),C=(0,g.k6)();return(0,f.jsx)(n.iP,{onMouseEnter:()=>{k&&(0,y.My)("dweb.main_pin.social.wash.view"),(0,y.My)("dweb.pin.wash.view")},onMouseLeave:()=>{k&&(0,y.My)("dweb.main_pin.social.wash.dismiss"),(0,y.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{if(w){if(e.preventDefault(),p({action:"click",item:"pin-image"}),a&&s&&(0,y.My)("dweb.main_pin.social.wash.click"),T){let e=`/pin/${d}/visual-search/?`;o&&(e+=`imageSignature=${o}`),C.push(e),h.Z.setItem("VISUAL_SEARCH_SOURCE","MAIN_PIN_WASH")}else(0,y.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),x({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}});t&&(0,y.My)("unauth.pdp.pin.img.click",{device:S})}},children:(0,f.jsxs)(n.xu,{zIndex:new n.Ry(2),children:[(0,f.jsx)(n.xu,{ref:b,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:a?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,f.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:T?260:240,paddingY:10,children:(0,f.jsx)(n.xu,{marginTop:8,children:(0,f.jsx)(n.X6,{align:"center",color:"light",size:k?"500":"400",children:w?j||I:F})})})}),!w&&(0,f.jsx)(n.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(n.hU,{accessibilityLabel:u._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,y.My)("main.pin.wash.cancel"))},size:"md"})})]})})}var v=a(691720),b=a(872482);let S=e=>{let t=(0,l.ZP)(),{alt:a,clickthroughOverlayOptions:g,color:m,isFlashlightPage:h,naturalHeight:y,naturalWidth:_,placeholder:S,pinImageResizePercent:w=100,pwtElementTimingId:k,pwtSurfaceContext:P,setShowClickthroughOverlay:T,showSpinner:j,src:I,stickyFooter:F,isEligibleForPdp:C,pinId:A,imageSignature:E}=e,D=(0,u.Z)(),{checkExperiment:R}=(0,r.F)(),L=!D,{isAuthenticated:M}=(0,o.B)(),Z=(0,c.ZP)(),O="desktop"===Z,K=M&&!O&&R("auth_mweb_inline_action_bar").anyEnabled,z=(0,i.useRef)(),[N,H]=(0,i.useState)(!L||!!I&&!!S&&S===I),G=(0,i.useRef)(""),B=()=>{P&&P.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>H(!0),e.src=I},[]);let $=(0,i.useRef)(b.a()?.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,d.Z)(()=>{if(z.current){let t=window.scrollY>z.current.offsetTop+z.current.offsetHeight;$.current?.(t),t&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[U,W]=(0,i.useState)();(0,i.useEffect)(()=>{z.current&&W(z.current.scrollHeight)},[]);let V=!h&&"tablet"===Z,Y=L?(0,f.jsx)(s.Z,{alt:a,color:m,elementTiming:k,naturalHeight:y,naturalWidth:_,onLoad:B,src:S}):null;return(0,f.jsxs)(n.xu,{ref:z,dangerouslySetInlineStyle:{__style:{transition:100===w?"":"width 500ms ease-in-out"}},"data-test-id":"pin-closeup-image",marginTop:"tablet"===Z&&K?12:0,maxHeight:"100%",maxWidth:"tablet"===Z?v.g6:void 0,minHeight:100===w?U:void 0,overflow:F?void 0:"hidden",position:"relative",rounding:h||"phone"===Z?0:6,width:h||"phone"===Z?`${w}%`:O?508:v.Hg,children:[!M&&g&&"enabled_3_no_wash_upsell_post_land"!==R("dweb_unauth_main_pin_visual_search_v2").group&&(0,f.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,f.jsx)(x,{imageSignature:E||"",inviterFirstName:G.current,isEligibleForPdp:C,pinId:A||"",setShowClickthroughOverlay:T})}),Y&&(V?(0,f.jsx)(n.xu,{overflow:"hidden",rounding:6,children:Y}):Y),(0,f.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:N?1:0,transition:N&&!O?"opacity .5s ease-in-out":void 0,backgroundColor:m}},left:!0,overflow:V?"hidden":void 0,position:L?"absolute":"relative",right:!0,rounding:V?6:5,top:!0,children:L?(0,f.jsx)(n.Ee,{alt:a,naturalHeight:y,naturalWidth:_,src:I}):(0,f.jsx)(s.Z,{alt:a,color:m,elementTiming:k,naturalHeight:y,naturalWidth:_,onLoad:B,src:I})}),j&&(0,f.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:N?0:1,transition:N?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!N&&(0,f.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(n.$j,{accessibilityLabel:t._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),F]})}},435497:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x});var i=a(667294),n=a(883119),l=a(729884),r=a(407043),s=a(444445),o=a(564194),d=a(391254),c=a(773285),u=a(780280),p=a(829407),g=a(785893);function m({index:e,length:t,showBadge:a}){return(0,g.jsx)(n.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:a?.8:0,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new n.Ry(1),children:(0,g.jsx)(n.xv,{color:"inverse",children:`${(e??0)+1}/${t}`})})}let h=({index:e})=>{let[t,a]=(0,i.useState)(!0),n=(0,i.useRef)(),l=(0,i.useRef)();return(0,i.useEffect)(()=>(n.current=setTimeout(()=>{a(!1)},3e3),()=>{clearTimeout(n.current)}),[]),(0,i.useEffect)(()=>{if(!l.current){l.current=e;return}clearTimeout(n.current),a(!0)},[e]),{showBadge:t}};var y=a(455024),_=a(350118);let f=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function x(e){let{children:t,componentType:a,containerRef:x,contextLogData:v,disableTransition:b,gap:S=0,height:w,id:k,impressionType:P,index:T,shouldBeDragCarousel:j,showCarouselBadge:I,styleOverrides:F,slideWidth:C,view:A,viewParameter:E,widthRatio:D=1}=e,{showBadge:R}=h({index:T}),{logContextEvent:L}=(0,r.v)(),M=(0,_.S6)()(k),Z=(0,i.useRef)(),O=(0,i.useRef)(),K=(0,i.useRef)(0),z=(0,i.useRef)(),{checkExperiment:N}=(0,c.F)(),{isAuthenticated:H}=(0,u.B)();if((0,p.Z)(()=>{let e=O.current;if(!e)return;let t=()=>{let e=N(H?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,t=K.current;if(e){let e=new IntersectionObserver(([i])=>{let n=-(i.boundingClientRect.x??0);Math.abs(t-n)>=10&&L({component:a,event_type:"right"==(t<n?"right":"left")?9315:9316,view_type:A,view_parameter:E}),K.current=n,z.current&&e.unobserve(z.current)});z.current&&e.observe(z.current)}else{let e=-(z.current?.getBoundingClientRect().x??0);Math.abs(t-e)>=10&&L({component:a,event_type:"right"==(t<e?"right":"left")?9315:9316,view_type:A,view_parameter:E}),K.current=e}};return j&&e.addEventListener("touchend",t),()=>{j&&e.removeEventListener("touchend",t)}}),D>1||D<0)throw Error("widthRatio should be between 0 and 1 inclusive");let G=Math.floor(C*D),B=i.Children.toArray(t),$=B.length*G,U=x.current?.clientWidth||$,W=F?.justifyContent??(U>$?"center":"start");return(0,g.jsx)("div",{className:"BoardMoreIdeasRep"===P?"moreIdeasBoardRepCarousel":"",children:(0,g.jsxs)(n.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",justifyContent:W,overflow:"hidden",children:[I&&(0,g.jsx)(m,{index:T,length:B.length,showBadge:R}),"BoardMoreIdeasRep"!==P&&(0,g.jsx)(l.P,{pinKey:null!=M?{type:"deprecated",data:M}:null,children:e=>(0,g.jsx)(o.Z,{carouselData:e&&{...e,type:"canonical"},contextLogData:v,impressionType:"Pin",loggingId:k,slotIndex:T,trackCarousel:!0,viewParameter:E??72,viewType:A??1,children:(0,g.jsx)(n.xu,{height:w??Z.current?.clientHeight??1,overflow:"hidden",position:"absolute",width:C})},`carousel-impression-key-${T}`)}),j&&(0,g.jsx)(d.Z,{unsafeCSS:f}),(0,g.jsx)("div",{ref:O,className:"horizontal-scroll-container",style:{overflowX:j?"scroll":"visible",paddingLeft:j?`${s.yt}px`:void 0,paddingRight:j?`${s.yt}px`:void 0,display:"flex",flexDirection:"row",position:"relative",scrollbarWidth:0,transition:j||b?void 0:"left .3s",left:!j&&(0,y.CU)({slotWidth:G,gap:S,numberOfSlides:B.length,index:T,containerWidth:U})},children:B.map((e,t)=>{let i=t===B.length-1,l=Math.ceil(S/4),r=0;l>=-12&&l<=12&&(r=l);let s=(0,g.jsx)(n.xu,{ref:e=>{Z.current=e,0===t&&(z.current=e)},"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${t}`,height:w??void 0,marginEnd:i?0:r,width:G,children:e},`carousel-slot-${k}-${t}`);if("BoardMoreIdeasRep"===P){let i=e.props,n={total_object_count:i?.story.objects.length,storyType:i?.story.story_type,boardIdStr:i?.item.board_id,slotIndex:i?.slotIndex,story_id:i?.story.id};return(0,g.jsx)(o.Z,{componentType:a,contextLogData:n,impressionAuxFields:n,impressionType:P??"Pin",loggingId:k,slotIndex:t,viewParameter:E??72,viewType:A??1,children:s},`carousel-slot-${k}-${t}`)}return s})})]})})}},356725:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var i,n,l=a(702664);a(167912);var r=a(883119),s=a(729884),o=a(916117),d=a(357998),c=a(966676),u=a(721782),p=a(447948),g=a(350118),m=a(785893);let h=void 0!==i?i:i=a(603239);function y({carouselData:e,carouselIndex:t,componentType:i,contextLogData:y,handleCarouselSwipe:_,isCloseup:f,isEditMode:x,pinKey:v,viewParameter:b,viewType:S,variant:w}){let k;let P=(0,g.S6)();if(null==v||"graphqlRef"===v.type)k=v;else{let e=v.data;if("string"==typeof e){let t=P(e);k=null!=t?{type:"deprecated",data:t}:null}else k={type:"deprecated",data:e}}let T=(0,o.Z)(h,k),{childDataKey__DEPRECATED:j}=(0,d.Q)(void 0!==n?n:n=a(822423),T,{useLegacyAdapter:e=>({})}),I=(0,u.Z)(j,"CarouselEllipsis"),F=(0,s.Z)(j),C=e||F&&{carouselSlots:F.carouselSlots.map(({slotId:e,title:t})=>({id:e,title:t})),entityId:F.carouselId??"",index:F.index},A=(0,l.useDispatch)();if(!C)return null;let E=(e,t,a)=>{x||void 0===p.yR||(e.preventDefault(),e.stopPropagation(),A((0,p.yR)(T?.entityId??"",a))),void 0!==_&&_(a),I({pinId:T?.entityId??"",currentIndex:t??0,nextIndex:a,carouselData:{carouselSlots:C.carouselSlots?.map(e=>({id:e.id})),entityId:C.entityId},viewParameter:b,viewType:S,componentType:i,contextLogData:y,isEditMode:x})},{carouselSlots:D,index:R}=C,L="number"==typeof t?t:R,M="default"===w,Z=M?"white":"#555",O=M?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,m.jsx)(c.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,m.jsx)(r.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:f?"end":"center",paddingY:x?1:0,children:D&&[...Array(D.length??0).keys()].map(e=>(0,m.jsx)(r.xu,{paddingX:1,children:(0,m.jsx)(r.iP,{accessibilityLabel:(D[e]||{}).title??"",fullWidth:!1,onTap:({event:t})=>E(t,L,e),rounding:"circle",children:(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e===L?Z:O}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},(T?.entityId??"")+e))})})}},239062:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var i,n,l=a(702664);a(167912);var r=a(883119),s=a(729884),o=a(916117),d=a(357998),c=a(898781),u=a(356725),p=a(721782),g=a(447948),m=a(350118),h=a(785893);let y={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},_=(e,t,a,i,n,l)=>{l||void 0===i||(e.preventDefault(),e.stopPropagation(),i(t,a)),void 0!==n&&n(a)},f=void 0!==i?i:i=a(717246);function x({addEllipsis:e,alwaysShowNavigationArrows:t,carouselIndex:i,carouselData:x,ellipsisVariant:v,handleCarouselSwipe:b,isShowingLastSlide:S,pinKey:w,contextLogData:k,viewParameter:P,viewType:T,componentType:j,isEditMode:I,itemsPerPage:F,forwardNode:C,backNode:A,sliderStyleOverride:E,hideNavigationArrows:D}){let R;let L=(0,c.ZP)(),M=(0,l.useDispatch)(),Z=(0,m.S6)();if(null==w||"graphqlRef"===w.type)R=w;else{let e=Z(w.data);R=null==e?null:{type:"deprecated",data:e}}let O=(0,o.Z)(f,R),{childDataKey__DEPRECATED:K}=(0,d.Q)(void 0!==n?n:n=a(671704),O,{useLegacyAdapter:e=>({})}),z=(0,p.Z)(K,"CarouselSliders"),N=(0,s.Z)(K),H=x||N&&{carouselSlots:N.carouselSlots.map(({slotId:e,title:t})=>({id:e,title:t})),entityId:N.carouselId??"",index:N.index};if(!H)return null;let G=(e,t)=>M((0,g.yR)(e,t)),{carouselSlots:B,index:$}=H,U=void 0!==i?i:$??0,W=Math.max(0,U-(F??1)),V=Math.min((B??[]).length-1,U+(F??1)),Y=0===U,q=S||U===(B??[]).length-1,X=(e,t)=>{_(e,O?.entityId??"",t,G,b,I),z({pinId:O?.entityId??"",currentIndex:U,nextIndex:t,carouselData:{carouselSlots:B?.map(({id:e})=>({id:e})),entityId:H.entityId},viewParameter:P,viewType:T,componentType:j,contextLogData:k,isEditMode:I,isEligibleForPdp:O?.isEligibleForPdp??!1})},Q=A||(0,h.jsx)(r.JO,{accessibilityLabel:L._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:"inverse",icon:"arrow-back"}),J=D?null:C||(0,h.jsx)(r.JO,{accessibilityLabel:L._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:"inverse",icon:"arrow-forward"});return(0,h.jsxs)(r.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:D?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!D&&(0,h.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:e=>{X(e,W)},onKeyUp:e=>{X(e,W)},role:"presentation",style:{...y,...E,pointerEvents:Y?"none":"auto"},children:(0,h.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Y&&!t?"hidden":"visible",opacity:Y&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:Q})}),e&&(0,h.jsx)(u.default,{carouselData:{carouselSlots:H.carouselSlots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:H.entityId,index:H.index},carouselIndex:i,componentType:j,handleCarouselSwipe:b,pinKey:K,variant:v||"default",viewParameter:P,viewType:T}),!D&&(0,h.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:e=>{X(e,V)},onKeyUp:e=>{X(e,V)},role:"presentation",style:{...y,...E,pointerEvents:q?"none":"auto"},children:(0,h.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:q&&!t?"hidden":"visible",opacity:q&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:J})})]})}},751191:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(667294),n=a(883119),l=a(898781),r=a(785893);let s=({iconType:e,showFab:t,backgroundColor:a,hoverColor:s,iconColor:o,moduleHovered:d,size:c})=>{let u=(0,l.ZP)(),[p,g]=(0,i.useState)(!1),m=d??p;return(0,r.jsx)(n.zd,{rounding:6,children:(0,r.jsx)(n.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),opacity:m?1:m===d?0:.8,rounding:"circle",children:(0,r.jsx)(n.xu,{alignItems:"center",color:p?s:a,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",display:"flex",height:c||48,justifyContent:"center",opacity:t?1:0,width:c||48,children:"forward"===e?(0,r.jsx)(n.JO,{accessibilityLabel:u._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:o,icon:"arrow-forward"}):(0,r.jsx)(n.JO,{accessibilityLabel:u._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:o,icon:"arrow-back"})})})})}},721782:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d}),a(167912);var i,n=a(407043),l=a(916117),r=a(999018),s=a(67347);let o=void 0!==i?i:i=a(270643);function d(e,t){let{logContextEvent:a}=(0,n.v)(),i=(0,l.Z)(o,e);null!=e&&"deprecated"===e.type&&e.data&&"pin"!==e.data.type&&(0,s.nP)("web.graphql.debug.useLogSwipeError",{sampleRate:1,tags:{parent:t,rootType:e.data.type}});let d=(0,r.Z)(i);return function({pinId:e,currentIndex:t,nextIndex:i,carouselData:n,viewParameter:l,viewType:r,componentType:s,contextLogData:o,isEditMode:c,isEligibleForPdp:u}){if(!c){let{carouselSlots:c,entityId:p}=n;a({event_type:108,object_id_str:e,component:s,view_type:r,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:c?.[t]&&Number(c[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:i}},aux_data:{...o,...d({isPdpPlus:u})}})}}}},455024:(e,t,a)=>{"use strict";a.d(t,{CU:()=>s,GH:()=>c,Iw:()=>d,gA:()=>u,tD:()=>o,vF:()=>p});let i=({index:e,numberOfSlides:t,slidesShownPerPosition:a})=>t-e-Math.floor(a)<1,n=({slidesShownPerPosition:e,slotAndGapWidth:t})=>{let a=e-parseInt(e,10);return t-a*t},l=({containerWidth:e,contentWidth:t,index:a,slotAndGapWidth:i})=>{let n=a-1,r=n*i;return t-r>=e?r:l({index:n,slotAndGapWidth:i,containerWidth:e,contentWidth:t})},r=({containerWidth:e,contentWidth:t,gap:a,index:i,slidesShownPerPosition:r,slotAndGapWidth:s})=>{let o=l({containerWidth:e,contentWidth:t,index:i,slotAndGapWidth:s}),d=n({slidesShownPerPosition:r,slotAndGapWidth:s});return o+d-a},s=({containerWidth:e,gap:t,index:a,numberOfSlides:n,slotWidth:l})=>{let s=l+t,o=s*n;if(o<=e)return 0;let d=e/s,c=i({index:a,numberOfSlides:n,slidesShownPerPosition:d}),u=c?r({containerWidth:e,contentWidth:o,gap:t,index:a,slidesShownPerPosition:d,slotAndGapWidth:s}):a*s;return u?Math.round(-u):0},o=({containerWidth:e,gap:t,index:a,numberOfSlides:i,slotWidth:n})=>{let l=n+t,r=l*i;if(0===e)return!1;if(r<=e)return!0;let o=s({containerWidth:e,gap:t,index:a,numberOfSlides:i,slotWidth:n}),d=r-e;return Math.abs(o)+t>=d},d=({containerWidth:e,currentIndex:t,gap:a,index:i,numberOfSlides:n,slotWidth:l})=>{let r=l+a,o=r*n;if(o<=e||0===e)return!0;let d=s({containerWidth:e,gap:a,index:t,numberOfSlides:n,slotWidth:l});return d+r*i<e+r},c=(e,t,a)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${a}`,u=({highResOnly:e,lowResOnly:t,slot:a})=>{let{images:i}=a;return t?`${i?.["236x"]?.url??""} 1x`:e?`${i?.["564x"]?.url??""} 1x`:[i?.["474x"]&&`${i["474x"].url??""} 2x`,i?.["736x"]&&`${i["736x"].url??""} 3x`,i?.orig&&`${i.orig.url??""} 4x`].filter(Boolean).join(", ")},p=(e,t,a,i,n=0)=>{if(a===t)return-(i*t*1);let l=t+n;return i===e-1?-1*i*l+Math.floor(a-t):-1*i*l}},998651:(e,t,a)=>{"use strict";a.d(t,{L:()=>o,r:()=>s});var i=a(385740),n=a(595371),l=a(909499);let r=["search_articles_story","search_for_you_upsell","search_story_separator","search_story_landing_page_header","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","guided_search_entry_points_story"];function s({query:e,rs:t,scope:a},r){let s=(0,i.BE)(),o=!s?.viewType&&!s?.viewParameter,d=(0,l.wF)(a);if(!o&&d){let{viewType:a,viewParameter:i}=s??{};r({event_type:d,view_type:a,view_parameter:i,aux_data:{query:e,rs:t||n.i.UNKNOWN}})}t===n.i.HASHTAG_CLOSEUP?r({event_type:101,component:13065,element:10273,view_type:142}):t===n.i.HASHTAG_PINREP&&r({event_type:101,component:0,element:10349,view_type:142})}let o=(e=[])=>{let t=!0;return e.reduce((e,a)=>(t&&a.story_type&&r.includes(a.story_type)&&a.display_options?.num_columns_requested===0?e.searchFullWidthStories.push(a):(t=!1,e.filteredResults.push(a)),e),{searchFullWidthStories:[],filteredResults:[]})}},96939:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(883119),n=a(65675),l=a(785893);function r({coverImages:e,height:t,isHovered:a,onClick:r,onMouseEnter:s,onMouseLeave:o,textType:d,text:c,url:u,width:p}){let g=e&&(e["236x"]||e["280x280"]);return(0,l.jsx)(n.Z,{backgroundColor:"gray",coverImage:g,height:t,isHovered:a,onClick:r,onMouseEnter:s,onMouseLeave:o,url:u,width:p,children:(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,l.jsx)(i.X6,{align:"center",color:"light",size:"500",children:c})}):(0,l.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,l.jsx)(i.xv,{align:"center",weight:"bold",children:c})})})})}},65675:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,Z:()=>s});var i=a(667294),n=a(883119),l=a(785893);let r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:a,disableTabIndex:s,height:o,id:d,isHovered:c,onClick:u,onMouseDown:p,onMouseEnter:g,onMouseLeave:m,searchBoxRenderStopwatch:h,url:y,width:_}){let[f,x]=(0,i.useState)(!1),v=()=>{g?g():x(!0)},b=()=>{m?m():x(!1)},S=c||f,w=S?r.hoverOverlay:r.bubbleOverlay;return(0,l.jsx)(n.Tg,{href:y,onBlur:b,onFocus:v,onMouseDown:p,onMouseEnter:v,onMouseLeave:b,onTap:()=>{u?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,l.jsx)(n.zd,{height:o,rounding:4,width:_||"100%",children:a?.url?(0,l.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,onLoad:()=>{h?.stop()},role:"presentation",src:a.url,children:[(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:w},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},272984:(e,t,a)=>{"use strict";a.d(t,{Z:()=>ev});var i,n,l,r=a(167912),s=a(616550),o=a(883119),d=a(934494),c=a(898781),u=a(773285),p=a(784590),g=a(280446),m=a(667294),h=a(363957),y=a(362810),_=a(356997),f=a(916117),x=a(349700),v=a(867820),b=a(785893);let S=void 0!==i?i:i=a(405410),w=()=>{(0,v.NC)("click_best_pin_board",!0)},k=()=>{(0,v.NC)("click_best_pin_profile",!0)},P=({pin:e})=>{let{pinner:t}=e,{username:a,fullName:i}=t??{},n=t?.imageMediumUrl||t?.imageSmallUrl,l=`/${a??""}/`;return(0,b.jsx)(o.Tg,{fullWidth:!1,href:l,onTap:k,rounding:"circle",children:(0,b.jsx)(_.qE,{name:i??"",outline:!0,size:"sm",src:n??""})})},T=({pin:e})=>{let t=(0,c.ZP)(),{board:a,pinner:i}=e,{name:n,privacy:l,url:r}=a??{},s=a?.entityId||"",{username:d,fullName:u}=i??{},p=`/${d??""}/`,g=(0,b.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(o.rU,{display:"inlineBlock",href:p,onClick:k,underline:"hover",children:u})},u);return"protected"===l?(0,x.nk)(t._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:g}):(0,x.nk)(t._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:g,boardName:(0,b.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(o.rU,{href:r??"",onClick:w,children:n},"board")},s)})},j=({pinKey:e})=>{let t=(0,f.Z)(S,e);return(0,b.jsxs)(o.xu,{alignItems:"center","data-test-id":"pin-attribution",direction:"row",display:"flex",marginTop:3,children:[(0,b.jsx)(P,{pin:t}),(0,b.jsx)(o.xu,{marginEnd:2}),(0,b.jsx)(o.xv,{size:"200",children:(0,b.jsx)(T,{pin:t})})]})};var I=a(112690);function F({pageType:e,pinCreditPrefix:t,pin:a,pinLink:i,viewParameter:n}){let l=(0,c.ZP)(),r=(0,I.Z)();if("topic"!==e.page&&(!a.domain||"Uploaded by user"===a.domain))return null;let s="topic"!==e.page||e.isAuth?"100":"200",d="topic"===e.page&&!!a.nativeCreator,u=d?a.nativeCreator?.fullName:a.domain;return(0,b.jsx)(o.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,b.jsx)(o.rU,{display:"inlineBlock",href:d?`/${a.nativeCreator?.username||""}/`:i,onClick:()=>{"topic"===e.page?(0,v.NC)("click_topic_best_pin_link"):r({event_type:12,view_type:3,object_id_str:a.entityId,component:85,view_parameter:n})},rel:"nofollow",target:"blank",underline:"hover",children:(0,b.jsx)(o.xv,{size:s,children:(0,x.nk)(l._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:t,pinCredit:(0,b.jsx)(o.xv,{inline:!0,size:s,weight:"bold",children:(e.page,u)},d?"creatorProfile":"pinLinkDomain")})})})})}var C=a(782534),A=a(694379),E=a(248975),D=a(153209),R=a(992750),L=a(269051),M=a(53199),Z=a(692627),O=a(220306),K=a(910164),z=a(780280);let N=void 0!==n?n:n=a(327620),H=e=>{let t=null;e.lastRepinDate&&(t=new Date(e.lastRepinDate));let a=null;return(e.createdAt&&(a=new Date(e.createdAt)),t)?a?t>a?t:a:t:a},G=e=>{let t="";if(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished)return t;let a=H(e);if(a&&a.getFullYear()===new Date().getFullYear()){let i=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:n}=e;i.has(n)&&(t=a?(0,b.jsx)(C.Z,{dateFormatType:C.k.LONG_MONTH_YEAR,useUTC:!1,value:a}):"")}return t},B=e=>!!(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished),$=(e,t)=>{let a=new Date((e.richMetadata??{}).article?.datePublished??Date.now()),i=a.getTime(),n=new Date().getTime();return null==t||n-i<=31536e6*t?(0,b.jsx)(C.Z,{dateFormatType:C.k.LONG_MONTH_YEAR,useUTC:!1,value:a}):""};function U(e){let{pinKey:t,viewportSize:a,pageType:i}=e,n=(0,f.Z)(N,t),{pinCreditPrefix:l,pinLink:r}=(0,L.Z)(n),s=(0,M.Z)(n),{description:d}=(0,R.eK)({richMetadataDescription:n.richMetadata?.description,richSummaryDisplayName:n.richSummary?.displayName,closeupUnifiedDescription:n.closeupUnifiedDescription});"videos_category"===i.page&&(d=(0,R.kt)(d,n.nativeCreator?.username||""));let c="wide"===a,u=(0,R.Ly)({pinTitle:n.title,gridTitle:n.gridTitle,richSummaryDisplayName:n.richSummary?.displayName??"",richMetadataTitle:n.richMetadata?.title??"",storyPinDataId:n.storyPinDataId,storyPinDataMetadataPinTitle:n.storyPinData?.metadata?.pinTitle,pinJoinVisualAnnotation:n.pinJoin?.visualAnnotation});(n.gridTitle||"").trim()&&u!==n.gridTitle&&(u=(0,R.EU)(n.gridTitle,200));let p=(0,D.r)(n.richMetadata?.recipe?.name,!!n.richMetadata?.recipe?.categorizedIngredients,n.richMetadata?.recipe?.fromAggregatedData??!1)?n.richMetadata?.recipe:null,g=B(n)&&$(n,2),m=G(n)||g,{isBot:h,isSocialBot:y}=(0,z.B)();return(0,b.jsx)(o.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",flex:"grow",padding:8,position:"relative",width:"100%",children:(0,b.jsxs)(o.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",children:[(0,b.jsx)(F,{pageType:i,pin:{entityId:n.entityId,domain:n.domain||"",nativeCreator:n.nativeCreator&&{fullName:n.nativeCreator.fullName,username:n.nativeCreator.username}},pinCreditPrefix:"topic"===i.page&&n.nativeCreator?"Created by":l,pinLink:r??"",viewParameter:(0,Z.Z)({hasPin:!0,hasPinRichMetadata:!!n.richMetadata,hasPinRichMetadataProducts:!!n.richMetadata?.products,hasPinRichMetadataArticle:!!n.richMetadata?.article,hasPinRichMetadataRecipe:!!n.richMetadata?.recipe,hasPinStoryPinData:!!n.storyPinData})}),(0,b.jsx)(o.kC,{direction:"row",justifyContent:"between",children:(0,b.jsx)(o.xu,{display:"flex",marginEnd:c?0:3,marginTop:c?3:0,overflow:"hidden",children:u&&(0,b.jsx)("h2",{"data-test-id":"UnauthBestPinCardTitle",style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:u})})}),m?(0,b.jsx)(o.xu,{marginTop:1,children:(0,b.jsx)(o.xv,{color:"subtle",children:m})}):null,d&&(0,b.jsx)(o.xu,{display:"flex",marginTop:3,overflow:"hidden",children:(0,b.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[p&&(0,b.jsx)(K.Z,{recipeKey:p}),d]})}),p&&(0,b.jsx)(O.Z,{marginOverrides:p?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:p.categorizedIngredients,name:p.name,image:(0,E.Z)({imagesUrls:s,embedSrc:n.embed?.src,embedType:n.embed?.type,excludeOriginals:!h&&!y})}}}),(0,b.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginTop:2,children:[(0,b.jsx)(j,{pinKey:n}),(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:!n.repinCount||n.repinCount<1?null:(0,b.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,b.jsx)(o.JO,{accessibilityLabel:"Pin",color:"subtle",icon:"pin",size:12}),(0,b.jsx)(o.xv,{color:"default",inline:!0,size:"100",children:(0,b.jsx)(A.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n.repinCount})})]})})]})]})})}var W=a(485019),V=a(352870),Y=a(53987),q=a(223008),X=a(430323),Q=a(501338),J=a(826067),ee=a(829407),et=a(975540),ea=a(599611),ei=a(94047),en=a(297852),el=a(8742),er=a(404508),es=a(284367);let eo=0,ed="";function ec(e){let{images:t,image_signature:a}=e,i=t?.["564x"]&&t.orig,{url:n}=i??{},{width:l=1,height:r}=i??{};return"number"==typeof l&&"number"==typeof r&&l>564&&(r*=564/l,l=564),{width:l,height:r,url:n,imageSignature:a}}let eu=({data:e,index:t,viewParameter:a,productsURL:i})=>{switch(e.type){case"pin":return(0,b.jsx)(el.ZP,{duploQueryRef:null,pinId:e.id,slotIndex:t,viewParameter:a,viewType:72});case"story":return i&&(0,b.jsx)(y.Z,{dangerouslySetActionUrl:i,slotIndex:t,story:e});default:return null}},ep=({resourceOptions:e})=>{let t=(0,c.ZP)(),{data:a,isAtEnd:i,isFetching:n,fetchMore:l}=(0,p.Z)({name:"VisualLiveSearchResource",options:e}),r=(0,s.TH)(),d=`${r.pathname}products/${r.search}`;return(0,b.jsxs)(m.Fragment,{children:[a&&(0,b.jsx)(es.Z,{customLayoutType:"desktopFlashlight",feedItems:a.results||[],feedKey:"flashlight-dweb-unauth",pagination:{loadNext:l,hasNext:i,isLoadingNext:n,refetch:()=>void 0},renderFeedItem:(e,t)=>eu({data:e,index:t,viewParameter:3050,productsURL:d})}),(0,b.jsx)(o.$j,{accessibilityLabel:t._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:n})]})},eg=({resourceOptions:e})=>{let t=(0,c.ZP)(),{data:a,isAtEnd:i,isFetching:n,fetchMore:l}=(0,p.Z)({name:"VisualLiveSearchProductFeedResource",options:e});return(0,b.jsxs)(m.Fragment,{children:[a&&(0,b.jsx)(es.Z,{customLayoutType:"desktopFlashlight",feedItems:a||[],feedKey:"flashlight-products-dweb-unauth",pagination:{loadNext:l,hasNext:i,isLoadingNext:n,refetch:()=>void 0},renderFeedItem:(e,t)=>eu({data:e,index:t,viewParameter:3334})}),(0,b.jsx)(o.$j,{accessibilityLabel:t._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:n})]})};function em({pinResponse:e}){let t=(0,c.ZP)(),{isRTL:a}=(0,z.B)(),i=(0,I.Z)(),n=(0,s.k6)(),l=(0,s.TH)(),r=(0,s.$B)(),d=(0,m.useRef)(),{pin:u,isLoaded:p}=e,{pinId:y}=(0,g.Z)(r.params.id||""),_=(0,J.mB)(l.search),f=(0,h.Z)(l),x=function(e){let t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(_.cropSource),S=(0,Y.hd)(l),{getNormalizedPinImage:w}=(0,q.Z)({pinKey:null!=u?{type:"deprecated",data:u}:null});if((0,m.useEffect)(()=>{if(!f&&u){let{width:e,height:t}=w(),a=(0,en.Z)({cropArea:{h:t-2*W.S,w:e-2*W.S,x:W.S,y:W.S},isProductPage:S,pinId:y,surfaceType:"flashlight"});n.replace(a)}},[w,n,f,S,u,y]),(0,ee.Z)(()=>{i({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:y}}),(0,v.My)("unauth.flashlight_page")}),(0,m.useEffect)(()=>{let e=d.current;return e&&ed===y&&(e.scrollTop=eo),()=>{e&&(eo=e.scrollTop,ed=y)}}),!p)return(0,b.jsx)(X.Z,{objectId:"",view:72,children:(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:Q.Pw}},position:"relative",children:(0,b.jsx)(o.$j,{accessibilityLabel:t._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!u)return null;let{image_signature:k,description:P}=u,{width:T,height:j,url:F}=ec(u),C=function({initialCropArea:e,pin:t}){let a;if(e)a={...e};else{let{visual_objects:e}=t,{width:i=1,height:n=1}=ec(t);if(e&&e.length){let{x:t,y:l,w:r,h:s}=e[0];a=(0,ea.Z)({cropArea:{x:t,y:l,w:r,h:s},scaledWidth:i,scaledHeight:n})}else{let[e,t]=[i/6,n/6],[l,r]=[i-2*e,n-2*t];a={x:e,y:t,w:l,h:r}}}return{x:Math.floor(a.x??0),y:Math.floor(a.y??0),w:Math.floor(a.w??0),h:Math.floor(a.h??0)}}({initialCropArea:f,pin:u}),A=l.state&&l.state.internalNavigation,E=T+20,D=(E??1)+24,R={pin_id:y,image_signature:k,crop:(0,et.Z)({cropArea:C,scaledWidth:T,scaledHeight:j}),crop_source:x||5},L={__style:{top:140}};return(0,b.jsx)(X.Z,{objectId:"",view:72,children:(0,b.jsxs)(m.Fragment,{children:[(0,b.jsxs)(o.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{top:80}},display:"flex",height:60,position:"fixed",width:"100%",zIndex:new o.Ry(4),children:[(0,b.jsx)(o.xu,{left:!0,position:"absolute",children:(0,b.jsx)(er.Z,{})}),(0,b.jsx)(o.xu,{flex:"grow",children:(0,b.jsx)(o.X6,{align:"center",size:"400",children:S?t._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):t._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})})]}),S?(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:L,position:"relative",children:(0,b.jsx)(eg,{resourceOptions:R})}):(0,b.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,b.jsxs)(o.xu,{ref:d,dangerouslySetInlineStyle:L,height:"calc(100% - 140px)",marginEnd:3,marginStart:3,overflow:"auto",position:"fixed",width:E,zIndex:new o.Ry(4),children:[(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{width:T,height:j}},"data-test-id":"flashlight-enabled-image",children:(0,b.jsxs)(o.zd,{height:j,rounding:2,width:T,children:[(0,b.jsx)(o.Ee,{alt:P??"",naturalHeight:j??1,naturalWidth:T??1,src:F??""}),(0,b.jsx)(V.Z,{customCropper:function({origCrop:e,cropSource:t}){let a=window.location.pathname+window.location.search,i=(0,en.Z)({cropArea:e,cropSource:t??6,isProductPage:S,pinId:y,surfaceType:"flashlight"});(0,v.My)("unauth.flashlight_page.cropper_changed"),i!==a&&y&&n.replace({pathname:`/pin/${y}/visual-search/`,search:(0,ei.Z)({cropArea:e,cropSource:t??6,surfaceType:"flashlight"}),state:{internalNavigation:!0}})},imageSignature:k,imageSize:{h:j,w:T},initialCropArea:C,pinKey:{type:"deprecated",data:u},showAnimation:!A,viewParameter:3050,viewType:72})]})}),(0,b.jsx)(o.xu,{"data-test-id":"closeupDescription",direction:"column",display:"flex",margin:5,maxWidth:T??1,position:"relative",children:(0,b.jsx)(U,{pageType:{isAuth:!1,page:"flashlight"},pinKey:{type:"deprecated",data:u},viewportSize:"narrow"})})]}),(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{...L.__style,...a?{marginRight:`${D}px`}:{marginLeft:`${D}px`}}},position:"relative",width:"100%",children:(0,b.jsx)(ep,{resourceOptions:R})})]})]})})}let eh=void 0!==l?l:l=a(676684);function ey(e){return e?.map(e=>{var t,a;return{name:e.name??"",offer_summary:{in_stock:e.offerSummary?.inStock??!1},additional_images:function(e){let t=[];return e.forEach(({additionalImagesSpec:e,spec:a})=>{t.push(...function({additionalImagesSpec:e,spec:t}){return e?.map(e=>({canonical_images:{[t]:{height:e.canonicalImage?.height??0,url:e.canonicalImage?.url??"",width:e.canonicalImage?.width??0}},image_signature:e.imageSignature??""}))}({additionalImagesSpec:e,spec:a})??[])}),t}([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}])??[],variant_set:(t=e.variantSet,{variants:(a=t?.variants,a?.map(e=>{var t;return{additional_images:(t=e.additionalImages,t?.map(e=>({canonical_images:e.canonicalImages??{},image_signature:e.imageSignature??""}))??[])}})??[])}??{})}})}function e_(e){return{username:e?.username??"",full_name:e?.fullName??"",image_medium_url:e?.imageMediumUrl,image_small_url:e?.imageSmallUrl}}function ef(e){return{id:e?.entityId??"",username:e?.username??"",full_name:e?.fullName??"",image_medium_url:e?.imageMediumUrl,image_small_url:e?.imageSmallUrl,type:"user"}}let ex=(0,d.Z)({useGraphQLAdapter:function({pinId:e}){var t,a,i,n,l,s,o;let d=(0,r.useLazyLoadQuery)(eh,{pinId:e}),c=d.v3GetPinQuery?.data;if(!c)return null;let u={id:c.entityId??"",is_eligible_for_related_products:c.isEligibleForRelatedProducts??!1,description:c.description??"",image_signature:c.imageSignature??"",images:function(e){let t={};return e.forEach(e=>{let{image:a,spec:i}=e;a&&(t[i]={width:a.width??0,url:a.url??"",type:a.type??"",height:a.height??0,dominant_color:a.dominantColor??""})}),t}([{image:c.imageOrig,spec:"orig"},{image:c.image736x,spec:"736x"},{image:c.image564x,spec:"564x"},{image:c.image474x,spec:"474x"},{image:c.image236x,spec:"236x"}])??{},rich_metadata:(t=c.richMetadata,{products:ey(t?.products)??[],description:t?.description??"",title:t?.title??"",recipe:(a=t?.recipe,{name:a?.name??"",from_aggregated_data:a?.fromAggregatedData??!1,categorized_ingredients:a?.categorizedIngredients?.map(e=>({category:e.category??""}))}??{}),article:{date_published:t?.article?.datePublished??""},tutorial:{id:t?.tutorial?.name??"",type:"makecardtutorialmetadata"}}),rich_summary:(i=c.richSummary,{products:ey(i?.products)??[],display_name:i?.displayName??""}),visual_objects:(n=c.visualObjects,n?.map(e=>({detection:e.detection??!1,h:e.h??0,index:e.index??0,is_stela:e.isStela??!1,label:e.label??"",label_id:null==e.labelId?e.labelId:Number(e.labelId),label_x:e.labelX??0,label_y:e.labelY??0,max_annotation_num_documents:e.maxAnnotationNumDocuments??0,score:e.score??0,show_on_closeup:e.showOnCloseup??!1,w:e.x??0,x:e.w??0,y:e.y??0}))??[]),closeup_unified_description:c.closeupUnifiedDescription,grid_title:c.gridTitle??"",story_pin_data_id:c.storyPinDataId,repin_count:c.repinCount??0,tracked_link:c.trackedLink,link:c.link,domain:c.domain??"",closeup_attribution:e_(c.closeupAttribution),link_domain:{official_user:e_(c.linkDomain?.officialUser)},native_creator:ef(c.nativeCreator),pinner:ef(c.pinner),origin_pinner:ef(c.originPinner),board:(l=c.board,{id:l?.entityId??"",image_thumbnail_url:l?.imageThumbnailUrl??"",name:l?.name??"",privacy:"protected"===(s=l?.privacy)||"public"===s||"secret"===s?s:"secret",url:l?.url??"",type:"board"}),pin_join:{annotations_with_links_array:(o=c.pinJoin?.annotationsWithLinksArray,o?.map(e=>({name:e.name,url:e.url}))??[]),visual_annotation:c.pinJoin?.visualAnnotation??[]},story_pin_data:{metadata:{pin_title:c.storyPinData?.metadata?.pinTitle}},type:"pin"};return{pin:u,isLoaded:!0}},useLegacyAdapter:function({pinId:e}){let{data:t,isLoaded:a}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:a}}});function ev(){let{checkExperiment:e}=(0,u.F)(),t=(0,c.ZP)(),a=(0,s.$B)(),{pinId:i}=(0,g.Z)(a.params.id||"");return(0,b.jsx)(ex,{input:e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,b.jsx)(o.$j,{accessibilityLabel:t._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,b.jsx)(em,{pinResponse:e})})}},245376:(e,t,a)=>{"use strict";function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}a.d(t,{Z:()=>i})},691720:(e,t,a)=>{"use strict";a.d(t,{D5:()=>s,Hg:()=>n,T_:()=>r,g6:()=>l,w6:()=>i});let i=(e,t)=>Array.from({length:t-e},(t,a)=>a+e),n=508,l=600;function r(e,t){if(!t.startsWith("en"))return e;let a=e.split(" ").map(e=>{let t=e===e.toUpperCase();return t?e:e.toLowerCase()});return a.join(" ")}let s=()=>{let e=new URL(window.location.href),t=e.hostname.replace("www.",""),a=e.pathname;return`${t}${a=a.replace(/\/\d+\//,"/").replace(/\/$/,"")}`}},594379:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>es,Bi:()=>en,gv:()=>el});var i,n,l,r=a(167912),s=a(616550),o=a(883119),d=a(934494),c=a(898781),u=a(773285),p=a(418614),g=a(280446),m=a(667294),h=a(363957),y=a(862670),_=a(865686),f=a(288562),x=a(407043),v=a(485019),b=a(352870),S=a(916117),w=a(223008),k=a(42447),P=a(276602),T=a(780280),j=a(483205),I=a(430323),F=a(826067),C=a(829407),A=a(975540),E=a(297852),D=a(873476),R=a(724617),L=a(444445),M=a(317254),Z=a(784590),O=a(8742),K=a(785893);let z=({data:e,itemIdx:t})=>(0,K.jsx)(O.ZP,{authDesktopSurface:"RelatedProductsFeed",duploQueryRef:null,pin:e,pinId:e.id,slotIndex:t,viewParameter:3334,viewType:72});function N({resourceOptions:e}){let t=(0,c.ZP)(),a=(0,Z.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:i,isAtEnd:n,isLoaded:l,isFetching:r,fetchMore:s}=a,d=(0,m.useRef)(null);if(!l)return(0,K.jsx)(o.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,K.jsx)(o.$j,{accessibilityLabel:t._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});let u=Array.isArray(i)?i:i?.results;return(0,K.jsx)(o.xu,{ref:d,display:"flex",justifyContent:"center",maxWidth:"100%",children:u&&(0,K.jsx)(M.Z,{isAtEndOfFeed:n,itemCount:u.length,children:(0,K.jsx)(R.default,{columnWidth:L.yF,isFetching:r,items:u,loadItems:()=>{r||n||s()},renderItem:e=>(0,K.jsx)(z,{...e}),scrollContainerRef:d,virtualize:!1})})})}var H=a(361259),G=a(83053),B=a(647945),$=a(362810);let U=void 0!==i?i:i=a(378605);function W({resourceOptions:e,onSearchIdChange:t,hasSimplifiedPinGridExpLoaded:a,viewParameter:i}){let n=(0,c.ZP)(),l=(0,Z.Z)({name:"VisualLiveSearchResource",options:e}),{image_signature:r}=e,{data:s,isFetching:d,fetchMore:u}=l,p=s?.results,g=s?.search_identifier;return(0,m.useEffect)(()=>{g&&t(g)},[t,g]),(0,K.jsxs)(o.xu,{children:[p&&g&&(0,K.jsx)(o.xu,{children:(0,K.jsx)(o.Rk,{columnWidth:L.yF,gutterWidth:L.P2,items:p,loadItems:u,minCols:1,renderItem:({data:e,itemIdx:t})=>(function({data:e,itemIdx:t}){let a=`${window.location.pathname}products/${window.location.search}&full_feed_title=${encodeURIComponent("Shop similar items")}`;return"story"===e.type?(0,K.jsx)($.Z,{dangerouslySetActionUrl:a,slotIndex:t,story:e}):"pin"===e.type?(0,K.jsx)(O.ZP,{authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:g,image_signature:r},duploQueryRef:null,pin:e,pinId:e.id,slotIndex:t,viewData:{search_identifier:g},viewParameter:i,viewType:72}):null})({data:e,itemIdx:t}),scrollContainer:()=>window})}),(0,K.jsx)(o.$j,{accessibilityLabel:n._('Loading search results...', 'FlashlightResultGrid.spinner', 'Accessibility label for loading visual search results'),show:d||!g||!a})]})}function V(e){let{pinKey:t,onSearchIdChange:a,resourceOptions:i,viewParameter:n}=e,{hasSimplifiedPinGridExpLoaded:l}=(0,H.$)(),{checkExperiment:r}=(0,u.F)(),s=(0,S.Z)(U,t),{anyEnabled:o}=r("web_flashlight_unified_feed"),{visualSearchFlashlightUnifiedResource:d}=(0,B.Z)({resourceOptions:i,setFlashlightSearchId:a});return(0,K.jsx)(m.Fragment,{children:o?(0,K.jsx)(G.Z,{isProductOnlyFeed:!1,pinKey:s,surfaceType:"flashlight",viewParameter:n,viewType:72,visualSearchFlashlightUnifiedResource:d}):(0,K.jsx)(W,{hasSimplifiedPinGridExpLoaded:l,onSearchIdChange:a,resourceOptions:i,viewParameter:n})})}var Y=a(427806),q=a(697335);let X=0,Q="",J=void 0!==n?n:n=a(568189);function ee({pinKey:e}){let t=(0,c.ZP)(),a=(0,s.k6)(),i=(0,T.B)(),{logContextEvent:n}=(0,x.v)(),{checkExperiment:l}=(0,u.F)(),r=(0,P.E)(),{anyEnabled:d}=l("web_flashlight_unified_feed"),[p,R]=(0,m.useState)(""),{id:L}=(0,s.UO)(),{pinId:M}=(0,g.Z)(L||""),Z=(0,S.Z)(J,e),O=Z.imageSignature||"",z=(0,D.Z)(),H=(0,s.TH)(),G=(0,F.mB)(H.search),{cropSource:B}=Object.keys(G).reduce((e,t)=>({...e,[t]:parseInt(G[t],10)}),{}),$=(0,h.Z)(H),U=H.pathname.includes("/products"),{getInitialCropArea:W}=(0,y.Z)({pinKey:Z}),ee=W({initialCropArea:$}),et=(0,m.useRef)();(0,m.useEffect)(()=>(et.current&&Q===M&&(et.current.scrollTop=X),()=>{et.current&&(X=et.current.scrollTop,Q=M)}));let ea=B||5,ei=U?"shopping":"flashlight",en=d&&4===ea?3462:3050,{getNormalizedPinImage:el}=(0,w.Z)({pinKey:Z,maxWidth:j.RZ});(0,C.Z)(()=>{if(!$&&Z){let{width:e,height:t}=el(),i=(0,E.Z)({cropArea:{h:(t??1)-2*v.S,w:(e??1)-2*v.S,x:v.S,y:v.S},pinId:M,isProductPage:U,surfaceType:"flashlight"});a.replace(i)}d||n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:M}})});let{width:er,height:es,url:eo}=el(),ed={pin_id:M,image_signature:O,crop:(0,A.Z)({cropArea:ee,scaledWidth:er,scaledHeight:es}),crop_source:ea,is_shopping:U,entry_source:ei,entrypoint:z},ec=H&&H.state&&H.state.internalNavigation,eu=!ec,ep=i&&i.isRTL||!1,eg=er+20,em=G.full_feed_title,eh=em||t._('Image search', 'ImageSearch.Header', 'Header explaining results of flashlight search');return Z?(0,K.jsx)(k.Z,{constraints:["shoppingModuleRender","visualSearchMainPinImageRender"],measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,K.jsx)(I.Z,{objectId:p,view:72,children:(0,K.jsxs)(m.Fragment,{children:[(0,K.jsx)(Y.Z,{text:t._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),(0,K.jsx)(f.Z,{pinId:M,showShopTitle:!d&&!!em&&!U,title:!d||d&&(5===ea||6===ea)?eh:"",viewParameter:en,viewType:72}),(0,K.jsx)(q.c,{children:e=>U?(0,K.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},children:[(0,K.jsx)(N,{resourceOptions:ed}),";"]}):(0,K.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,K.jsx)(o.xu,{ref:et,bottom:!0,dangerouslySetInlineStyle:{__style:{width:eg,height:"inherit",top:e+60,marginBottom:10}},overflow:"auto",position:"fixed",children:(0,K.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{width:er,height:es}},"data-test-id":"flashlight-enabled-image",children:(0,K.jsxs)(o.zd,{height:es,rounding:4,width:er,children:[(0,K.jsx)(o.Ee,{alt:Z.description??"",naturalHeight:es,naturalWidth:er,onLoad:()=>r?.markConstraintComplete("visualSearchMainPinImageRender"),src:eo}),(0,K.jsx)(b.Z,{imageSignature:O,imageSize:{h:es,w:er},initialCropArea:ee,pinKey:Z,showAnimation:eu,viewParameter:en})]})})}),(0,K.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:(0,_.Z)({top:60,cropperWidth:eg,isRTL:ep,isFlashlightPage:!0})},position:"relative",width:"100%",children:(0,K.jsx)(V,{onSearchIdChange:R,pinKey:Z,resourceOptions:ed,viewParameter:en})})]})})]})})}):null}let et=void 0!==l?l:l=a(490644);function ea(e){return{width:e.width??0,url:e.url??"",height:e.height??0}}function ei(e){return e?.map(e=>{var t,a;return{additional_images:function(e){let t=[];return e.forEach(({additionalImages:e,spec:a})=>{t.push(...function({additionalImages:e,spec:t}){let a=[];return e?.forEach(e=>{e.canonicalImage&&a.push({canonical_images:{[t]:ea(e.canonicalImage)},image_signature:e.imageSignature??""})}),a}({additionalImages:e,spec:a})??[])}),t}([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}])??[],variant_set:(t=e.variantSet,{variants:(a=t?.variants,a?.map(e=>{var t;return{additional_images:(t=e.additionalImages,t?.map(e=>({canonical_images:e.canonicalImages??{},image_signature:e.imageSignature??""}))??[])}})??[])}??{})}})}function en(e){var t,a,i;let{id:n}=(0,s.UO)(),{pinId:l}=(0,g.Z)(n||""),o=function({pinId:e}){return{query:et,variables:{pinId:e}}}({pinId:l}),d=(0,r.useLazyLoadQuery)(et,o.variables),c=d.v3GetPinQuery?.data;if(!c)return null;let u={id:c.entityId??"",is_eligible_for_related_products:c.isEligibleForRelatedProducts??!1,description:c.description??"",image_signature:c.imageSignature??"",visual_objects:(t=c.visualObjects,t?.map(e=>({detection:e.detection??!1,h:e.h??0,index:e.index??0,is_stela:e.isStela??!1,label:e.label??"",label_id:null==e.labelId?e.labelId:Number(e.labelId),label_x:e.labelX??0,label_y:e.labelY??0,max_annotation_num_documents:e.maxAnnotationNumDocuments??0,score:e.score??0,show_on_closeup:e.showOnCloseup??!1,title:e.title??"",w:e.x??0,x:e.w??0,y:e.y??0}))??[]),images:function(e){let t={};return e.forEach(e=>{let{image:a,spec:i}=e;a&&(t[i]=ea(a))}),t}([{image:c.imageOrig,spec:"orig"},{image:c.image736x,spec:"736x"},{image:c.image564x,spec:"564x"},{image:c.image474x,spec:"474x"},{image:c.image236x,spec:"236x"}])??{},rich_metadata:(a=c.richMetadata,{products:ei(a?.products)??[]}),rich_summary:(i=c.richSummary,{products:ei(i?.products)??[]}),type:"pin"};return u}function el(e){let{data:t,isLoaded:a}=(0,p.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return a&&t?t:null}let er=(0,d.Z)({useGraphQLAdapter:en,useLegacyAdapter:el});function es(){let{checkExperiment:e}=(0,u.F)(),t=(0,c.ZP)();return(0,K.jsx)(er,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,K.jsx)(o.$j,{accessibilityLabel:t._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,K.jsx)(ee,{pinKey:{type:"deprecated",data:e}})})}},215425:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var i=a(883119),n=a(668706),l=a(934494),r=a(898781),s=a(773285),o=a(594379),d=a(785893);let c=(0,l.Z)({useGraphQLAdapter:o.Bi,useLegacyAdapter:o.gv});function u(){let{checkExperiment:e}=(0,s.F)(),t=(0,r.ZP)();return(0,d.jsx)(c,{input:e("auth_dweb_graphql_closeup_shop_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,d.jsx)(i.$j,{accessibilityLabel:t._('Loading Pin data', 'RelatedProductsPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,d.jsx)(n.Z,{pinKey:{type:"deprecated",data:e}})})}},23195:(e,t,a)=>{"use strict";a.d(t,{Z:()=>L});var i=a(702664),n=a(616550),l=a(558068),r=a(898781),s=a(773285),o=a(784590),d=a(501338),c=a(826067),u=a(280446),p=a(50286),g=a(19121),m=a(307603),h=a(255164),y=a(873476),_=a(883119),f=a(407043),x=a(766935),v=a(444445),b=a(313047),S=a(542554),w=a(829407),k=a(156637),P=a(743203),T=a(679031),j=a(8742),I=a(422946),F=a(404508),C=a(284367),A=a(785893);function E({fixedHeaderOverrideTop:e,handleBackClick:t,inUnifiedFeedExp:a,pageTitle:i,searchResourceOptions:n,visualSearchFlashlightUnifiedResource:l}){let{logContextEvent:r}=(0,f.v)(),s=a?40:48,o=a?void 0:-v.D6,{data:d,fetchMore:c,isAtEnd:u,isFetching:p}=l||{},g=d?.results||[],m=g.reduce((e,t)=>"pin"===t.type?[...e,t]:e,[]),h=JSON.stringify({is_product_only_feed:!0}),y={name:"VisualLiveSearchProductFeedResource",options:n};return(0,w.Z)(()=>{let e=(0,x.Z)(()=>{r({event_type:110,view_parameter:3462,view_type:427})},1e3);return a&&window.addEventListener("scroll",e),()=>{a&&window.removeEventListener("scroll",e)}}),(0,A.jsx)(k.Z,{auxData:a?{commerce_data:h}:void 0,viewParameter:3462,viewType:427,children:(0,A.jsxs)(S.default,{hasFixedHeader:!0,children:[(0,A.jsx)(b.FixedHeader,{height:a?60:void 0,overrideTop:e,children:(0,A.jsxs)(_.kC,{alignItems:"center",justifyContent:"between",children:[(0,A.jsx)(_.xu,{alignItems:"center",display:"flex",height:s,justifyContent:"center",marginStart:o,width:s,children:(0,A.jsx)(F.Z,{color:a?"darkGray":void 0,disableRedirect:!0,icon:"arrow-back",onTouch:t,size:a?"sm":void 0,viewParameter:3462,viewType:427})}),(0,A.jsx)(_.X6,{accessibilityLevel:1,size:"300",children:i}),(0,A.jsx)(_.xu,{marginEnd:o,width:s})]})}),a?(0,A.jsx)(C.Z,{feedItems:m,feedKey:(0,I.J)("VisualSearchFlashlightUnifiedResource",n)??"",pagination:{loadNext:c||(()=>void 0),hasNext:!u,isLoadingNext:p||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,A.jsx)(T.cn,{children:(0,A.jsx)(j.ZP,{auxData:{commerce_data:h},componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams||void 0,trafficSource:"shop_feed",viewParameter:3462,viewType:427})})}):(0,A.jsx)(P.ZP,{feedItemProps:{viewParameter:3462,viewType:427},feedKey:(0,I.J)(y.name,y.options)??"",resourceConfig:y,trafficSource:"shop_feed"})]})})}var D=a(350118);function R(e){let{searchResourceOptions:t}=e,a=(0,o.Z)({name:"VisualSearchFlashlightUnifiedResource",options:t});return(0,A.jsx)(E,{...e,visualSearchFlashlightUnifiedResource:a})}function L(){let{checkExperiment:e}=(0,s.F)(),t=(0,r.ZP)(),a=(0,p.ZP)(),_=(0,n.k6)(),{previous:f}=(0,l.Hv)(),x=(0,y.Z)(),v=(0,n.TH)(),{isAuth:b}=(0,g.Z)(),S=(0,n.$B)(),{pinId:w}=(0,u.Z)(S.params.id||""),{data:k}=(0,o.Z)({name:"PinResource",options:{id:w,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),P=(0,D.S6)()(w),T=(0,i.useSelector)(e=>e.flashlight.cropSource||5);if(!(k??P))return null;let{anyEnabled:j}=e("mweb_flashlight_unified_feed"),{cropbox_dimensions:I,crop_source:F,x:C,y:L,w:M,h:Z}=(0,c.mB)(v.search),[O,K,z,N]=I?I.replace(/\{|\}/g,"").split(","):[],H=j?(0,m.Z)({x:O,y:K,w:z,h:N}):(0,m.Z)({x:C,y:L,w:M,h:Z}),G=j?(0,h.Z)(Number(F)):T,B=j?t._('Shop similar', 'mobileFlashlightPage.heading', 'Shop similar items from the visual search image'):t._('Shop similar items', 'mobileFlashlightPage.heading', 'Header explaining results of flashlight products search'),$={fixedHeaderOverrideTop:(0,d.ZP)(a,b),handleBackClick:()=>{if(0===f.length){_.replace(`/pin/${w}/visual-search/`);return}_.goBack()},inUnifiedFeedExp:j,pageTitle:B,searchResourceOptions:{pin_id:w,crop:H,crop_source:G,is_shopping:!0,entry_source:"shopping",entrypoint:x}};return j?(0,A.jsx)(R,{...$}):(0,A.jsx)(E,{...$})}},35066:(e,t,a)=>{"use strict";a.d(t,{S:()=>c,w:()=>u});var i=a(667294),n=a(425288),l=a(311541),r=a(632448),s=a(785893);let o=()=>a.e(6819).then(a.bind(a,6819)),{Provider:d,useHook:c}=(0,n.Z)("MerchantStorefrontSettings");function u({children:e}){let[t,a]=(0,l.Z)(o,r.Z),n=(0,i.useMemo)(()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,i)=>{a({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:i}})},updateStorefrontLastUpdated:e=>{a({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}}),[a,t]);return(0,s.jsx)(d,{value:n,children:e})}},632448:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});let i={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},59644:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},151645:(e,t,a)=>{"use strict";function i({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}a.d(t,{Z:()=>i})},390598:(e,t,a)=>{"use strict";a.d(t,{PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS:()=>o,Z:()=>d});var i=a(667294),n=a(883119),l=a(407043),r=a(970023),s=a(785893);let o={HEIGHT:362,WIDTH:362};function d({productGroup:e,preferredPreviewPinSizes:t=[],coverFit:a=!1}){let d;let{logContextEvent:c}=(0,l.v)(),u=e.coverImages?.[0]&&(0,r.cB)(e.coverImages[0]),{WIDTH:p,HEIGHT:g}=o,m=(e.previewPins?.[0]||{}).images,[h,y]=(0,i.useState)(!u);m&&h&&(d=t.concat("orig").map(e=>m[e]).find(e=>!!e));let _=h?d?.height:g,f=h?d?.width:p,x=h?d?.url:u;return _&&f&&x?(0,s.jsx)(n.Ee,{alt:"",fit:a?"cover":"contain",naturalHeight:_,naturalWidth:f,onError:()=>{h||(c({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:u}}),y(!0))},src:x}):null}},316674:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(81636);function n({entryPoint:e,objectId:t,groupType:a}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:a},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}function l(e){return"profile"===e?4:1}let r={Control:{BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,i.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}},DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:{BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t,groupType:a},i){let l=n({entryPoint:e,objectId:t,groupType:a});i({event_type:120,...l})},tapProductGroup:function({entryPoint:e,productGroupId:t,groupType:a},i){let l=n({entryPoint:e,objectId:t,groupType:a});i({event_type:102,...l})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},a){a({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:a,productGroupId:i},n){n({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:a,product_group_id:i}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},a){a({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},a){a({event_type:13,view_type:l(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:a,bubble:i},n){n({event_type:120,component:13699,view_type:l(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:a,...i.aux_fields}})},tapCategory:function({id:e,source:t,title:a,bubble:i},n){n({event_type:102,component:13699,view_type:l(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:a,...i.aux_fields}})},tapSeeMoreCategories:function({id:e,source:t},a){a({event_type:102,component:13699,element:179,view_type:l(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t,groupType:a,componentType:i,index:n},r){r({event_type:102,component:i,object_id_str:e,view_type:l(t),view_parameter:3512,aux_data:{product_group_type:a,grid_index:n}})},tapSeeMoreProductGroups:function({id:e,source:t},a){a({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:l(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t,groupType:a,componentType:i},n){n({event_type:120,component:i,object_id_str:e,view_type:l(t),view_parameter:3512,aux_data:{product_group_type:a}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:a,source:i},n){n({event_type:120,component:13700,view_type:l(i),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:a,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},a){a({event_type:102,component:0,view_type:l(t),view_parameter:3512,aux_data:{...e}})}}}}},970023:(e,t,a)=>{"use strict";a.d(t,{yh:()=>i,QE:()=>n,cB:()=>l}),a(214494),a(186656);let i="ALL_PRODUCTS",n=5e3,l=e=>{if(!e)return"";let t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(let a of t)if(e[a])return e[a].url??"";return""}},436395:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(616550),n=a(784590);function l(){let{username:e}=(0,i.UO)();return(0,n.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},447948:(e,t,a)=>{"use strict";function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function n(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function l(e){return{type:"PIN_SAVE",payload:e}}function r(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function o({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:a}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:a}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function g(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}a.d(t,{Gb:()=>r,I1:()=>o,Ib:()=>c,Ur:()=>l,Vw:()=>s,b9:()=>p,i0:()=>u,mO:()=>n,q1:()=>d,yR:()=>i,yj:()=>g})},492583:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},422946:(e,t,a)=>{"use strict";a.d(t,{J:()=>_,Z:()=>w});var i=a(932995),n=a(338739),l=a(648284),r=a(998651),s=a(59644),o=a(483025),d=a(819063),c=a(492583);let u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>e?.url==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":e?.url==="/v3/users/me/interests/"?`recommended-interests:${e.data?.blend_type}`:"",AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${c.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{let t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{let t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},g={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:c.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:c.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?c.Z.AGGREGATED_COMMENT_REPLIES:c.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:c.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:c.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:c.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:c.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:c.Z.PROFILE_BOARDS,id:(0,s.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:a,filters:i,query_pin_sigs:n,query:s,user:o},response:d})=>({type:c.Z.SEARCH_PINS,id:(0,l.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:s,selectedPinImgSig:n,scope:a,user:o}),items:d.resource_response.data?.results?(0,r.L)(d.resource_response.data.results).filteredResults:[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:c.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:c.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:c.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:c.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:c.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:c.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:c.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:c.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:c.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:c.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:c.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,feedId:a})=>e[a]?{...e,[a]:e[a].filter(e=>!("pin"===e.type&&e.id===t))}:e,h=(e,{pinId:t,feedId:a})=>e[a]?{...e,[a]:[{type:"pin",id:t},...e[a]]}:e,y=(e,{pinId:t,oldFeedId:a,newFeedId:i})=>a===i?e:h(m(e,{pinId:t,feedId:a}),{pinId:t,feedId:i}),_=(e,t)=>e in p?p[e](t):null,f=(e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===c.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},x=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,v=(e,t,a)=>{let i=a||o.Z[e];if(i===d.LR)return t.result;if(i===d.sN)return t.result.map(e=>({id:e,schema:"board"}));if(i===d.Gn)return t.result.map(e=>({id:e,schema:"user"}));if(i===d.Ht)return t.result.map(e=>({id:e,schema:"invite"}));if(i===d.fE)return t.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof i){let e=Object.entries(i).find(([,e])=>e===d.LR);if(e)return t.result[e[0]]}return null},b=(e,t)=>e.map(e=>{let{id:a,schema:i,type:n}=e;return"home_feed_tabs"===n?e:i?{id:a,type:i,trackingParams:"pin"===i?t.pins[a].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean),S=(e,t,a)=>Object.keys(e).reduce((i,n)=>{let l=e[n]||[],r=l.filter(e=>!(e.type===t&&e.id===a));return l.length!==r.length&&(i[n]=r),i},{...e}),w=(e={},t)=>{switch(t.type){case n.zP:case n.aW:{let{payload:a}=t,{resource:i,options:l,normalizedResponse:r,schema:s}=a;if(r&&i in p){let a=v(i,r,s);if(a&&Array.isArray(a)){let s=p[i](l);if("ShoppingFeedModularizedResource"===i){let{board_id:t,saved_products_only:i}=l??{},n=`board-shop-related:${t}`,s=`board-shop-saved:${t}`,o=`board-shop-saved-preview:${t}`,d=[...e[n]||[]],c=[...e[s]||[]],u=[...e[o]||[]],p=b(a,r.entities);return p.forEach(e=>{i?c.push(e):r.entities.pins&&r.entities.pins[e.id]?.board===t?u.push(e):d.push(e)}),{...e,[n]:d,[s]:c,[o]:u}}if("BoardToolsFeedResource"===i||"SectionToolsFeedResource"===i)return{...e,[s]:a};if("UnifiedCommentsResource"===i){let i=[...(t.type===n.aW||n.zP)&&e[s]||[],...b(a,r.entities)];return{...e,[s]:i}}{let i=[...t.type===n.aW&&e[s]||[],...b(a,r.entities)];return{...e,[s]:i}}}}else{let{data:i}=a.response.resource_response;if(!a.options?.redux_normalize_feed)return e;let l=g[a.resource]({options:a.options,response:a.response});if(l){let{type:a,id:r,items:s,reversed:o}=l,d=(s||i||[]).map(e=>f(e,a));o&&(d=d.reverse());let c=`${a}:${r}`,u=e[c];if(u||t.type!==n.aW){let a=u||[],i=d;return t.type===n.aW&&(i=o?d.concat(a):a.concat(d)),{...e,[c]:i}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:a,feedId:n,itemType:l,targetItemId:r,sourceItemId:s}}=t,o=`${a}:${n}`,d=e[o]||[],u=-1,p=-1;if([c.Z.BOARDFEED,c.Z.BOARD_SECTION_PINS,c.Z.BOARD_SECTIONS,"profileBoards"].includes(a)&&(u=d.findIndex(e=>e.type===l&&e.id===s),p=d.findIndex(e=>e.type===l&&e.id===r)),-1!==u&&-1!==p)return{...e,[o]:(0,i.Z)(d,u,p)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:a,feedId:i,inverseSelection:n,itemType:l,itemIds:r=[]}}=t,s=`${a}:${i}`,o=e[s]||[];if(o&&o.length>0&&(a===c.Z.BOARD_SECTION_PINS||a===c.Z.BOARDFEED)){let t=o.filter(e=>{let t=r.includes(e.id),a=e.type===l&&(n&&!t||!n&&t);return!a}),a=!!t.find(e=>"pin"===e.type);return{...e,[s]:a?t:[]}}if(o&&o.length>0&&a===c.Z.BOARD_SECTIONS){let t=o.filter(e=>{let t=r.includes(e.id);return!(e.type===l&&t)});return{...e,[s]:t}}if(o&&o.length>0&&(a===c.Z.AGGREGATED_COMMENTS||a===c.Z.BOARDLESS_PINS||a===c.Z.PROFILE_PINS_FEED||a===c.Z.STORY_PINS_FEED||a===c.Z.UNIFIED_COMMENTS||a===c.Z.TRIED_IT_FEED||a===c.Z.STORY_PIN_DATA)){let t=o.filter(e=>{let t=r.includes(e.id);return!(e.type===l&&t)});return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:a,feedId:i,itemType:n,itemIds:l=[],prepend:r}}=t,s=`${a}:${i}`,o=e[s]||[];if(o&&(a===c.Z.BOARD_SECTION_PINS||a===c.Z.BOARDFEED||a===c.Z.BOARDLESS_PINS)){let t=l.map(e=>({id:e,type:n})),a=0;"story"===(o[0]||{}).type&&(a=1),"story"===(o[1]||{}).type&&(a=2);let i=[...o.slice(0,a),...t,...o.slice(a)];return{...e,[s]:i}}if(o&&a===c.Z.BOARD_SECTIONS){let t=[...l].reverse().map(e=>({id:e,type:"boardsection"})),a=o?[...t,...o]:[...t];return{...e,[s]:a}}if(a===c.Z.AGGREGATED_COMMENTS||a===c.Z.AGGREGATED_COMMENT_REPLIES||a===c.Z.PROFILE_PINS_FEED||a===c.Z.STORY_PINS_FEED||a===c.Z.UNIFIED_COMMENTS){let t=l.map(e=>({id:e,type:n})),a=o?[...r?t:o,...r?o:t]:t;return{...e,[s]:a}}if(a===c.Z.TRIED_IT_FEED){let t=l.map(e=>({id:e,type:n})),a=o?[...t,...o]:t;return{...e,[s]:a}}break}case"FEED_INVALIDATE":{let{payload:{feedType:a,feedId:i}}=t,n=`${a}:${i}`,l=e[n]||[];if(l)return{...e,[n]:null};break}case"APPEND_FEED_ITEMS":{let{payload:{id:a,items:i,options:n}}=t,l=e[a];if(!l)return{...e,[a]:i};{let t;return t=n.isPrepend?l[0]&&"story"===l[0].type?[].concat(l[0],i,l.slice(1)):i.concat(l):l.concat(i),{...e,[a]:t}}}case"PIN_DELETE":{let{payload:{pinId:a}}=t;return S(e,"pin",a)}case"BOARD_ARCHIVE":{let{payload:{boardId:a,username:i}}=t,n=`profile-boards:${i??""}`;if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==a)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:a}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter(e=>e.id!==a)};break}case"BOARD_DELETE":{let{payload:{boardId:a}}=t;return S(e,"board",a)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:a}}=t;return S(e,"boardsection",a)}case"PINS_MOVE":{let{payload:{source:a,target:i,pinIds:n,userId:l}}=t,r=a.boardlessPins&&l&&`boardless-pins:${l}`||a.boardId&&x(a.boardId,a.sectionId),s=x(i.boardId,i.sectionId);return n.reduce((e,t)=>y(e,{pinId:t,oldFeedId:r,newFeedId:s}),e)}case"PINS_MOVE_ALL":{let{payload:{source:a,target:i,excludePinIds:n}}=t,l=x(a.boardId,a.sectionId),r=x(i.boardId,i.sectionId),s={...e,[l]:n.map(e=>({type:"pin",id:e}))};return delete s[r],s}case"PIN_EDIT":{let{payload:{pinId:a,boardId:i,sectionId:n="",source:{boardId:l,sectionId:r}}}=t,s=x(l,r),o=x(i,n);return y(e,{pinId:a,oldFeedId:s,newFeedId:o})}case n.AF:if(u.has(t.payload.resource)){let a;let i=t.payload.response.resource_response.data,{board:n}=i;if("quick_saves"===n.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{let e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[a]){let t={...e},n={id:i.id,type:"pin",trackingParams:i?.tracking_params};return t[a]=[n].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){let a=t.payload.normalizedResponse.result,i=t.payload.normalizedResponse.entities.boardsections[a].board,n=`board-sections:${i}`;if(e[n]){let t={...e};return t[n]=[{id:a,type:"boardsection"}].concat(e[n]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){let a=t.payload.normalizedResponse.result,i={id:a,type:"aggregatedcomment"},n={...e};for(let a of["aggregated-comments","unified-comments"]){let l=`${a}:${t.payload.options.objectId}`;e[l]&&(n={...n,[l]:[i].concat(n[l])})}return n}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){let a=`${c.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[a]:[...e[a]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){let{reaction_pin_id:a,reaction_type:i}=t.payload.options;if("reaction"===t.payload.options.action_type){let n=`reactions:${t.payload.options.pin_id}`,l={...e},r={id:`${a}:${t.payload.options.user_id}:${i}`,type:"reaction",trackingParams:void 0};return l[n]=[r].concat(e[n]),l}if("unreaction"===t.payload.options.action_type){let i=`${a}:${t.payload.options.user_id}`;return S(e,"reaction",i)}}break;case"COMPLETE_STORY":{let{payload:{storyId:a}}=t;return S(e,"story",a)}}return e}},761881:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let i=(e,t)=>"string"==typeof e?e:e(t),n=e=>(t,a)=>t.feeds[i(e,a)],l=e=>n(e)},404508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var i=a(702664),n=a(616550),l=a(883119),r=a(464232),s=a(112690),o=a(385740),d=a(898781),c=a(773285),u=a(957161),p=a(867820),g=a(52022),m=a(50286),h=a(785893);function y({alignIconLeft:e,bgColor:t,color:a,disableRedirect:y=!1,fallbackUrl:_,icon:f="arrow-back",onTouch:x,padding:v,placement:b,shouldUseFallbackUrl:S,size:w="lg",viewParameter:k,viewType:P,fallbackUrlForExp:T}){let j=(0,d.ZP)(),I=(0,m.HG)(),{checkExperiment:F}=(0,c.F)(),C=(0,n.k6)(),A=(0,n.TH)(),E=(0,i.useSelector)(e=>e.session.isAuthenticated),D=(0,s.Z)(),R=(0,g.Z)(),L=!E&&T&&"/ideas"===_,{viewType:M,viewParameter:Z}=(0,o.SU)(),[O,K]=P?[P,k]:[M,Z],z=()=>A.search&&A.search.includes("?nativeShouldDismiss=true"),N=()=>{let e=u.Z.getItem(r.pm);A.key||"/ideas"!==_?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(b)}.is_auth_${String(E)}`),R({action:"click",item:"back-button"}),O&&D({view_type:O,view_parameter:K,element:34,event_type:102}),x&&x(),y||((!A.key||A.state&&"redirect"===A.state.referrer||S)&&_?L?I&&F("web_unauth_backbutton_navigation").anyEnabled?(C.push(T||_),(0,p.My)("web.unauth.back_button.l1interest")):!I&&F("mweb_unauth_backbutton_navigation").anyEnabled?(C.push(T||_),(0,p.My)("mweb.unauth.back_button.l1interest")):C.push(_):C.push(_):A.pathname.includes("/password/reset/")&&z()?C.push("/login/?dismissWebview=true"):C.goBack())};return(0,h.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,h.jsx)(l.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===f?-1:-2,width:48,children:(0,h.jsx)(l.hU,{accessibilityLabel:j._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:f,iconColor:!a&&(!t||["white","lightGray","transparent"].includes(t))?"gray":a,onClick:N,padding:"auto"!==v?v:2,size:w})}):(0,h.jsx)(l.hU,{accessibilityLabel:j._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:f,iconColor:!a&&(!t||["white","lightGray","transparent"].includes(t))?"gray":a,onClick:N,padding:"auto"!==v?v:2,size:w})})}},144226:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(883119),n=a(785893);function l({children:e}){return(0,n.jsx)(i.xu,{paddingY:4,children:e})}},12755:(e,t,a)=>{"use strict";a.d(t,{VF:()=>n,pG:()=>i,vc:()=>l});let i=348,n=7,l=4},143649:(e,t,a)=>{"use strict";function i({cropSource:e,viewType:t}){return 2===t?"search":e&&5!==e?4===e?"stela":null:"related_products"}a.d(t,{Z:()=>i})},652519:(e,t,a)=>{"use strict";a.d(t,{Z:()=>en});var i=a(667294),n=a(542473),l=a.n(n),r=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){var i;i=a[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function p(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,a){return t&&p(e.prototype,t),a&&p(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,i=h(e);if(t){var n=h(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,a)}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a,i,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);r=!0);}catch(e){s=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(s)throw i}}return l}}(e,t)||b(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(e,t)}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var w="react-compound-slider:";function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,a){return t.val>a.val?e?-1:1:a.val>t.val?e?1:-1:0}}function P(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e.findIndex(function(e){return e.key===t});if(-1!==n){var l=e[n],r=l.key;return l.val===a?e:[].concat(v(e.slice(0,n)),[{key:r,val:a}],v(e.slice(n+1))).sort(k(i))}return e}function T(e,t){if(!e)return[0,0];var a=e.getBoundingClientRect();return[t?a.top:a.left,t?a.bottom:a.right]}function j(e){var t=e.type,a=e.touches;return!a||a.length>1||"touchend"===(void 0===t?"":t).toLowerCase()&&a.length>0}function I(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,n=0;return{handles:e.map(function(e){var t=a.getValue(e);return e!==t&&(n+=1,l()(!i,"".concat(w," Invalid value encountered. Changing ").concat(e," to ").concat(t,"."))),t}).map(function(e,t){return{key:"$$-".concat(t),val:e}}).sort(k(t)),changes:n}}function C(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.forEach(function(t){return t&&t(e)})}}var A=function(){return{value:0,percent:0}},E=function(e){m(a,e);var t=f(a);function a(){var e;u(this,a);for(var i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.props,i=a.emitMouse,n=a.emitTouch;return c(c({},t),{},{onMouseDown:C(t&&t.onMouseDown,i),onTouchStart:C(t&&t.onTouchStart,n)})},e}return g(a,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,a=t.getEventData,n=t.activeHandleID,l=(0,t.children)({getEventData:a||A,activeHandleID:void 0===n?"":n,getRailProps:e});return l&&i.Children.only(l)}}]),a}(i.Component),D=function(e){m(a,e);var t=f(a);function a(){var e;u(this,a);for(var i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,n=i.emitKeyboard,l=i.emitMouse,r=i.emitTouch;return c(c({},a),{},{onKeyDown:C(a&&a.onKeyDown,function(e){return n&&n(e,t)}),onMouseDown:C(a&&a.onMouseDown,e.autofocus,function(e){return l&&l(e,t)}),onTouchStart:C(a&&a.onTouchStart,function(e){return r&&r(e,t)})})},e}return g(a,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,a=t.activeHandleID,n=t.children,l=t.handles,r=n({handles:void 0===l?[]:l,activeHandleID:void 0===a?"":a,getHandleProps:e});return r&&i.Children.only(r)}}]),a}(i.Component),R=function(){function e(){u(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return g(e,[{key:"createInterpolator",value:function(e,t){var a=this,i=e[0],n=e[1],l=t[0],r=t[1];return n<i?function(e){return a.interpolateValue(r,l)(a.deinterpolateValue(n,i)(e))}:function(e){return a.interpolateValue(l,r)(a.deinterpolateValue(i,n)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(a){return e+t*a}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,a=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,a)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return function(e,t,a){var i,n,l,d,c,u,p,g=-1;if(a=+a,(e=+e)==(t=+t)&&a>0)return[e];if((d=t<e)&&(c=e,e=t,t=c),0==(n=Math.floor(Math.log(i=(t-e)/Math.max(0,a))/Math.LN10),l=i/Math.pow(10,n),p=n>=0?(l>=r?10:l>=s?5:l>=o?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(l>=r?10:l>=s?5:l>=o?2:1))||!isFinite(p))return[];if(p>0){let a=Math.round(e/p),i=Math.round(t/p);for(a*p<e&&++a,i*p>t&&--i,u=Array(c=i-a+1);++g<c;)u[g]=(a+g)*p}else{let a=Math.round(e*(p=-p)),i=Math.round(t*p);for(a/p<e&&++a,i/p>t&&--i,u=Array(c=i-a+1);++g<c;)u[g]=(a+g)/p}return d&&u.reverse(),u}(t[0],t[t.length-1],e||10)}}]),e}(),L=function(){return{value:0,percent:0}},M=function(e){m(a,e);var t=f(a);function a(){return u(this,a),t.apply(this,arguments)}return g(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.values,n=e.scale,l=void 0===n?new R:n,r=e.count,s=e.getEventData,o=e.activeHandleID,d=t({getEventData:void 0===s?L:s,activeHandleID:void 0===o?"":o,ticks:(a||l.getTicks(void 0===r?10:r)).map(function(e){return{id:"$$-".concat(e),value:e,percent:l.getValue(e)}})});return d&&i.Children.only(d)}}]),a}(i.Component),Z=function(){return{value:0,percent:0}},O=function(e){m(a,e);var t=f(a);function a(){var e;u(this,a);for(var i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).getTrackProps=function(t){var a=e.props,i=a.emitMouse,n=a.emitTouch;return c(c({},t||{}),{},{onMouseDown:C(t&&t.onMouseDown,i),onTouchStart:C(t&&t.onTouchStart,n)})},e}return g(a,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,a=t.children,n=t.left,l=void 0===n||n,r=t.right,s=void 0===r||r,o=t.scale,d=void 0===o?new R:o,c=t.handles,u=void 0===c?[]:c,p=t.getEventData,g=t.activeHandleID,m=d.getDomain(),h=[],y=0;y<u.length+1;y++){var _=u[y-1],f=u[y];0===y&&!0===l?_={id:"$",value:m[0],percent:0}:y===u.length&&!0===s&&(f={id:"$",value:m[1],percent:100}),_&&f&&h.push({id:"".concat(_.id,"-").concat(f.id),source:_,target:f})}var x=a({getEventData:void 0===p?Z:p,activeHandleID:void 0===g?"":g,tracks:h,getTrackProps:e});return x&&i.Children.only(x)}}]),a}(i.Component);function K(e,t,a){return Math.min(Math.max(e,t),a)}var z=g(function e(){var t=this;u(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var a=x(t.domain,2),i=a[0],n=a[1],l=x(t.range,2),r=l[0],s=l[1],o=t.step,d=o*Math.round((K(e,i,n)-i)/(n-i)*(s-r)/o)+r;return K(d,r<s?r:s,s>r?s:r)}}),N="undefined"!=typeof window&&"undefined"!=typeof document,H=function(){},G=function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,a=t?t.name:"";return a===D.name||a===E.name||a===M.name||a===O.name},B=function(e,t,a,i){var n=i?e-t:e+t;return i?Math.max(a[0],n):Math.min(a[1],n)},$=function(e,t,a,i){var n=i?e+t:e-t;return i?Math.min(a[1],n):Math.max(a[0],n)},U=[0,100],W=function(e){m(a,e);var t=f(a);function a(){var e;u(this,a);for(var n=arguments.length,l=Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={step:.1,values:[],domain:U,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,a){var i=["ArrowRight","ArrowUp"],n=["ArrowDown","ArrowLeft"],l=_(e),r=l.state.handles,s=l.props,o=s.step,d=void 0===o?.1:o,c=s.reversed,u=void 0!==c&&c,p=s.vertical,g=s.domain,m=void 0===g?[0,100]:g,h=t.key||"".concat(t.keyCode);if(i.concat(n).includes(h)){if(void 0!==p&&p){var y=[n,i];i=y[0],n=y[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var f=r.find(function(e){return e.key===a});if(f){var x=f.val,v=x;i.includes(h)?v=B(x,d,m,u):n.includes(h)&&(v=$(x,d,m,u));var b=r.map(function(e){return e.key===a?{key:e.key,val:v}:e});e.submitUpdate(b,!0)}}},e.onMouseDown=function(t,a){e.onStart(t,a,!1)},e.onTouchStart=function(t,a){j(t)||e.onStart(t,a,!0)},e.getEventData=function(t,a){var i,n=_(e),l=n.state,r=l.pixelToStep,s=l.valueToPerc,o=n.props.vertical;return r.setDomain(T(e.slider.current,o)),a&&t instanceof TouchEvent?i=r.getValue(I(o,t)):t instanceof MouseEvent&&(i=r.getValue(o?t.clientY:t.pageX)),{value:i,percent:s.getValue(i)}},e.onMouseMove=function(t){var a=_(e),i=a.state,n=i.handles,l=i.pixelToStep,r=i.activeHandleID,s=void 0===r?"":r,o=a.props,d=o.vertical,c=o.reversed,u=void 0!==c&&c;l.setDomain(T(e.slider.current,d));var p=P(n,s,l.getValue(d?t.clientY:t.pageX),u);e.submitUpdate(p)},e.onTouchMove=function(t){var a=_(e),i=a.state,n=i.handles,l=i.pixelToStep,r=i.activeHandleID,s=a.props,o=s.vertical,d=s.reversed;if(!(null===l||j(t))){l.setDomain(T(e.slider.current,o));var c=P(n,r,l.getValue(I(o,t)),d);e.submitUpdate(c)}},e.onMouseUp=function(){var t=_(e),a=t.state,i=a.handles,n=void 0===i?[]:i,l=a.activeHandleID,r=t.props,s=r.onChange,o=void 0===s?H:s,d=r.onSlideEnd,c=void 0===d?H:d;o(n.map(function(e){return e.val})),c(n.map(function(e){return e.val}),{activeHandleID:l}),e.setState({activeHandleID:""}),N&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=_(e),a=t.state,i=a.handles,n=a.activeHandleID,l=t.props,r=l.onChange,s=void 0===r?H:r,o=l.onSlideEnd,d=void 0===o?H:o;s(i.map(function(e){return e.val})),d(i.map(function(e){return e.val}),{activeHandleID:n}),e.setState({activeHandleID:""}),N&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return g(a,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(T(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){N&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,a){var i=this.state.handles,n=this.props.onSlideStart,l=void 0===n?H:n;!a&&e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find(function(e){return e.key===t})?(this.setState({activeHandleID:t}),l(i.map(function(e){return e.val}),{activeHandleID:t}),a?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,a))}},{key:"handleRailAndTrackClicks",value:function(e,t){var a,i=this,n=this.state,l=n.handles,r=n.pixelToStep,s=this.props,o=s.vertical,d=s.reversed,c=void 0!==d&&d,u=this.slider;r.setDomain(T(u.current,o)),a=t?r.getValue(I(o,e)):r.getValue(o?e.clientY:e.pageX);for(var p="",g=1/0,m=0;m<l.length;m++){var h=l[m],y=h.key,_=Math.abs(h.val-a);_<g&&(p=y,g=_)}var f=P(l,p,a,c);this.setState({activeHandleID:p},function(){i.submitUpdate(f,!0),t?i.addTouchEvents():i.addMouseEvents()})}},{key:"addMouseEvents",value:function(){N&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){N&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props,i=a.mode,n=void 0===i?1:i,r=a.step,s=void 0===r?.1:r,o=a.onUpdate,d=void 0===o?H:o,c=a.onChange,u=void 0===c?H:c,p=a.reversed,g=void 0!==p&&p,m=this.state.valueToStep.getValue;this.setState(function(a){var i=a.handles,r=[];if("function"==typeof n)r=n(i,e,s,g,m),l()(Array.isArray(r),"Custom mode function did not return an array.");else switch(n){case 1:r=e;break;case 2:r=function(e,t){for(var a=0;a<e.length;a++)if(e[a].key!==t[a].key||t[a+1]&&t[a].val===t[a+1].val)return e;return t}(i,e);break;case 3:r=function e(t,a,i,n,l){for(var r=-1,s=!0,o=0;o<t.length;o++){var d=t[o],c=a[o];if(!c||c.key!==d.key)return t;c.val!==d.val&&(r=o,s=c.val-d.val>0)}if(-1===r)return t;for(var u=s?i:-i,p=0;p<a.length;p++){var g=a[p],m=a[p+1];if(m&&g.val===m.val){if(p===r){var h=m.val+u;if(l(h)!==h)return t;var y=P(a,m.key,m.val+u,n),_=e(a,y,i,n,l);if(_===a)return t;return _}var f=g.val+u;if(l(f)!==f)return t;var x=P(a,g.key,g.val+u,n),v=e(a,x,i,n,l);if(v===a)return t;return v}}return a}(i,e,s,g,m);break;default:r=e,l()(!1,"".concat(w," Invalid mode value."))}return d(r.map(function(e){return e.val})),t&&u(r.map(function(e){return e.val})),{handles:r}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.handles,n=t.valueToPerc,l=t.activeHandleID,r=this.props,s=r.className,o=r.rootStyle,d=void 0===o?{}:o,u=r.rootProps,p=void 0===u?{}:u,g=r.component,m=void 0===g?"div":g,h=r.disabled,y=void 0!==h&&h,_=r.flatten,f=a.map(function(e){var t=e.key,a=e.val;return{id:t,value:a,percent:n.getValue(a)}}),x=i.Children.map(this.props.children,function(t){return!0===G(t)?i.cloneElement(t,{scale:n,handles:f,activeHandleID:l,getEventData:e.getEventData,emitKeyboard:y?H:e.onKeyDown,emitMouse:y?H:e.onMouseDown,emitTouch:y?H:e.onTouchStart}):t});return void 0!==_&&_?i.createElement(i.Fragment,null,i.createElement(m,c(c({},p),{},{style:d,className:s,ref:this.slider})),x):i.createElement(i.Fragment,null,i.createElement(m,c(c({},p),{},{style:d,className:s,ref:this.slider}),x))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,i,n=e.step,r=void 0===n?.1:n,s=e.values,o=e.domain,d=void 0===o?U:o,c=e.reversed,u=void 0!==c&&c,p=e.onUpdate,g=void 0===p?H:p,m=e.onChange,h=void 0===m?H:m,y=e.warnOnChanges,_=void 0!==y&&y,f=t.valueToPerc,b=t.valueToStep,S=t.pixelToStep,k={};if(f&&b&&S||(f=new R,b=new z,S=new z,k.valueToPerc=f,k.valueToStep=b,k.pixelToStep=S),t.domain===U||null===t.step||null===t.domain||null===t.reversed||r!==t.step||d[0]!==t.domain[0]||d[1]!==t.domain[1]||u!==t.reversed){var P=x(d,2),T=P[0],j=P[1];b.setStep(r).setRange([T,j]).setDomain([T,j]),!0===u?(f.setDomain([T,j]).setRange([100,0]),S.setStep(r).setRange([j,T])):(f.setDomain([T,j]).setRange([0,100]),S.setStep(r).setRange([T,j])),l()(j>T,"".concat(w," Max must be greater than min (even if reversed). Max is ").concat(j,". Min is ").concat(T,"."));var I=F(s||t.values,u,b,_),C=I.handles;(I.changes||void 0===s||s===t.values)&&(g(C.map(function(e){return e.val})),h(C.map(function(e){return e.val}))),k.step=r,k.values=s,k.domain=d===U?v(d):d,k.handles=C,k.reversed=u}else{if(!((a=s)===(i=t.values)||a.length===i.length&&a.reduce(function(e,t,a){return e&&i[a]===t},!0))){var A=F(s,u,b,_),E=A.handles;A.changes&&(g(E.map(function(e){return e.val})),h(E.map(function(e){return e.val}))),k.values=s,k.handles=E}}return Object.keys(k).length?k:null}}]),a}(i.PureComponent),V=a(883119),Y=a(112690),q=a(643010),X=a(898781),Q=a(892819),J=a(780280),ee=a(245376),et=a(785893);let ea=({domain:[e,t],handle:{id:a,value:i,percent:n},getHandleProps:l,touched:r,activeHandleID:s})=>(0,et.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,role:"slider",style:{left:`${n}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:r&&s===a?"scale(2)":""},...l(a)}),ei=({source:e,target:t,getTrackProps:a,backgroundColor:i})=>(0,et.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:`${t.percent-e.percent}%`},...a()}),en=function({cropSource:e,currencyType:t,minPrice:a,maxPrice:n,lowerBound:l,upperBound:r,handlePriceChange:s,withTitle:o,instructions:d}){let c=(0,X.ZP)(),u=(0,Q.Z)(),p=(0,Y.Z)(),{locale:g}=(0,J.B)(),m={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,q.Yc)()?"#454545":"lightGrey"},h=[Math.ceil(l),Math.ceil(r)],y=[Math.ceil(a),Math.ceil(n)],[_,f]=(0,i.useState)([!1,!1]);(0,i.useEffect)(()=>{p({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,ee.Z)(e)})}})},[]);let x={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,et.jsxs)(i.Fragment,{children:[o&&(0,et.jsx)(V.xu,{"data-test-id":"price-filter-label",paddingY:4,children:(0,et.jsx)(V.xv,{children:c._('Price range', 'FeedFiltering.PriceFilter.PriceRange', 'Area that lists the price slider')})}),(0,et.jsxs)(V.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,et.jsx)(V.xv,{weight:"bold",children:(0,et.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transform:_[0]?"translateZ(0) translateY(0) scale(1.25)":""}},"data-test-id":"min-price-filter",children:u(g,y[0],x)})}),(0,et.jsx)(V.xv,{weight:"bold",children:(0,et.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transform:_[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},"data-test-id":"max-price-filter",children:u(g,y[1],{...x,uplimit:r})})})]},"priceSliderValues"),(0,et.jsxs)(W,{domain:h,mode:2,onChange:()=>{f([!1,!1])},onUpdate:e=>{s(e);let[t,a]=y,[i,n]=e;t!==i?f([!0,!1]):a!==n&&f([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:y,children:[(0,et.jsx)(E,{children:({getRailProps:e})=>(0,et.jsx)("div",{style:m,...e()})}),(0,et.jsx)(D,{children:({handles:e,getHandleProps:t,activeHandleID:a})=>(0,et.jsx)("div",{className:"slider-handles","data-test-id":"slider-handles",children:e.map((e,i)=>(0,et.jsx)(ea,{activeHandleID:a,domain:h,getHandleProps:t,handle:e,touched:_[i]},e.id))})}),(0,et.jsx)(O,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,et.jsx)("div",{className:"slider-tracks",children:e.map(({id:e,source:a,target:i})=>(0,et.jsx)(ei,{backgroundColor:(0,q.Yc)()?"white":"black",getTrackProps:t,source:a,target:i},e))})})]}),(0,et.jsx)(V.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,et.jsx)(V.xv,{children:d||c._('Drag to change price', 'FeedFiltering.PriceFilter.PriceDragText', 'Area that instructs how to use price slider')})})]})}},434788:(e,t,a)=>{"use strict";a.d(t,{Z:()=>eW});var i,n,l=a(616550),r=a(826067),s=a(50286),o=a(19121),d=a(167912),c=a(883119),u=a(934494),p=a(898781),g=a(773285),m=a(42447),h=a(784590),y=a(280446),_=a(667294),f=a(702664),x=a(792182),v=a(407043),b=a(916117),S=a(444445),w=a(558068),k=a(391254),P=a(542554),T=a(276602),j=a(217149),I=a(430323),F=a(501338),C=a(829407);function A(e,t){let a=0,i=!1,n=-1;return e.forEach((e,l)=>{let{x:r=0,y:s=0,h:o=0,w:d=0}=e,c=function(e,t){let{x:a,y:i,w:n,h:l}=e,{x:r,y:s,w:o,h:d}=t,c=Math.max(a,r),u=Math.min(a+n,r+o),p=Math.max(i,s),g=Math.min(i+l,s+d),m=c<u&&p<g?(u-c)*(g-p):0;return m/(n*l+o*d-m)}(t,{x:r,y:s,h:o,w:d});c>=.9&&c>a&&(a=c,i=!0,n=l)}),{isCropAreaOnDotArea:i,dotIndexToHide:n}}var E=a(255164),D=a(156637),R=a(743203),L=a(679031),M=a(643010),Z=a(404508),O=a(785893);function K({handleBackClick:e,viewParameter:t,viewType:a}){let i=(0,M.vs)();return(0,O.jsx)(c.xu,{"data-test-id":"cancelButton",left:!0,margin:2,position:"fixed",top:!0,children:(0,O.jsx)(Z.Z,{color:i?"darkGray":"white",disableRedirect:!0,icon:"cancel",onTouch:e,padding:3,size:"lg",viewParameter:t,viewType:a})})}var z=a(112690),N=a(458101),H=a(585913),G=a(913574),B=a(49808),$=a(957435),U=a(398789);function W({pinDominantColor:e,url:t,closeupImageWidth:a,closeupImageHeight:i}){let n=(0,p.ZP)();return(0,O.jsx)(U.Z,{alt:n._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:i,naturalWidth:a,placeholder:t,showSpinner:!1,src:t})}let V=e=>{let{alt:t,src:a,top:i,left:n}=e;return(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{top:i,left:n}},height:24,position:"absolute",width:24,children:(0,O.jsx)(c.Ee,{alt:t,color:"transparent",naturalHeight:24,naturalWidth:24,src:a})})},Y={backgroundColor:"#000000",opacity:"0.4"};function q({closeupImageUrl:e,closeupImageDims:t,cropArea:{x:a,y:i,w:n,h:l},disableBorder:r,disableHandles:s,handleBackClick:o,onTouchEnd:d,onTouchMove:u,onTouchStart:g,pinDominantColor:m,showBackButton:h,viewParameter:y}){let _=(0,p.ZP)(),{closeupImageWidth:f,closeupImageHeight:x}=t,v=Math.floor(x*i),b=Math.floor(f*a),S=Math.floor(x*l),w=Math.floor(f*n),k=b+w,P=v+S;return(0,O.jsxs)(c.xu,{"data-test-id":"cropper-container",onTouchEnd:d,onTouchMove:u,onTouchStart:g,position:"relative",children:[(0,O.jsx)(W,{closeupImageHeight:x,closeupImageWidth:f,pinDominantColor:m,url:e??""}),(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:Y},height:v,left:!0,position:"absolute",top:!0,width:"100%"}),(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...Y,top:v}},height:S,left:!0,position:"absolute",width:b}),(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...Y,top:v,left:k}},height:S,position:"absolute",right:!0}),(0,O.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...Y,top:P}},left:!0,position:"absolute",width:"100%"}),h&&(0,O.jsx)(K,{handleBackClick:o,viewParameter:y,viewType:427}),!s&&(0,O.jsxs)(c.xu,{"data-test-id":"CropperHandles",children:[(0,O.jsx)(V,{alt:_._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),left:b-9,src:B,top:v-9}),(0,O.jsx)(V,{alt:_._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),left:k-15,src:$,top:v-9}),(0,O.jsx)(V,{alt:_._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),left:b-9,src:H,top:P-15}),(0,O.jsx)(V,{alt:_._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),left:k-15,src:G,top:P-15})]}),(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{top:v-2,left:b-2,border:r?void 0:"2px solid #ffffff"}},"data-test-id":"CroppedArea",height:S+4,position:"absolute",rounding:2,width:w+4})]})}var X=a(599611);function Q({auxData:e,onClick:t,shouldLogDotRender:a,showNoHalo:i,style:n,viewParameter:l,x:r,y:s}){let o=(0,p.ZP)(),d=(0,z.Z)();return(0,C.Z)(()=>{a&&d({aux_data:e,element:1221,event_type:120,view_parameter:l,view_type:72})}),(0,O.jsx)("div",{"aria-label":o._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),"data-test-id":"dot",onClick:t,onKeyPress:t,role:"button",style:{position:"absolute",top:s-16,left:r-16,outline:"none",...n},tabIndex:"0",children:(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:t?"pointer":"default"}},children:(0,O.jsx)(c.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}},display:"flex",justifyContent:"center",padding:0,position:"absolute"})})})}var J=a(100183);let ee="flashlightDotPop",et=(0,J.Ll)([`
  ${ee} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]),ea=e=>{let t=parseFloat((.1*e).toFixed(2));return{animation:`${ee} 0.3s ease-out ${t}s both`}};function ei({closeupImageTop:e,imageHeight:t,imageTop:a,imageWidth:i,onDotTap:n,pinId:l,pinImageSignature:r,setCropArea:s,shouldLogDotRender:o,showNoHalo:d,viewParameter:c,visualObjects:u,visualObjectToHide:p}){let g=(0,z.Z)();return(0,O.jsxs)(_.Fragment,{children:[(0,O.jsx)(k.Z,{unsafeCSS:et}),u.map((m,h)=>{if(h===p)return null;let{x:y=0,y:_=0,w:f=0,h:x=0}=m,v={x:y,y:_,h:x,w:f},b=(0,X.Z)({cropArea:{x:y,y:_,w:f,h:x},scaledWidth:i,scaledHeight:t}),S=Math.floor(b.x+b.w/2),w=Math.floor(b.y+a+b.h/2),k=ea(h),P={pin_id:l,image_signature:r,visual_objects:JSON.stringify([v]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,O.jsx)(Q,{auxData:P,onClick:function(){g({aux_data:P,element:1221,event_type:102,view_parameter:c,view_type:72}),n({cropArea:v,cropSource:4,visualObjects:u}),s?.(v)},shouldLogDotRender:o,showNoHalo:d,style:k,viewParameter:c,x:S,y:w-e},JSON.stringify(v))})]})}var en=a(691720);let el={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function er({closeupImageUrl:e,closeupImageDims:t,cropArea:a,handleBackClick:i,handleChangeCloseupImageTop:n,handleCropperChange:l,headerHeight:r,inUnifiedFeedExp:s,pinDominantColor:o,pinId:d,pinImageSignature:u,showBackButton:p,viewParameter:g,visualObjects:m,visualObjectToHide:h}){let y=(0,z.Z)(),f=(0,_.useRef)(),[x,v]=(0,_.useState)(0),[b,S]=(0,_.useState)(0),[w,k]=(0,_.useState)(el.NONE),[P,T]=(0,_.useState)(a),{current:j}=(0,N.Z)(),{x:I,y:F,w:C,h:A}=P,{closeupImageTop:E,closeupImageMinTop:D,closeupImageWidth:R,closeupImageHeight:L,minCropperWidthRatio:M,minCropperHeightRatio:Z}=t,K=r||0,H=(e,t)=>{let a=t-E,i=e-(f.current?f.current.getBoundingClientRect().left:0),n=L*F,l=L*(F+A),r=R*I,s=R*(C+I);if(a>n+12&&a<l-12&&i>r+12&&i<s-12)return el.INSIDE;if(i<=r+12&&i>=r-12&&a>=n+15&&a<=l-15)return el.LEFT_CROPPER;if(i<=s+12&&i>=s-12&&a>=n+15&&a<=l-15)return el.RIGHT_CROPPER;if(i<=s-15&&i>=r+15&&a>=n-12&&a<=n+12)return el.TOP_CROPPER;if(i<=s-15&&i>=r+15&&a>=l-12&&a<=l+12)return el.BOTTOM_CROPPER;if(i<=r-9+24&&i>=r-12&&a>=n-12&&a<=n+24-9)return el.TOP_LEFT_HANDLE;if(i<=s+12&&i>=s-15&&a>=n-12&&a<=n+24-9)return el.TOP_RIGHT_HANDLE;else if(i<=r-9+24&&i>=r-12&&a>=l-15&&a<=l+12)return el.BOTTOM_LEFT_HANDLE;else if(i<=s+12&&i>=s-15&&a>=l-15&&a<=l+12)return el.BOTTOM_RIGHT_HANDLE;else return el.OUTSIDE};return(0,O.jsx)(c.kC,{justifyContent:"center",width:"100vw",children:(0,O.jsxs)(c.xu,{ref:f,dangerouslySetInlineStyle:{__style:{top:E,touchAction:"none"}},maxWidth:en.g6,overflow:"hidden",position:"fixed",width:"100%",children:[(0,O.jsx)(q,{closeupImageDims:t,closeupImageUrl:e,cropArea:P,handleBackClick:i,onTouchEnd:()=>{if(![el.NONE,el.OUTSIDE].includes(w)){let e=w===el.INSIDE?7603:7604;y({event_type:e,view_parameter:g,view_type:72}),l({cropArea:P,cropSource:6,visualObjects:m})}},onTouchMove:e=>{let{clientX:t,clientY:a}=e.touches[0];if(v(t),S(a),w===el.NONE){let e=H(t,a);k(e)}if(null!=M&&null!=Z&&null!=D){let e=a-b,i=t-x,l=i/R,r=e/L,s=Math.min(I+C-M,Math.max(0,I+l)),o=C+(I-s),d=Math.min(F+A-Z,Math.max(0,F+r)),c=A+(F-d),u=Math.min(1-I,Math.max(M,C+l)),p=Math.min(1-F,Math.max(Z,A+r));switch(w){case el.OUTSIDE:n(Math.floor(Math.max(D,Math.min(K,E+e))));break;case el.INSIDE:T(e=>({...e,x:Math.max(0,Math.min(1-C,I+l)),y:Math.max(0,Math.min(1-A,F+r))}));break;case el.LEFT_CROPPER:T(e=>({...e,x:s,w:o}));break;case el.RIGHT_CROPPER:T(e=>({...e,w:u}));break;case el.TOP_CROPPER:T(e=>({...e,y:d,h:c}));break;case el.BOTTOM_CROPPER:T(e=>({...e,h:p}));break;case el.TOP_LEFT_HANDLE:T({x:s,w:o,y:d,h:c});break;case el.TOP_RIGHT_HANDLE:T(e=>({...e,w:u,y:d,h:c}));break;case el.BOTTOM_LEFT_HANDLE:T(e=>({...e,h:p,x:s,w:o}));break;case el.BOTTOM_RIGHT_HANDLE:T(e=>({...e,h:p,w:u}))}}},onTouchStart:e=>{let{clientX:t,clientY:a}=e.touches[0];v(t),S(a),k(el.NONE)},pinDominantColor:o,showBackButton:p,viewParameter:g}),!!m.length&&0!==L&&0!==R&&(0,O.jsx)(c.xu,{"data-test-id":"FlashlightDots",children:(0,O.jsx)(ei,{closeupImageTop:E,imageHeight:L,imageTop:E,imageWidth:R,onDotTap:l,pinId:d,pinImageSignature:u,setCropArea:T,shouldLogDotRender:!j,showNoHalo:s,viewParameter:g,visualObjects:m,visualObjectToHide:h})})]})})}var es=a(427806),eo=a(8742);let ed=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var ec=a(884183),eu=a(422946),ep=a(761881),eg=a(284367),em=a(594736),eh=a(984225),ey=a(124580),e_=a(780280),ef=a(223815),ex=a(867820),ev=a(245376);function eb(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let eS={modal:{baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}}},ew={NONE:0,UP:1,DOWN:2};class ek extends _.Component{constructor(...e){super(...e),eb(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:ew.NONE,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),eb(this,"onTouchStart",e=>{let{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:ew.NONE})}),eb(this,"onTouchMove",e=>{let{clientY:t}=e.touches[0],{startY:a,currentDistanceFromTop:i}=this.state,{canMoveModal:n,maxDistanceFromTop:l}=this.props,r=t-a;n&&void 0!==l&&(r>0&&i>=0&&i<l&&window.scrollY<=0||r<0&&i<=l&&i>=0)&&this.setModalPosition(t)}),eb(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:t,canMoveModal:a}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===ew.DOWN?(this.header&&ey.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,ex.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===ew.UP&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:a,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),this.header&&ey.Z.addObstruction("top",this.header),e&&(0,ex.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),eb(this,"handleHandleMove",e=>{let{clientY:t}=e.touches[0],{canMoveModal:a,maxDistanceFromTop:i,minDistanceFromTop:n}=this.props,{startY:l,currentDistanceFromTop:r}=this.state;a&&r<=(n||0)&&t-l>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:i,isAtTop:!1,scrollDirection:ew.NONE,shouldAnimate:!0,startY:0}))}),eb(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:a,canMoveModal:i}=this.props,{currentDistanceFromTop:n,scrollDirection:l}=this.state;l===ew.NONE&&(n===e?(this.setState({canScrollOnChildren:i,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),(0,ex.My)(`mweb.${a}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,ex.My)(`mweb.${a}.sliding_modal.header_touch.snap_to_bottom`)))}),eb(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:t}=this.state,{onDismiss:a,logContextEvent:i,maxDistanceFromTop:n,viewParameter:l,viewType:r}=this.props;e.stopPropagation(),a&&(i({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:l,view_type:r}),this.setState({currentDistanceFromTop:n,startY:0,scrollDirection:ew.NONE},()=>a(e)))}),eb(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:t,shouldAnimate:a,canScrollOnChildren:i}=this.state,{baseStyles:n}=eS.modal;return{...n,animation:"modalReveal 0.3s ease-out both",position:i?"absolute":"fixed",top:t>-1?t:void 0,bottom:0,width:"100vw",...e&&a?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),eb(this,"setModalPosition",e=>{let{startY:t,currentDistanceFromTop:a}=this.state,{maxDistanceFromTop:i,snapToEndThreshold:n,entryPoint:l}=this.props;if(i){let r=e-t,s=Math.floor("CloseupShop"===l||"CloseUpMainPinDrawer"===l?Math.max(0,a+r):Math.min(i,Math.max(0,a+r))),o=ew.NONE;void 0!==n&&n>=0&&(r<0?o=s>Math.floor((1-n)*i)?ew.DOWN:ew.UP:r>0&&(o=s>Math.floor(n*i)?ew.DOWN:ew.UP)),this.setState({startY:e,currentDistanceFromTop:s,scrollDirection:o})}})}componentDidMount(){let{isOpen:e}=this.props;e&&ey.Z.pause()}componentDidUpdate(e,t){let{domainFilters:a,priceFilters:i,cropSource:n,isOpen:l,logContextEvent:r,maxDistanceFromTop:s,setHasDraggedDrawerToFullScreen:o,minDistanceFromTop:d,entryPoint:c}=this.props,{currentDistanceFromTop:u}=this.state;if(l&&!e.isOpen?ey.Z.pause():!l&&e.isOpen&&ey.Z.resume(),"CloseUpMainPinDrawer"===c&&s<e.maxDistanceFromTop&&u>s&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(d||0)&&o&&o(!0),a&&i&&(!(0,em.ZP)(a,e.domainFilters)||!(0,em.ZP)(i,e.priceFilters))){let e=(0,ev.Z)(n);r({event_type:13,view_parameter:"related_products"===e?3455:3456,view_type:72,element:11735})}}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&ey.Z.removeObstruction("top",this.header),e&&ey.Z.resume()}render(){let{children:e,headerChildren:t,heading:a,inUnifiedFeedExp:i,isOpen:n,isRTL:l,mobileAccessibilityCloseIconLabel:r,mobileHideCloseIcon:s,noDivider:o,showHandle:d}=this.props,{headerHeight:u,canScrollOnChildren:p}=this.state,g=!p&&i?"32px 32px 0 0":"0";return n?(0,O.jsx)(ef.Z,{children:(0,O.jsx)(c.xu,{"aria-label":a,role:"dialog",children:(0,O.jsx)(c.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:g}},onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,O.jsxs)(c.iP,{accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),onTap:this.handleHeaderTouch,children:[(0,O.jsxs)(c.Le,{top:u||0,children:[d&&(0,O.jsx)(c.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:g}},"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",onTouchMove:this.handleHandleMove,children:eh.Z}),!s&&(0,O.jsxs)(c.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,O.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,O.jsx)(c.kC,{alignItems:"center",justifyContent:"start",children:(0,O.jsx)(c.hU,{accessibilityLabel:r||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,O.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:t}){let a=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight";return e?{[a]:38,[i]:50,marginTop:15,marginBottom:15}:{[a]:-10,[i]:50,marginTop:15,marginBottom:15}}({isRTL:l})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,O.jsx)(c.X6,{accessibilityLevel:2,align:"center",size:"400",children:a})})]}),t||null,!o&&(0,O.jsx)(c.iz,{})]})]}),(0,O.jsx)(c.xu,{overflow:p?"auto":"visible",children:e})]})})})}):null}}function eP(e){let t=(0,p.ZP)(),a=(0,z.Z)(),{isRTL:i}=(0,e_.B)();return(0,O.jsx)(ek,{...e,i18n:t,isRTL:i,logContextEvent:a})}let eT=`
  html, body {
    overscroll-behavior: none;
  }
`;function ej(){return Math.min(en.g6,window.innerWidth)}function eI(e,t){return Math.floor(ej()/t*e)}function eF(e,t){let a=0,i=0,n=0;if(e&&e.imageSpec_736x){let t=e?e.imageSpec_736x:null;a=ej(),i=eI(t?.height??1,t?.width??1),n=function(e,t){let a=Math.floor(.6*window.innerHeight);return Math.min(a,eI(e,t))}(t?.height??1,t?.width??1)}return{closeupImageWidth:a,closeupImageHeight:i,closeupImageMinTop:n-i,closeupImageTop:t||0,minCropperWidthRatio:a?50/a:0,minCropperHeightRatio:i?50/i:0,modalTop:n}}function eC(e,t,a,i){let n=a?Number(a):.4,l=i?Number(i):.1;e>0&&t>0&&(a||(n=(t-2*t*.1)/e),i||(l=.1*t/e));let r={h:n,y:l};return r}let eA=(0,ep.Z)(e=>`visual-search:${e}`);function eE({cropArea:e,cropSource:t,headerHeight:a,inUnifiedFeedExp:i,pin:n,pinId:r,queryH:s,queryY:d,searchResourceOptions:u,setCropSource:m,setState:h,state:y,visualSearchFlashlightUnifiedResource:b}){let F=(0,T.E)(),E=(0,p.ZP)(),{logContextEvent:M}=(0,v.v)(),Z=(0,f.useDispatch)(),z=(0,l.k6)(),{previous:N}=(0,w.Hv)(),{checkExperiment:H}=(0,g.F)(),G=(0,l.TH)(),{isAuth:B}=(0,o.Z)(),{width:$=0}=(0,x.Z)()||{},U=(n?.visualObjects??[]).filter(e=>e.isStela),W=(n?.visualObjects??[]).filter(e=>!!e.label),V=U.length>0||W.length>0,Y=V&&(H("mweb_flashlight_show_more_stela_dots").anyEnabled||H("mweb_flashlight_show_more_stela_dots_expansion").anyEnabled?U:W)||[],q=Y.map(e=>{let{isStela:t,title:a,label:i,labelId:n,labelX:l,labelY:r,maxAnnotationNumDocuments:s,score:o,showOnCloseup:d,x:c,y:u,h:p,w:g}=e;return{is_stela:t??!1,title:a??"",label:i??"",label_id:n??"",label_x:l??0,label_y:r??0,max_annotation_num_documents:s??0,score:o??0,show_on_closeup:d??!1,x:c??0,y:u??0,h:p??0,w:g??0}}),[X,Q]=(0,_.useState)(A(q,e)),{isCropAreaOnDotArea:J,dotIndexToHide:ee}=X,et=e=>Z((0,ec.By)(e)),ea=e=>Z(ed(e)),ei=(0,f.useSelector)(e=>eA(e,r)),{data:en,fetchMore:el,isAtEnd:ep,isFetching:em,isLoaded:eh}=b||{},ey=en?.results||[],e_=ey.find(e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type),ef=ey.filter(e=>"pin"===e.type),ex=e_?.action,{url:ev=`/pin/${r}`,title:eb=""}=ex||{},eS=E._('Shop similar', 'mobileFlashlight.productUpsellTitle', 'Shop similar products from the image.'),ew=E._('Image search', 'mobileFlashlight.organicFeedTitle', 'Search results from the image.'),ek=E._('Visual search', 'Visual search results', 'Visual search results'),ej=i&&(4===t||J)?3462:3050,eI=JSON.stringify({is_product_only_feed:!1}),{closeupImageWidth:eE,modalTop:eD}=y.closeupImageDims,eR=n?.imageSpec_736x?.url??"",eL=$-60<eE&&i;function eM(){M({component:14339,element:179,event_type:102,view_parameter:ej,view_type:72})}function eZ(){if(0===N.length){z.replace(`/pin/${r}/`);return}z.goBack()}let[eO,eK]=(0,_.useState)(0),[ez,eN]=(0,_.useState)(0),[eH,eG]=(0,_.useState)(!1),[eB,e$]=(0,_.useState)(!1),[eU,eW]=(0,_.useState)(void 0);function eV(){e$(!1),eG(!1),eW(void 0)}function eY(e,t){"vertical"!==t&&e.stopPropagation()}let eq=!!n,eX=(0,_.useMemo)(()=>eF(n,a),[n?.entityId,a]);return((0,_.useEffect)(()=>{if(eq){let{closeupImageHeight:e,modalTop:t=0}=eX,a=eC(e,t,Number(s),Number(d));h(e=>({...e,closeupImageDims:eX,...a}))}},[eq,eX]),(0,_.useEffect)(()=>{(ei&&ei.length>0||i&&eh)&&F&&F.markConstraintComplete("VisualSearchFeedLoaded")}),(0,C.Z)(()=>{ea(t)}),(0,C.Z)(()=>{z.replace(`/pin/${r}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&cropSource=${t}`)}),n&&0!==eD)?(0,O.jsxs)(_.Fragment,{children:[(0,O.jsx)(k.Z,{unsafeCSS:eT}),(0,O.jsx)(D.Z,{auxData:i?{commerce_data:eI}:void 0,viewParameter:i?3462:3050,viewType:72,children:(0,O.jsx)(I.Z,{view:72,children:(0,O.jsxs)(P.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,O.jsx)(es.Z,{text:E._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,O.jsx)(c.xu,{color:"dark",height:"100vh",width:"100vw"}),(0,O.jsx)(er,{closeupImageDims:y.closeupImageDims,closeupImageUrl:eR,cropArea:e,handleBackClick:eZ,handleChangeCloseupImageTop:function(e){h(t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:t,visualObjects:a}){ea(t),et(r),Q(A(a,e)),m(t),h(t=>({...t,...e})),z.replace(`/pin/${r}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&cropSource=${t}`)},headerHeight:a,inUnifiedFeedExp:i,pinDominantColor:n.dominantColor||"#efefef",pinId:r,pinImageSignature:n.imageSignature,showBackButton:eL,viewParameter:ej,visualObjects:q,visualObjectToHide:ee}),!eL&&i&&(0,O.jsx)(K,{handleBackClick:eZ,viewParameter:ej,viewType:427}),(0,O.jsxs)(eP,{canMoveModal:!0,cropSource:t,entryPoint:"flashlight",headerHeight:a,heading:ek,inUnifiedFeedExp:i,isOpen:!0,location:G,maxDistanceFromTop:eD||0,minDistanceFromTop:B?60:a,mobileAccessibilityCloseIconLabel:E._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),mobileHideCloseIcon:i,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eZ,pinId:r,shouldSnapToEnds:!0,showHandle:i,snapToEndThreshold:.3,viewParameter:ej,viewType:72,children:[(0,O.jsx)(c.$j,{accessibilityLabel:E._('Loading visual search results', 'mobileFlashlightPage.loadingSpinner', 'Spinner for loading the visual search result'),show:i&&!eh}),i&&eh&&(0,O.jsxs)(_.Fragment,{children:[e_&&(0,O.jsxs)(_.Fragment,{children:[(0,O.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,O.jsx)(c.Tg,{href:ev,onTap:({event:e})=>{e.stopPropagation(),eM()},tapStyle:"compress",children:(0,O.jsx)(c.X6,{accessibilityLevel:2,size:"400",children:eS})}),(0,O.jsx)(c.I_,{accessibilityLabel:eb||E._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:ev,icon:"arrow-forward",iconColor:"darkGray",onClick:eM,size:"sm"})]}),(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},onTouchEnd:function(e){eY(e,eU),eV()},onTouchMove:function(e){let{clientX:t,clientY:a}=e.touches[0];Math.abs(a-ez)>10&&eG(!0),Math.abs(t-eO)>10&&e$(!0),eB&&eH?eW(e=>e||"vertical"):eB?eW(e=>e||"horizontal"):eH?eW(e=>e||"vertical"):eW(void 0),eY(e,eU)},onTouchStart:function(e){let{clientX:t,clientY:a}=e.touches[0];eK(t),eN(a),eV()},children:(0,O.jsx)(j.default,{component:14339,disableHeader:!0,story:e_,storyGraphqlRef:null,surface:"ShoppingDynamicHeightGrid",view:72,viewParameter:3462})})]}),(0,O.jsx)(c.xu,{marginBottom:3,paddingX:4,children:(0,O.jsx)(c.X6,{accessibilityLevel:2,size:"400",children:ew})}),(0,O.jsx)(c.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},paddingX:S.D6,children:(0,O.jsx)(eg.Z,{feedItems:ef,feedKey:(0,eu.J)("VisualSearchFlashlightUnifiedResource",u)??"",pagination:{loadNext:el||(()=>void 0),hasNext:!ep,isLoadingNext:em||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,O.jsx)(L.cn,{children:(0,O.jsx)(eo.ZP,{auxData:{commerce_data:eI},componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams||void 0,viewParameter:3462,viewType:72})})})})]}),!i&&(0,O.jsx)(c.xu,{color:"default",paddingX:S.D6,children:(0,O.jsx)(R.ZP,{feedItemProps:{viewParameter:3050,viewType:72},feedKey:(0,eu.J)("VisualLiveSearchResource",u)??"",resourceConfig:{name:"VisualLiveSearchResource",options:u},trafficSource:"flashlight"})})]})]})})})]}):null}function eD(e){let{searchResourceOptions:t}=e,a=(0,h.Z)({name:"VisualSearchFlashlightUnifiedResource",options:t});return(0,O.jsx)(eE,{...e,visualSearchFlashlightUnifiedResource:a})}let eR=void 0!==i?i:i=a(781426);function eL({pinKey:e}){let{checkExperiment:t}=(0,g.F)(),{anyEnabled:a}=t("mweb_flashlight_unified_feed"),i=(0,l.$B)(),{pinId:n}=(0,y.Z)(i.params.id||""),d=(0,l.TH)(),c=(0,r.mB)(d.search),{cropSource:u,x:p,y:m,h,w:f}=c,{isAuth:x}=(0,o.Z)(),v=(0,s.ZP)(),S=!x&&(0,F.x9)(v)||void 0,w=(0,b.Z)(eR,e),[k,P]=(0,_.useState)(()=>{let e=eF(w,S);e.closeupImageTop=0;let{closeupImageHeight:t,modalTop:a=0}=e,i=eC(t,a,Number(h),Number(m));return{closeupImageDims:e,x:p?Number(p):.1,w:f?Number(f):.8,y:i.y,h:i.h}}),[T,j]=(0,_.useState)(()=>{let e=(0,E.Z)(Number(u));return e||(p&&m&&h&&f?6:5)}),I={x:k.x,y:k.y,w:k.w,h:k.h},C={cropArea:I,cropSource:T,headerHeight:S,inUnifiedFeedExp:a,pin:w,pinId:n,queryH:h,queryY:m,searchResourceOptions:{pin_id:n,crop:I,crop_source:T,is_shopping:!1,entry_source:"flashlight",entrypoint:null},setCropSource:j,setState:P,state:k};return a?(0,O.jsx)(eD,{...C}):(0,O.jsx)(eE,{...C})}var eM=a(350118);let eZ=void 0!==n?n:n=a(43027);function eO(e){return{width:e.width??0,url:e.url??"",height:e.height??0}}function eK(e){return e?.map(e=>({id:e.itemId??"",additional_images:function(e){let t=[];return e.forEach(({additionalImages:e,spec:a})=>{t.push(...function({additionalImages:e,spec:t}){let a=[];return e?.forEach(e=>{e.canonicalImage&&a.push({canonical_images:{[t]:eO(e.canonicalImage)},image_signature:e.imageSignature??""})}),a}({additionalImages:e,spec:a})??[])}),t}([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}])??[]}))}function ez(e){let t={};return e.forEach(({image:e,spec:a})=>{e&&(t[a]=eO(e))}),t}let eN=(0,u.Z)({useGraphQLAdapter:function({pinId:e}){var t,a,i,n,l;let r=(0,d.useLazyLoadQuery)(eZ,{pinId:e}),s=r.v3GetPinQuery?.data;if(!s)return null;let o={id:s.entityId??"",dominant_color:s.dominantColor??"",image_signature:s.imageSignature??"",visual_objects:(t=s.visualObjects,t?.map(e=>({detection:e.detection??!1,h:e.h??0,index:e.index??0,is_stela:e.isStela??!1,label:e.label??"",label_id:e.labelId??"",label_x:e.labelX??0,label_y:e.labelY??0,max_annotation_num_documents:e.maxAnnotationNumDocuments??0,score:e.score??0,show_on_closeup:e.showOnCloseup??!1,w:e.x??0,x:e.w??0,y:e.y??0}))??[]),images:ez([{image:s.imageOrig,spec:"orig"},{image:s.image736x,spec:"736x"},{image:s.image564x,spec:"564x"},{image:s.image474x,spec:"474x"},{image:s.image236x,spec:"236x"}])??{},rich_metadata:(a=s.richMetadata,{products:eK(a?.products)??[]}),rich_summary:(i=s.richSummary,{products:eK(i?.products)??[]}),carousel_data:(n=s.carouselData,{carousel_slots:(l=n?.carouselSlots,l?.map(e=>({image_signature:e.imageSignature??"",images:ez([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}])??{}}))??[]),index:n?.index??0}),type:"pin"};return{pin:o}},useLegacyAdapter:function({pinId:e}){let{data:t}=(0,h.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),a=(0,eM.S6)()(e),i=t??a;return i?{pin:i}:null}});function eH(){let{checkExperiment:e}=(0,g.F)(),t=(0,p.ZP)(),a=(0,l.$B)(),{pinId:i}=(0,y.Z)(a.params.id||"");return(0,O.jsx)(eN,{input:e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,O.jsx)(c.$j,{accessibilityLabel:t._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,O.jsx)(m.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,O.jsx)(eL,{pinKey:null!=e.pin?{type:"deprecated",data:e.pin}:null})})})}var eG=a(272984),eB=a(594379),e$=a(215425),eU=a(23195);let eW=function(){let e=(0,s.HG)(),t=(0,o.Z)(),a=(0,l.TH)(),{surfaceType:i}=(0,r.mB)(a.search);return e?t.isAuth?["stela","stl"].includes(i)?(0,O.jsx)(e$.Z,{}):(0,O.jsx)(eB.ZP,{}):(0,O.jsx)(eG.Z,{}):a.pathname.includes("/products/")?(0,O.jsx)(eU.Z,{}):(0,O.jsx)(eH,{})}},585913:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg"},913574:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg"},49808:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_left-68937c82.svg"},957435:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg"},204942:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(383997);function n(e,t,a){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},601413:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(204942);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){(0,i.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}},383997:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=a(671002);function n(e){var t=function(e,t){if("object"!=(0,i.Z)(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=(0,i.Z)(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.Z)(t)?t:String(t)}},671002:(e,t,a)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.d(t,{Z:()=>i})}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,16550,26067,17492,79725,40432,16117,13254,8575,99961,90123,23019,56251,12854,60779,43203,16142,92929,15071,3399,203,18854],()=>t(269458)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-7f96c05cba498835.mjs.map